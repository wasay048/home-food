var Bs=Object.defineProperty;var qs=(e,t,r)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qt=(e,t,r)=>qs(e,typeof t!="symbol"?t+"":t,r);import{r as g,a as Ks,u as pn,b as et,c as zs,g as Gs,d as vr,e as Ws,L as Oe,N as Hs,O as Vs,R as Qs,f as le,h as Ys,B as Zs}from"./vendor-DMK3zXCm.js";import{r as vt,_ as wt,C as bt,a as Dt,E as gn,o as Js,F as yn,L as Xs,g as vn,i as wn,b as bn,v as xn,c as Pr,d as ei,e as kn,f as ti,h as Tr,j as ri,k as jn,l as ni,m as Ge,n as We,q as Q,p as Y,s as W,t as fe,w as De,u as si,x as ii,O as oi,y as ai,z as Or}from"./firebase-B6FcuLPv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Sn={exports:{}},At={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=g,ci=Symbol.for("react.element"),di=Symbol.for("react.fragment"),ui=Object.prototype.hasOwnProperty,fi=li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hi={key:!0,ref:!0,__self:!0,__source:!0};function Cn(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ui.call(t,n)&&!hi.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ci,type:e,key:i,ref:a,props:s,_owner:fi.current}}At.Fragment=di;At.jsx=Cn;At.jsxs=Cn;Sn.exports=At;var o=Sn.exports,Rn,_r=Ks;Rn=_r.createRoot,_r.hydrateRoot;var In={exports:{}},En={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=g;function mi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pi=typeof Object.is=="function"?Object.is:mi,gi=tt.useSyncExternalStore,yi=tt.useRef,vi=tt.useEffect,wi=tt.useMemo,bi=tt.useDebugValue;En.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=yi(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=wi(function(){function c(m){if(!d){if(d=!0,f=m,m=n(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return u=p}return u=m}if(p=u,pi(f,m))return p;var v=n(m);return s!==void 0&&s(p,v)?(f=m,p):(f=m,u=v)}var d=!1,f,u,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=gi(e,i[0],i[1]);return vi(function(){a.hasValue=!0,a.value=l},[l]),bi(l),l};In.exports=En;var xi=In.exports;function ki(e){e()}function ji(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ki(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $r={notify(){},get:()=>[]};function Si(e,t){let r,n=$r,s=0,i=!1;function a(v){f();const x=n.subscribe(v);let C=!1;return()=>{C||(C=!0,x(),u())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function f(){s++,r||(r=e.subscribe(c),n=ji())}function u(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=$r)}function h(){i||(i=!0,f())}function m(){i&&(i=!1,u())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Ci=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Ri=Ci(),Ii=()=>typeof navigator!="undefined"&&navigator.product==="ReactNative",Ei=Ii(),Di=()=>Ri||Ei?g.useLayoutEffect:g.useEffect,Ai=Di(),Kt=Symbol.for("react-redux-context"),zt=typeof globalThis!="undefined"?globalThis:{};function Ni(){var r;if(!g.createContext)return{};const e=(r=zt[Kt])!=null?r:zt[Kt]=new Map;let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var je=Ni();function Fi(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=Si(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),a=g.useMemo(()=>s.getState(),[s]);Ai(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=r||je;return g.createElement(l.Provider,{value:i},t)}var Pi=Fi;function wr(e=je){return function(){return g.useContext(e)}}var Dn=wr();function An(e=je){const t=e===je?Dn:wr(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Ti=An();function Oi(e=je){const t=e===je?Ti:An(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ke=Oi(),_i=(e,t)=>e===t;function $i(e=je){const t=e===je?Dn:wr(e),r=(n,s={})=>{const{equalityFn:i=_i}=typeof s=="function"?{equalityFn:s}:s,a=t(),{store:l,subscription:c,getServerState:d}=a;g.useRef(!0);const f=g.useCallback({[n.name](h){return n(h)}}[n.name],[n]),u=xi.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,f,i);return g.useDebugValue(u),u};return Object.assign(r,{withTypes:()=>r}),r}var de=$i();function at(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?at=function(r){return typeof r}:at=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},at(e)}function Li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ui(e,t,r){return t&&Mi(e.prototype,t),e}function Bi(e,t){return t&&(at(t)==="object"||typeof t=="function")?t:lt(e)}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},rr(e)}function lt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}function nr(e,t){return nr=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},nr(e,t)}function ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nn=function(e){qi(t,e);function t(){var r,n;Li(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=Bi(this,(r=rr(t)).call.apply(r,[this].concat(i))),ct(lt(n),"state",{bootstrapped:!1}),ct(lt(n),"_unsubscribe",void 0),ct(lt(n),"handlePersistorState",function(){var l=n.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return Ui(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(g.PureComponent);ct(Nn,"defaultProps",{children:null,loading:null});let Ki={data:""},zi=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ki,Gi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wi=/\/\*[^]*?\*\/|  +/g,Lr=/\n+/g,xe=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?xe(a,i):i+"{"+xe(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=xe(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=xe.p?xe.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},pe={},Fn=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Fn(e[r]);return t}return e},Hi=(e,t,r,n,s)=>{let i=Fn(e),a=pe[i]||(pe[i]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(i));if(!pe[a]){let c=i!==e?e:(d=>{let f,u,h=[{}];for(;f=Gi.exec(d.replace(Wi,""));)f[4]?h.shift():f[3]?(u=f[3].replace(Lr," ").trim(),h.unshift(h[0][u]=h[0][u]||{})):h[0][f[1]]=f[2].replace(Lr," ").trim();return h[0]})(e);pe[a]=xe(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&pe.g?pe.g:null;return r&&(pe.g=pe[a]),((c,d,f,u)=>{u?d.data=d.data.replace(u,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(pe[a],t,n,l),a},Vi=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":xe(l,""):l===!1?"":l}return n+s+(a==null?"":a)},"");function Nt(e){let t=this||{},r=e.call?e(t.p):e;return Hi(r.unshift?r.raw?Vi(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,zi(t.target),t.g,t.o,t.k)}let Pn,sr,ir;Nt.bind({g:1});let ve=Nt.bind({k:1});function Qi(e,t,r,n){xe.p=t,Pn=e,sr=r,ir=n}function Se(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:sr&&sr()},l),r.o=/ *go\d+/.test(c),l.className=Nt.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),ir&&d[0]&&ir(l),Pn(d,l)}return s}}var Yi=e=>typeof e=="function",xt=(e,t)=>Yi(e)?e(t):e,Zi=(()=>{let e=0;return()=>(++e).toString()})(),Tn=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ji=20,br="default",On=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return On(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},dt=[],_n={toasts:[],pausedAt:void 0,settings:{toastLimit:Ji}},he={},$n=(e,t=br)=>{he[t]=On(he[t]||_n,e),dt.forEach(([r,n])=>{r===t&&n(he[t])})},Ln=e=>Object.keys(he).forEach(t=>$n(e,t)),Xi=e=>Object.keys(he).find(t=>he[t].toasts.some(r=>r.id===e)),Ft=(e=br)=>t=>{$n(t,e)},eo={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},to=(e={},t=br)=>{let[r,n]=g.useState(he[t]||_n),s=g.useRef(he[t]);g.useEffect(()=>(s.current!==he[t]&&n(he[t]),dt.push([t,n]),()=>{let a=dt.findIndex(([l])=>l===t);a>-1&&dt.splice(a,1)}),[t]);let i=r.toasts.map(a=>{var l,c,d;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||eo[a.type],style:{...e.style,...(d=e[a.type])==null?void 0:d.style,...a.style}}});return{...r,toasts:i}},ro=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Zi()}),rt=e=>(t,r)=>{let n=ro(t,e,r);return Ft(n.toasterId||Xi(n.id))({type:2,toast:n}),n.id},H=(e,t)=>rt("blank")(e,t);H.error=rt("error");H.success=rt("success");H.loading=rt("loading");H.custom=rt("custom");H.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ft(t)(r):Ln(r)};H.dismissAll=e=>H.dismiss(void 0,e);H.remove=(e,t)=>{let r={type:4,toastId:e};t?Ft(t)(r):Ln(r)};H.removeAll=e=>H.remove(void 0,e);H.promise=(e,t,r)=>{let n=H.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?xt(t.success,s):void 0;return i?H.success(i,{id:n,...r,...r==null?void 0:r.success}):H.dismiss(n),s}).catch(s=>{let i=t.error?xt(t.error,s):void 0;i?H.error(i,{id:n,...r,...r==null?void 0:r.error}):H.dismiss(n)}),e};var no=1e3,so=(e,t="default")=>{let{toasts:r,pausedAt:n}=to(e,t),s=g.useRef(new Map).current,i=g.useCallback((u,h=no)=>{if(s.has(u))return;let m=setTimeout(()=>{s.delete(u),a({type:4,toastId:u})},h);s.set(u,m)},[]);g.useEffect(()=>{if(n)return;let u=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&H.dismiss(m.id);return}return setTimeout(()=>H.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let a=g.useCallback(Ft(t),[t]),l=g.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=g.useCallback((u,h)=>{a({type:1,toast:{id:u,height:h}})},[a]),d=g.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),f=g.useCallback((u,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:v}=h||{},x=r.filter(P=>(P.position||v)===(u.position||v)&&P.height),C=x.findIndex(P=>P.id===u.id),$=x.filter((P,y)=>y<C&&P.visible).length;return x.filter(P=>P.visible).slice(...m?[$+1]:[0,$]).reduce((P,y)=>P+(y.height||0)+p,0)},[r]);return g.useEffect(()=>{r.forEach(u=>{if(u.dismissed)i(u.id,u.removeDelay);else{let h=s.get(u.id);h&&(clearTimeout(h),s.delete(u.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:f}}},io=ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oo=ve`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ao=ve`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lo=Se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${io} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oo} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ao} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,co=ve`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,uo=Se("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${co} 1s linear infinite;
`,fo=ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ho=ve`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mo=Se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ho} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,po=Se("div")`
  position: absolute;
`,go=Se("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yo=ve`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vo=Se("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yo} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wo=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(vo,null,t):t:r==="blank"?null:g.createElement(go,null,g.createElement(uo,{...n}),r!=="loading"&&g.createElement(po,null,r==="error"?g.createElement(lo,{...n}):g.createElement(mo,{...n})))},bo=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xo=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ko="0%{opacity:0;} 100%{opacity:1;}",jo="0%{opacity:1;} 100%{opacity:0;}",So=Se("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Co=Se("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ro=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Tn()?[ko,jo]:[bo(r),xo(r)];return{animation:t?`${ve(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ve(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Io=g.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Ro(e.position||t||"top-center",e.visible):{opacity:0},i=g.createElement(wo,{toast:e}),a=g.createElement(Co,{...e.ariaProps},xt(e.message,e));return g.createElement(So,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):g.createElement(g.Fragment,null,i,a))});Qi(g.createElement);var Eo=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=g.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:i,className:t,style:r},s)},Do=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Tn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Ao=Nt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,st=16,No=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:d}=so(r,i);return g.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:st,left:st,right:st,bottom:st,pointerEvents:"none",...a},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let u=f.position||t,h=d.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:t}),m=Do(u,h);return g.createElement(Eo,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?Ao:"",style:m},f.type==="custom"?xt(f.message,f):s?s(f):g.createElement(Io,{toast:f,position:u}))}))},Ue=H;function Z(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fo=typeof Symbol=="function"&&Symbol.observable||"@@observable",Mr=Fo,Gt=()=>Math.random().toString(36).substring(7).split("").join("."),Po={INIT:`@@redux/INIT${Gt()}`,REPLACE:`@@redux/REPLACE${Gt()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gt()}`},kt=Po;function xr(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kr(e,t,r){if(typeof e!="function")throw new Error(Z(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Z(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(Z(1));return r(kr)(e,t)}let n=e,s=t,i=new Map,a=i,l=0,c=!1;function d(){a===i&&(a=new Map,i.forEach((x,C)=>{a.set(C,x)}))}function f(){if(c)throw new Error(Z(3));return s}function u(x){if(typeof x!="function")throw new Error(Z(4));if(c)throw new Error(Z(5));let C=!0;d();const $=l++;return a.set($,x),function(){if(C){if(c)throw new Error(Z(6));C=!1,d(),a.delete($),i=null}}}function h(x){if(!xr(x))throw new Error(Z(7));if(typeof x.type=="undefined")throw new Error(Z(8));if(typeof x.type!="string")throw new Error(Z(17));if(c)throw new Error(Z(9));try{c=!0,s=n(s,x)}finally{c=!1}return(i=a).forEach($=>{$()}),x}function m(x){if(typeof x!="function")throw new Error(Z(10));n=x,h({type:kt.REPLACE})}function p(){const x=u;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Z(11));function $(){const y=C;y.next&&y.next(f())}return $(),{unsubscribe:x($)}},[Mr](){return this}}}return h({type:kt.INIT}),{dispatch:h,subscribe:u,getState:f,replaceReducer:m,[Mr]:p}}function To(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:kt.INIT})=="undefined")throw new Error(Z(12));if(typeof r(void 0,{type:kt.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(Z(13))})}function Mn(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;try{To(r)}catch(i){s=i}return function(a={},l){if(s)throw s;let c=!1;const d={};for(let f=0;f<n.length;f++){const u=n[f],h=r[u],m=a[u],p=h(m,l);if(typeof p=="undefined")throw l&&l.type,new Error(Z(14));d[u]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?d:a}}function jt(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Oo(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Z(15))};const a={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(a));return i=jt(...l)(s.dispatch),{...s,dispatch:i}}}function _o(e){return xr(e)&&"type"in e&&typeof e.type=="string"}var Un=Symbol.for("immer-nothing"),Ur=Symbol.for("immer-draftable"),oe=Symbol.for("immer-state");function ue(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qe=Object.getPrototypeOf;function _e(e){return!!e&&!!e[oe]}function we(e){var t;return e?Bn(e)||Array.isArray(e)||!!e[Ur]||!!((t=e.constructor)!=null&&t[Ur])||Tt(e)||Ot(e):!1}var $o=Object.prototype.constructor.toString();function Bn(e){if(!e||typeof e!="object")return!1;const t=qe(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===$o}function St(e,t){Pt(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Pt(e){const t=e[oe];return t?t.type_:Array.isArray(e)?1:Tt(e)?2:Ot(e)?3:0}function or(e,t){return Pt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qn(e,t,r){const n=Pt(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Lo(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tt(e){return e instanceof Map}function Ot(e){return e instanceof Set}function Ie(e){return e.copy_||e.base_}function ar(e,t){if(Tt(e))return new Map(e);if(Ot(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Bn(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[oe];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(qe(e),n)}else{const n=qe(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function jr(e,t=!1){return _t(e)||_e(e)||!we(e)||(Pt(e)>1&&(e.set=e.add=e.clear=e.delete=Mo),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>jr(n,!0))),e}function Mo(){ue(2)}function _t(e){return Object.isFrozen(e)}var Uo={};function $e(e){const t=Uo[e];return t||ue(0,e),t}var Ye;function Kn(){return Ye}function Bo(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Br(e,t){t&&($e("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lr(e){cr(e),e.drafts_.forEach(qo),e.drafts_=null}function cr(e){e===Ye&&(Ye=e.parent_)}function qr(e){return Ye=Bo(Ye,e)}function qo(e){const t=e[oe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[oe].modified_&&(lr(t),ue(4)),we(e)&&(e=Ct(t,e),t.parent_||Rt(t,e)),t.patches_&&$e("Patches").generateReplacementPatches_(r[oe].base_,e,t.patches_,t.inversePatches_)):e=Ct(t,r,[]),lr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Un?e:void 0}function Ct(e,t,r){if(_t(t))return t;const n=t[oe];if(!n)return St(t,(s,i)=>zr(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Rt(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,a=!1;n.type_===3&&(i=new Set(s),s.clear(),a=!0),St(i,(l,c)=>zr(e,n,s,l,c,r,a)),Rt(e,s,!1),r&&e.patches_&&$e("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function zr(e,t,r,n,s,i,a){if(_e(s)){const l=i&&t&&t.type_!==3&&!or(t.assigned_,n)?i.concat(n):void 0,c=Ct(e,s,l);if(qn(r,n,c),_e(c))e.canAutoFreeze_=!1;else return}else a&&r.add(s);if(we(s)&&!_t(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ct(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Rt(e,s)}}function Rt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jr(t,r)}function Ko(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Kn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Sr;r&&(s=[n],i=Ze);const{revoke:a,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=a,l}var Sr={get(e,t){if(t===oe)return e;const r=Ie(e);if(!or(r,t))return zo(e,r,t);const n=r[t];return e.finalized_||!we(n)?n:n===Wt(e.base_,t)?(Ht(e),e.copy_[t]=ur(n,e)):n},has(e,t){return t in Ie(e)},ownKeys(e){return Reflect.ownKeys(Ie(e))},set(e,t,r){const n=zn(Ie(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Wt(Ie(e),t),i=s==null?void 0:s[oe];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Lo(r,s)&&(r!==void 0||or(e.base_,t)))return!0;Ht(e),dr(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wt(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ht(e),dr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ie(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ue(11)},getPrototypeOf(e){return qe(e.base_)},setPrototypeOf(){ue(12)}},Ze={};St(Sr,(e,t)=>{Ze[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ze.deleteProperty=function(e,t){return Ze.set.call(this,e,t,void 0)};Ze.set=function(e,t,r){return Sr.set.call(this,e[0],t,r,e[0])};function Wt(e,t){const r=e[oe];return(r?Ie(r):e)[t]}function zo(e,t,r){var s;const n=zn(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function zn(e,t){if(!(t in e))return;let r=qe(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=qe(r)}}function dr(e){e.modified_||(e.modified_=!0,e.parent_&&dr(e.parent_))}function Ht(e){e.copy_||(e.copy_=ar(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Go=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const a=this;return function(c=i,...d){return a.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&ue(6),n!==void 0&&typeof n!="function"&&ue(7);let s;if(we(t)){const i=qr(this),a=ur(t,void 0);let l=!0;try{s=r(a),l=!1}finally{l?lr(i):cr(i)}return Br(i,n),Kr(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===Un&&(s=void 0),this.autoFreeze_&&jr(s,!0),n){const i=[],a=[];$e("Patches").generateReplacementPatches_(t,s,i,a),n(i,a)}return s}else ue(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,s;return[this.produce(t,r,(a,l)=>{n=a,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){we(e)||ue(8),_e(e)&&(e=Wo(e));const t=qr(this),r=ur(e,void 0);return r[oe].isManual_=!0,cr(t),r}finishDraft(e,t){const r=e&&e[oe];(!r||!r.isManual_)&&ue(9);const{scope_:n}=r;return Br(n,t),Kr(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=$e("Patches").applyPatches_;return _e(e)?n(e,t):this.produce(e,s=>n(s,t))}};function ur(e,t){const r=Tt(e)?$e("MapSet").proxyMap_(e,t):Ot(e)?$e("MapSet").proxySet_(e,t):Ko(e,t);return(t?t.scope_:Kn()).drafts_.push(r),r}function Wo(e){return _e(e)||ue(10,e),Gn(e)}function Gn(e){if(!we(e)||_t(e))return e;const t=e[oe];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ar(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ar(e,!0);return St(r,(n,s)=>{qn(r,n,Gn(s))}),t&&(t.finalized_=!1),r}var ae=new Go,Wn=ae.produce;ae.produceWithPatches.bind(ae);ae.setAutoFreeze.bind(ae);ae.setUseStrictShallowCopy.bind(ae);ae.applyPatches.bind(ae);ae.createDraft.bind(ae);ae.finishDraft.bind(ae);function Hn(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Ho=Hn(),Vo=Hn,Qo=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jt:jt.apply(null,arguments)},Yo=e=>e&&typeof e.match=="function";function He(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ye(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_o(n)&&n.type===e,r}var Vn=class ze extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ze.prototype)}static get[Symbol.species](){return ze}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ze(...t[0].concat(this)):new ze(...t.concat(this))}};function Gr(e){return we(e)?Wn(e,()=>{}):e}function it(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Zo(e){return typeof e=="boolean"}var Jo=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t!=null?t:{};let a=new Vn;return r&&(Zo(r)?a.push(Ho):a.push(Vo(r.extraArgument))),a},Xo="RTK_autoBatch",Wr=e=>t=>{setTimeout(t,e)},ea=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:Wr(10):e.type==="callback"?e.queueNotification:Wr(e.timeout),d=()=>{a=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const u=()=>s&&f(),h=n.subscribe(u);return l.add(f),()=>{h(),l.delete(f)}},dispatch(f){var u;try{return s=!((u=f==null?void 0:f.meta)!=null&&u[Xo]),i=!s,i&&(a||(a=!0,c(d))),n.dispatch(f)}finally{s=!0}}})},ta=e=>function(r){const{autoBatch:n=!0}=r!=null?r:{};let s=new Vn(e);return n&&s.push(ea(typeof n=="object"?n:void 0)),s};function ra(e){const t=Jo(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(xr(r))l=Mn(r);else throw new Error(ye(1));let c;typeof n=="function"?c=n(t):c=t();let d=jt;s&&(d=Qo({trace:!1,...typeof s=="object"&&s}));const f=Oo(...c),u=ta(f);let h=typeof a=="function"?a(u):u();const m=d(...h);return kr(l,i,m)}function Qn(e){const t={},r=[];let n;const s={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ye(28));if(l in t)throw new Error(ye(29));return t[l]=a,s},addMatcher(i,a){return r.push({matcher:i,reducer:a}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function na(e){return typeof e=="function"}function sa(e,t){let[r,n,s]=Qn(t),i;if(na(e))i=()=>Gr(e());else{const l=Gr(e);i=()=>l}function a(l=i(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[s]),d.reduce((f,u)=>{if(u)if(_e(f)){const m=u(f,c);return m===void 0?f:m}else{if(we(f))return Wn(f,h=>u(h,c));{const h=u(f,c);if(h===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return f},l)}return a.getInitialState=i,a}var ia=(e,t)=>Yo(e)?e.match(t):e(t);function oa(...e){return t=>e.some(r=>ia(r,t))}var aa="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",la=(e=21)=>{let t="",r=e;for(;r--;)t+=aa[Math.random()*64|0];return t},ca=["name","message","stack","code"],Vt=class{constructor(e,t){qt(this,"_type");this.payload=e,this.meta=t}},Hr=class{constructor(e,t){qt(this,"_type");this.payload=e,this.meta=t}},da=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of ca)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Vr="External signal was aborted",G=(()=>{function e(t,r,n){const s=He(t+"/fulfilled",(c,d,f,u)=>({payload:c,meta:{...u||{},arg:f,requestId:d,requestStatus:"fulfilled"}})),i=He(t+"/pending",(c,d,f)=>({payload:void 0,meta:{...f||{},arg:d,requestId:c,requestStatus:"pending"}})),a=He(t+"/rejected",(c,d,f,u,h)=>({payload:u,error:(n&&n.serializeError||da)(c||"Rejected"),meta:{...h||{},arg:f,requestId:d,rejectedWithValue:!!u,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:d}={}){return(f,u,h)=>{const m=n!=null&&n.idGenerator?n.idGenerator(c):la(),p=new AbortController;let v,x;function C(P){x=P,p.abort()}d&&(d.aborted?C(Vr):d.addEventListener("abort",()=>C(Vr),{once:!0}));const $=async function(){var E,w;let P;try{let N=(E=n==null?void 0:n.condition)==null?void 0:E.call(n,c,{getState:u,extra:h});if(fa(N)&&(N=await N),N===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((k,I)=>{v=()=>{I({name:"AbortError",message:x||"Aborted"})},p.signal.addEventListener("abort",v)});f(i(m,c,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:m,arg:c},{getState:u,extra:h}))),P=await Promise.race([T,Promise.resolve(r(c,{dispatch:f,getState:u,extra:h,requestId:m,signal:p.signal,abort:C,rejectWithValue:(k,I)=>new Vt(k,I),fulfillWithValue:(k,I)=>new Hr(k,I)})).then(k=>{if(k instanceof Vt)throw k;return k instanceof Hr?s(k.payload,m,c,k.meta):s(k,m,c)})])}catch(N){P=N instanceof Vt?a(null,m,c,N.payload,N.meta):a(N,m,c)}finally{v&&p.signal.removeEventListener("abort",v)}return n&&!n.dispatchConditionRejection&&a.match(P)&&P.meta.condition||f(P),P}();return Object.assign($,{abort:C,requestId:m,arg:c,unwrap(){return $.then(ua)}})}}return Object.assign(l,{pending:i,rejected:a,fulfilled:s,settled:oa(a,s),typePrefix:t})}return e.withTypes=()=>e,e})();function ua(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function fa(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ha=Symbol.for("rtk-slice-createasyncthunk");function ma(e,t){return`${e}/${t}`}function pa({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ha];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(ye(11));const l=(typeof s.reducers=="function"?s.reducers(ya()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(y,E){const w=typeof y=="string"?y:y.type;if(!w)throw new Error(ye(12));if(w in d.sliceCaseReducersByType)throw new Error(ye(13));return d.sliceCaseReducersByType[w]=E,f},addMatcher(y,E){return d.sliceMatchers.push({matcher:y,reducer:E}),f},exposeAction(y,E){return d.actionCreators[y]=E,f},exposeCaseReducer(y,E){return d.sliceCaseReducersByName[y]=E,f}};c.forEach(y=>{const E=l[y],w={reducerName:y,type:ma(i,y),createNotation:typeof s.reducers=="function"};wa(E)?xa(w,E,f,t):va(w,E,f)});function u(){const[y={},E=[],w=void 0]=typeof s.extraReducers=="function"?Qn(s.extraReducers):[s.extraReducers],N={...y,...d.sliceCaseReducersByType};return sa(s.initialState,T=>{for(let k in N)T.addCase(k,N[k]);for(let k of d.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of E)T.addMatcher(k.matcher,k.reducer);w&&T.addDefaultCase(w)})}const h=y=>y,m=new Map,p=new WeakMap;let v;function x(y,E){return v||(v=u()),v(y,E)}function C(){return v||(v=u()),v.getInitialState()}function $(y,E=!1){function w(T){let k=T[y];return typeof k=="undefined"&&E&&(k=it(p,w,C)),k}function N(T=h){const k=it(m,E,()=>new WeakMap);return it(k,T,()=>{var F;const I={};for(const[U,ee]of Object.entries((F=s.selectors)!=null?F:{}))I[U]=ga(ee,T,()=>it(p,T,C),E);return I})}return{reducerPath:y,getSelectors:N,get selectors(){return N(w)},selectSlice:w}}const P={name:i,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...$(a),injectInto(y,{reducerPath:E,...w}={}){const N=E!=null?E:a;return y.inject({reducerPath:N,reducer:x},w),{...P,...$(N,!0)}}};return P}}function ga(e,t,r,n){function s(i,...a){let l=t(i);return typeof l=="undefined"&&n&&(l=r()),e(l,...a)}return s.unwrapped=e,s}var nt=pa();function ya(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function va({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!ba(n))throw new Error(ye(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?He(e,a):He(e))}function wa(e){return e._reducerDefinitionType==="asyncThunk"}function ba(e){return e._reducerDefinitionType==="reducerWithPrepare"}function xa({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ye(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=r,u=s(e,i,f);n.exposeAction(t,u),a&&n.addCase(u.fulfilled,a),l&&n.addCase(u.pending,l),c&&n.addCase(u.rejected,c),d&&n.addMatcher(u.settled,d),n.exposeCaseReducer(t,{fulfilled:a||ot,pending:l||ot,rejected:c||ot,settled:d||ot})}function ot(){}function ye(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Cr="persist:",Yn="persist/FLUSH",$t="persist/REHYDRATE",Zn="persist/PAUSE",Jn="persist/PERSIST",Xn="persist/PURGE",es="persist/REGISTER",ka=-1;function ut(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ut=function(r){return typeof r}:ut=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ut(e)}function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qr(r,!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ca(e,t,r,n){n.debug;var s=ja({},r);return e&&ut(e)==="object"&&Object.keys(e).forEach(function(i){i!=="_persist"&&t[i]===r[i]&&(s[i]=e[i])}),s}function Ra(e){var t=e.blacklist||null,r=e.whitelist||null,n=e.transforms||[],s=e.throttle||0,i="".concat(e.keyPrefix!==void 0?e.keyPrefix:Cr).concat(e.key),a=e.storage,l;e.serialize===!1?l=function(E){return E}:typeof e.serialize=="function"?l=e.serialize:l=Ia;var c=e.writeFailHandler||null,d={},f={},u=[],h=null,m=null,p=function(E){Object.keys(E).forEach(function(w){C(w)&&d[w]!==E[w]&&u.indexOf(w)===-1&&u.push(w)}),Object.keys(d).forEach(function(w){E[w]===void 0&&C(w)&&u.indexOf(w)===-1&&d[w]!==void 0&&u.push(w)}),h===null&&(h=setInterval(v,s)),d=E};function v(){if(u.length===0){h&&clearInterval(h),h=null;return}var y=u.shift(),E=n.reduce(function(w,N){return N.in(w,y,d)},d[y]);if(E!==void 0)try{f[y]=l(E)}catch(w){console.error("redux-persist/createPersistoid: error serializing state",w)}else delete f[y];u.length===0&&x()}function x(){Object.keys(f).forEach(function(y){d[y]===void 0&&delete f[y]}),m=a.setItem(i,l(f)).catch($)}function C(y){return!(r&&r.indexOf(y)===-1&&y!=="_persist"||t&&t.indexOf(y)!==-1)}function $(y){c&&c(y)}var P=function(){for(;u.length!==0;)v();return m||Promise.resolve()};return{update:p,flush:P}}function Ia(e){return JSON.stringify(e)}function Ea(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:Cr).concat(e.key),n=e.storage;e.debug;var s;return e.deserialize===!1?s=function(a){return a}:typeof e.deserialize=="function"?s=e.deserialize:s=Da,n.getItem(r).then(function(i){if(i)try{var a={},l=s(i);return Object.keys(l).forEach(function(c){a[c]=t.reduceRight(function(d,f){return f.out(d,c,l)},s(l[c]))}),a}catch(c){throw c}else return})}function Da(e){return JSON.parse(e)}function Aa(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:Cr).concat(e.key);return t.removeItem(r,Na)}function Na(e){}function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yr(r,!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pa(e,t){if(e==null)return{};var r=Ta(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ta(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Oa=5e3;function fr(e,t){var r=e.version!==void 0?e.version:ka;e.debug;var n=e.stateReconciler===void 0?Ca:e.stateReconciler,s=e.getStoredState||Ea,i=e.timeout!==void 0?e.timeout:Oa,a=null,l=!1,c=!0,d=function(u){return u._persist.rehydrated&&a&&!c&&a.update(u),u};return function(f,u){var h=f||{},m=h._persist,p=Pa(h,["_persist"]),v=p;if(u.type===Jn){var x=!1,C=function(T,k){x||(u.rehydrate(e.key,T,k),x=!0)};if(i&&setTimeout(function(){!x&&C(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},i),c=!1,a||(a=Ra(e)),m)return ge({},t(v,u),{_persist:m});if(typeof u.rehydrate!="function"||typeof u.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return u.register(e.key),s(e).then(function(N){var T=e.migrate||function(k,I){return Promise.resolve(k)};T(N,r).then(function(k){C(k)},function(k){C(void 0,k)})},function(N){C(void 0,N)}),ge({},t(v,u),{_persist:{version:r,rehydrated:!1}})}else{if(u.type===Xn)return l=!0,u.result(Aa(e)),ge({},t(v,u),{_persist:m});if(u.type===Yn)return u.result(a&&a.flush()),ge({},t(v,u),{_persist:m});if(u.type===Zn)c=!0;else if(u.type===$t){if(l)return ge({},v,{_persist:ge({},m,{rehydrated:!0})});if(u.key===e.key){var $=t(v,u),P=u.payload,y=n!==!1&&P!==void 0?n(P,f,$,e):$,E=ge({},y,{_persist:ge({},m,{rehydrated:!0})});return d(E)}}}if(!m)return t(f,u);var w=t(v,u);return w===v?f:d(ge({},w,{_persist:m}))}}function Zr(e){return La(e)||$a(e)||_a()}function _a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function $a(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function La(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jr(r,!0).forEach(function(n){Ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ts={registry:[],bootstrapped:!1},Ua=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ts,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case es:return hr({},t,{registry:[].concat(Zr(t.registry),[r.key])});case $t:var n=t.registry.indexOf(r.key),s=Zr(t.registry);return s.splice(n,1),hr({},t,{registry:s,bootstrapped:s.length===0});default:return t}};function Ba(e,t,r){var n=kr(Ua,ts,void 0),s=function(c){n.dispatch({type:es,key:c})},i=function(c,d,f){var u={type:$t,payload:d,err:f,key:c};e.dispatch(u),n.dispatch(u)},a=hr({},n,{purge:function(){var c=[];return e.dispatch({type:Xn,result:function(f){c.push(f)}}),Promise.all(c)},flush:function(){var c=[];return e.dispatch({type:Yn,result:function(f){c.push(f)}}),Promise.all(c)},pause:function(){e.dispatch({type:Zn})},persist:function(){e.dispatch({type:Jn,register:s,rehydrate:i})}});return a.persist(),a}var Rr={},Ir={};Ir.__esModule=!0;Ir.default=za;function ft(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ft=function(r){return typeof r}:ft=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ft(e)}function Qt(){}var qa={getItem:Qt,setItem:Qt,removeItem:Qt};function Ka(e){if((typeof self=="undefined"?"undefined":ft(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(n){return!1}return!0}function za(e){var t="".concat(e,"Storage");return Ka(t)?self[t]:qa}Rr.__esModule=!0;Rr.default=Ha;var Ga=Wa(Ir);function Wa(e){return e&&e.__esModule?e:{default:e}}function Ha(e){var t=(0,Ga.default)(e);return{getItem:function(n){return new Promise(function(s,i){s(t.getItem(n))})},setItem:function(n,s){return new Promise(function(i,a){i(t.setItem(n,s))})},removeItem:function(n){return new Promise(function(s,i){s(t.removeItem(n))})}}}var Lt=void 0,Va=Qa(Rr);function Qa(e){return e&&e.__esModule?e:{default:e}}var Ya=(0,Va.default)("local");Lt=Ya;const mr={id:"dummy-user-001",name:"John Doe",email:"john.doe@example.com",avatar:"https://via.placeholder.com/150",phone:"+1234567890",isAuthenticated:!0,authMethod:"dummy",wechatOpenId:null,preferences:{language:"en",currency:"USD",notifications:!0},addresses:[{id:"addr-001",type:"home",address:"123 Main St, San Francisco, CA",isDefault:!0}],createdAt:new Date().toISOString()},Yt=G("auth/authenticateWithWeChat",async(e,{rejectWithValue:t})=>{try{return console.log("WeChat authentication code:",e),await new Promise(r=>setTimeout(r,1e3)),{...mr,authMethod:"wechat",wechatOpenId:`wechat_${e}_dummy`}}catch(r){return t(r.message)}}),Za=G("auth/logout",async(e,{rejectWithValue:t,dispatch:r})=>{try{return console.log("User logged out"),{clearData:!0}}catch(n){return t(n.message)}}),Ja=G("auth/generateWeChatAuthUrl",async(e,{rejectWithValue:t})=>{try{const r="YOUR_WECHAT_APP_ID",n=encodeURIComponent(window.location.origin+"/wechat/callback"),s=Math.random().toString(36).substring(7);return`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${r}&redirect_uri=${n}&response_type=code&scope=snsapi_userinfo&state=${s}#wechat_redirect`}catch(r){return t(r.message)}}),rs=nt({name:"auth",initialState:{user:mr,isAuthenticated:!0,loading:!1,error:null,wechatAuthUrl:null,isDevelopmentMode:!0},reducers:{clearError:e=>{e.error=null},updateUserProfile:(e,t)=>{e.user&&(e.user={...e.user,...t.payload})},setWeChatAuthUrl:(e,t)=>{e.wechatAuthUrl=t.payload},toggleDummyAuth:e=>{e.isAuthenticated?(e.user=null,e.isAuthenticated=!1,console.log("Logged out dummy user")):(e.user=mr,e.isAuthenticated=!0,console.log("Logged in dummy user"))},clearAllData:e=>{e.user=null,e.isAuthenticated=!1,e.loading=!1,e.error=null,e.wechatAuthUrl=null,e.isDevelopmentMode=!1},setProductionMode:e=>{var t;e.isDevelopmentMode=!1,((t=e.user)==null?void 0:t.authMethod)==="dummy"&&(e.user=null,e.isAuthenticated=!1)}},extraReducers:e=>{e.addCase(Yt.pending,t=>{t.loading=!0,t.error=null}).addCase(Yt.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload,t.isAuthenticated=!0,t.error=null,t.isDevelopmentMode=!1}).addCase(Yt.rejected,(t,r)=>{t.loading=!1,t.error=r.payload,t.isAuthenticated=!1}).addCase(Za.fulfilled,t=>{t.user=null,t.isAuthenticated=!1,t.loading=!1,t.error=null,t.wechatAuthUrl=null}).addCase(Ja.fulfilled,(t,r)=>{t.wechatAuthUrl=r.payload})}}),{clearError:Ad,updateUserProfile:Nd,setWeChatAuthUrl:Fd,toggleDummyAuth:Xa,setProductionMode:Pd,clearAllData:el}=rs.actions,tl=rs.reducer,ns="@firebase/installations",Er="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=1e4,is=`w:${Er}`,os="FIS_v2",rl="https://firebaseinstallations.googleapis.com/v1",nl=60*60*1e3,sl="installations",il="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Le=new gn(sl,il,ol);function as(e){return e instanceof yn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls({projectId:e}){return`${rl}/projects/${e}/installations`}function cs(e){return{token:e.token,requestStatus:2,expiresIn:ll(e.expiresIn),creationTime:Date.now()}}async function ds(e,t){const n=(await t.json()).error;return Le.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function us({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function al(e,{refreshToken:t}){const r=us(e);return r.append("Authorization",cl(t)),r}async function fs(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ll(e){return Number(e.replace("s","000"))}function cl(e){return`${os} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=ls(e),s=us(e),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:r,authVersion:os,appId:e.appId,sdkVersion:is},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await fs(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:cs(d.authToken)}}else throw await ds("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=/^[cdef][\w-]{21}$/,pr="";function hl(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=ml(e);return fl.test(r)?r:pr}catch(e){return pr}}function ml(e){return ul(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Map;function ps(e,t){const r=Mt(e);gs(r,t),pl(r,t)}function gs(e,t){const r=ms.get(e);if(r)for(const n of r)n(t)}function pl(e,t){const r=gl();r&&r.postMessage({key:e,fid:t}),yl()}let Ae=null;function gl(){return!Ae&&"BroadcastChannel"in self&&(Ae=new BroadcastChannel("[Firebase] FID Change"),Ae.onmessage=e=>{gs(e.data.key,e.data.fid)}),Ae}function yl(){ms.size===0&&Ae&&(Ae.close(),Ae=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="firebase-installations-database",wl=1,Me="firebase-installations-store";let Zt=null;function Dr(){return Zt||(Zt=Js(vl,wl,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Me)}}})),Zt}async function It(e,t){const r=Mt(e),s=(await Dr()).transaction(Me,"readwrite"),i=s.objectStore(Me),a=await i.get(r);return await i.put(t,r),await s.done,(!a||a.fid!==t.fid)&&ps(e,t.fid),t}async function ys(e){const t=Mt(e),n=(await Dr()).transaction(Me,"readwrite");await n.objectStore(Me).delete(t),await n.done}async function Ut(e,t){const r=Mt(e),s=(await Dr()).transaction(Me,"readwrite"),i=s.objectStore(Me),a=await i.get(r),l=t(a);return l===void 0?await i.delete(r):await i.put(l,r),await s.done,l&&(!a||a.fid!==l.fid)&&ps(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ar(e){let t;const r=await Ut(e.appConfig,n=>{const s=bl(n),i=xl(e,s);return t=i.registrationPromise,i.installationEntry});return r.fid===pr?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function bl(e){const t=e||{fid:hl(),registrationStatus:0};return vs(t)}function xl(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Le.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=kl(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:jl(e)}:{installationEntry:t}}async function kl(e,t){try{const r=await dl(e,t);return It(e.appConfig,r)}catch(r){throw as(r)&&r.customData.serverCode===409?await ys(e.appConfig):await It(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function jl(e){let t=await Xr(e.appConfig);for(;t.registrationStatus===1;)await hs(100),t=await Xr(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ar(e);return n||r}return t}function Xr(e){return Ut(e,t=>{if(!t)throw Le.create("installation-not-found");return vs(t)})}function vs(e){return Sl(e)?{fid:e.fid,registrationStatus:0}:e}function Sl(e){return e.registrationStatus===1&&e.registrationTime+ss<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl({appConfig:e,heartbeatServiceProvider:t},r){const n=Rl(e,r),s=al(e,r),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:is,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await fs(()=>fetch(n,l));if(c.ok){const d=await c.json();return cs(d)}else throw await ds("Generate Auth Token",c)}function Rl(e,{fid:t}){return`${ls(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nr(e,t=!1){let r;const n=await Ut(e.appConfig,i=>{if(!ws(i))throw Le.create("not-registered");const a=i.authToken;if(!t&&Dl(a))return i;if(a.requestStatus===1)return r=Il(e,t),i;{if(!navigator.onLine)throw Le.create("app-offline");const l=Nl(i);return r=El(e,l),l}});return r?await r:n.authToken}async function Il(e,t){let r=await en(e.appConfig);for(;r.authToken.requestStatus===1;)await hs(100),r=await en(e.appConfig);const n=r.authToken;return n.requestStatus===0?Nr(e,t):n}function en(e){return Ut(e,t=>{if(!ws(t))throw Le.create("not-registered");const r=t.authToken;return Fl(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function El(e,t){try{const r=await Cl(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await It(e.appConfig,n),r}catch(r){if(as(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await ys(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await It(e.appConfig,n)}throw r}}function ws(e){return e!==void 0&&e.registrationStatus===2}function Dl(e){return e.requestStatus===2&&!Al(e)}function Al(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+nl}function Nl(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Fl(e){return e.requestStatus===1&&e.requestTime+ss<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(e){const t=e,{installationEntry:r,registrationPromise:n}=await Ar(t);return n?n.catch(console.error):Nr(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(e,t=!1){const r=e;return await Ol(r),(await Nr(r,t)).token}async function Ol(e){const{registrationPromise:t}=await Ar(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){if(!e||!e.options)throw Jt("App Configuration");if(!e.name)throw Jt("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Jt(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Jt(e){return Le.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="installations",$l="installations-internal",Ll=e=>{const t=e.getProvider("app").getImmediate(),r=_l(t),n=Dt(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Ml=e=>{const t=e.getProvider("app").getImmediate(),r=Dt(t,bs).getImmediate();return{getId:()=>Pl(r),getToken:s=>Tl(r,s)}};function Ul(){wt(new bt(bs,Ll,"PUBLIC")),wt(new bt($l,Ml,"PRIVATE"))}Ul();vt(ns,Er);vt(ns,Er,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="analytics",Bl="firebase_id",ql="origin",Kl=60*1e3,zl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fr="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=new Xs("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ie=new gn("analytics","Analytics",Gl);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e){if(!e.startsWith(Fr)){const t=ie.create("invalid-gtag-resource",{gtagURL:e});return re.warn(t.message),""}return e}function xs(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function Hl(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function Vl(e,t){const r=Hl("firebase-js-sdk-policy",{createScriptURL:Wl}),n=document.createElement("script"),s=`${Fr}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function Ql(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Yl(e,t,r,n,s,i){const a=n[s];try{if(a)await t[a];else{const c=(await xs(r)).find(d=>d.measurementId===s);c&&await t[c.appId]}}catch(l){re.error(l)}e("config",s,i)}async function Zl(e,t,r,n,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await xs(r);for(const c of a){const d=l.find(u=>u.measurementId===c),f=d&&t[d.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,s||{})}catch(i){re.error(i)}}function Jl(e,t,r,n){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await Zl(e,t,r,l,c)}else if(i==="config"){const[l,c]=a;await Yl(e,t,r,n,l,c)}else if(i==="consent"){const[l,c]=a;e("consent",l,c)}else if(i==="get"){const[l,c,d]=a;e("get",l,c,d)}else if(i==="set"){const[l]=a;e("set",l)}else e(i,...a)}catch(l){re.error(l)}}return s}function Xl(e,t,r,n,s){let i=function(...a){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Jl(i,e,t,r),{gtagCore:i,wrappedGtag:window[s]}}function ec(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Fr)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=30,rc=1e3;class nc{constructor(t={},r=rc){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const ks=new nc;function sc(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ic(e){var t;const{appId:r,apiKey:n}=e,s={method:"GET",headers:sc(n)},i=zl.replace("{app-id}",r),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message)}catch(c){}throw ie.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function oc(e,t=ks,r){const{appId:n,apiKey:s,measurementId:i}=e.options;if(!n)throw ie.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw ie.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new cc;return setTimeout(async()=>{l.abort()},Kl),js({appId:n,apiKey:s,measurementId:i},a,l,t)}async function js(e,{throttleEndTimeMillis:t,backoffCount:r},n,s=ks){var i;const{appId:a,measurementId:l}=e;try{await ac(n,t)}catch(c){if(l)return re.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await ic(e);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!lc(d)){if(s.deleteThrottleMetadata(a),l)return re.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:l};throw c}const f=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Pr(r,s.intervalMillis,tc):Pr(r,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+f,backoffCount:r+1};return s.setThrottleMetadata(a,u),re.debug(`Calling attemptFetch again in ${f} millis`),js(e,u,n,s)}}function ac(e,t){return new Promise((r,n)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(r,s);e.addEventListener(()=>{clearTimeout(i),n(ie.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function lc(e){if(!(e instanceof yn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class cc{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function dc(e,t,r,n,s){if(s&&s.global){e("event",r,n);return}else{const i=await t,a=Object.assign(Object.assign({},n),{send_to:i});e("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(){if(bn())try{await xn()}catch(e){return re.warn(ie.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return re.warn(ie.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fc(e,t,r,n,s,i,a){var l;const c=oc(e);c.then(m=>{r[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&re.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>re.error(m)),t.push(c);const d=uc().then(m=>{if(m)return n.getId()}),[f,u]=await Promise.all([c,d]);ec(i)||Vl(i,f.measurementId),s("js",new Date);const h=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return h[ql]="firebase",h.update=!0,u!=null&&(h[Bl]=u),s("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t){this.app=t}_delete(){return delete Ve[this.app.options.appId],Promise.resolve()}}let Ve={},tn=[];const rn={};let Xt="dataLayer",mc="gtag",nn,Ss,sn=!1;function pc(){const e=[];if(wn()&&e.push("This is a browser extension environment."),kn()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=ie.create("invalid-analytics-context",{errorInfo:t});re.warn(r.message)}}function gc(e,t,r){pc();const n=e.options.appId;if(!n)throw ie.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)re.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ie.create("no-api-key");if(Ve[n]!=null)throw ie.create("already-exists",{id:n});if(!sn){Ql(Xt);const{wrappedGtag:i,gtagCore:a}=Xl(Ve,tn,rn,Xt,mc);Ss=i,nn=a,sn=!0}return Ve[n]=fc(e,tn,rn,t,nn,Xt,r),new hc(e)}function yc(e=ei()){e=vn(e);const t=Dt(e,Et);return t.isInitialized()?t.getImmediate():vc(e)}function vc(e,t={}){const r=Dt(e,Et);if(r.isInitialized()){const s=r.getImmediate();if(ti(t,r.getOptions()))return s;throw ie.create("already-initialized")}return r.initialize({options:t})}async function wc(){if(wn()||!kn()||!bn())return!1;try{return await xn()}catch(e){return!1}}function bc(e,t,r,n){e=vn(e),dc(Ss,Ve[e.app.options.appId],t,r,n).catch(s=>re.error(s))}const on="@firebase/analytics",an="0.10.8";function xc(){wt(new bt(Et,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return gc(n,s,r)},"PUBLIC")),wt(new bt("analytics-internal",e,"PRIVATE")),vt(on,an),vt(on,an,"esm2017");function e(t){try{const r=t.getProvider(Et).getImmediate();return{logEvent:(n,s,i)=>bc(r,n,s,i)}}catch(r){throw ie.create("interop-component-reg-failed",{reason:r})}}}xc();const gr={apiKey:"AIzaSyD1TjtSC-Mukd2EdNtiuQq-u3l3gdMP0dc",authDomain:"homefoods-16e56.firebaseapp.com",projectId:"homefoods-16e56",storageBucket:"homefoods-16e56.firebasestorage.app",messagingSenderId:"495709118320",appId:"1:495709118320:web:6fe3b7ec2b7c19d66cf9b5",measurementId:"G-6MR0ED1C3E"},kc=["apiKey","authDomain","projectId","appId"],J=kc.some(e=>!gr[e]);let Be,z,ln;J?Promise.resolve(null):(Be=Tr().length?Tr()[0]:ri(gr),jn(Be),z=ni(Be),gr.measurementId?wc().then(e=>e?(ln=yc(Be),ln):null):Promise.resolve(null));async function jc(e,t=null,r=20){if(console.log(`[getFoodReviews] Starting fetch for foodId: "${e}", kitchenId: "${t}", limit: ${r}`),J)return console.warn("[getFoodReviews] Firebase disabled, returning mock data"),un(e);if(!e||e.trim()==="")return console.log("[getFoodReviews] No foodId provided, returning empty array"),[];const n=e.trim();console.log(`[getFoodReviews] Cleaned foodId: "${n}"`);try{let s=[];if(t){console.log(`[getFoodReviews] Searching reviews in kitchen: ${t}`);const i=Y(z,"kitchens",t,"reviews"),a=Q(i,De("foodId","==",n),fe(r));s=(await W(a)).docs.map(c=>({id:c.id,kitchenId:t,...c.data()})),console.log(`[getFoodReviews] Found ${s.length} reviews in kitchen ${t}`)}else{console.log("[getFoodReviews] Searching reviews across all kitchens...");const i=Q(Y(z,"kitchens")),a=await W(i);console.log(`[getFoodReviews] Found ${a.size} kitchens to search`);for(const l of a.docs)try{const c=Y(z,"kitchens",l.id,"reviews"),d=Q(c,De("foodId","==",n),fe(r)),u=(await W(d)).docs.map(h=>({id:h.id,kitchenId:l.id,...h.data()}));if(s.push(...u),console.log(`[getFoodReviews] Found ${u.length} reviews in kitchen ${l.id}`),s.length>=r)break}catch(c){console.warn(`[getFoodReviews] Error searching kitchen ${l.id}:`,c);continue}}return s.length>0&&(s=s.sort((i,a)=>{const l=f=>f?typeof f=="string"?f.includes(" at ")?new Date(f.replace(" at "," ").replace(" UTC+5","")):new Date(f):f.seconds?new Date(f.seconds*1e3):new Date(f):new Date(0),c=l(i.timeStamp);return l(a.timeStamp)-c}),s=s.slice(0,r)),console.log(`[getFoodReviews] Final result - Found ${s.length} reviews for food '${n}':`,s),s}catch(s){return console.error("[getFoodReviews] Error fetching food reviews:",s),console.log("[getFoodReviews] Returning mock data due to error"),un(n)}}async function Sc(e,t=null){if(console.log(`[debugReviewsQuery] Testing query for foodId: ${e}, kitchenId: ${t}`),J)return console.warn("[debugReviewsQuery] Firebase disabled"),{status:"disabled"};try{let r=[],n=[];const s=Q(Y(z,"kitchens")),i=await W(s);console.log(`[debugReviewsQuery] Found ${i.size} kitchens`);for(const l of i.docs)try{n.push(l.id);const c=Y(z,"kitchens",l.id,"reviews"),f=(await W(Q(c,fe(50)))).docs.map(u=>({id:u.id,kitchenId:l.id,...u.data()}));if(console.log(`[debugReviewsQuery] Kitchen ${l.id} has ${f.length} total reviews`),f.length>0&&console.log(`[debugReviewsQuery] Sample reviews from kitchen ${l.id}:`,f.slice(0,2)),e){const u=Q(c,De("foodId","==",e)),m=(await W(u)).docs.map(p=>({id:p.id,kitchenId:l.id,...p.data()}));m.length>0&&(console.log(`[debugReviewsQuery] Found ${m.length} reviews for foodId '${e}' in kitchen ${l.id}:`,m),r.push(...m))}r.push(...f)}catch(c){console.warn(`[debugReviewsQuery] Error checking kitchen ${l.id}:`,c);continue}const a=[...new Set(r.map(l=>l.foodId))];return console.log("[debugReviewsQuery] All unique foodIds in reviews:",a),{status:"success",requestedFoodId:e,kitchensSearched:n,allReviewsCount:r.length,matchingReviewsCount:r.filter(l=>l.foodId===e).length,uniqueFoodIds:a,sampleReviews:r.slice(0,5)}}catch(r){return console.error("[debugReviewsQuery] Error:",r),{status:"error",error:r.message}}}async function Cc(e,t=null){if(console.log(`[getFoodLikes] Starting fetch for foodId: ${e}, kitchenId: ${t}`),J)return console.warn("[getFoodLikes] Firebase disabled, returning mock data"),dn(e);if(!e||e.trim()==="")return console.log("[getFoodLikes] No foodId provided, returning empty array"),[];try{let r=[];if(t)try{console.log(`[getFoodLikes] Searching likes in kitchen ${t} subcollection`);const l=Y(z,"kitchens",t,"Likes");let c=Q(l,De("foodId","==",e)),d=await W(c),f=d.docs.map(u=>({id:u.id,kitchenId:t,...u.data()}));f.length===0&&(c=Q(l,De("productId","==",e)),d=await W(c),f=d.docs.map(u=>({id:u.id,kitchenId:t,...u.data()}))),r.push(...f),console.log(`[getFoodLikes] Found ${f.length} likes in kitchen subcollection`)}catch(l){console.warn("[getFoodLikes] Error searching kitchen subcollection:",l)}console.log("[getFoodLikes] Querying top-level Likes collection");let n=Q(Y(z,"Likes"),De("foodId","==",e)),s=await W(n),i=s.docs.map(l=>({id:l.id,...l.data()}));i.length===0&&(console.log("[getFoodLikes] No results with foodId, trying productId in top-level..."),n=Q(Y(z,"Likes"),De("productId","==",e)),s=await W(n),i=s.docs.map(l=>({id:l.id,...l.data()}))),r.push(...i),console.log(`[getFoodLikes] Found ${i.length} likes in top-level collection`);const a=r.filter((l,c,d)=>d.findIndex(f=>f.id===l.id)===c);return console.log(`[getFoodLikes] Total unique likes: ${a.length}`),a}catch(r){return console.error("[getFoodLikes] Error fetching food likes:",r),console.log("[getFoodLikes] Returning mock data due to error"),dn(e)}}async function Rc(){if(J)return console.log("Firebase is disabled - check your .env file"),{status:"disabled"};try{console.log("Testing Firestore connection...");const e=Y(z,"kitchens"),t=await W(Q(e,fe(5))),r=t.docs.map(d=>({id:d.id,...d.data()}));let n=[],s=[];for(const d of r)try{const f=Y(z,"kitchens",d.id,"reviews"),h=(await W(Q(f,fe(5)))).docs.map(x=>({id:x.id,kitchenId:d.id,...x.data()}));n.push(...h);const m=Y(z,"kitchens",d.id,"Likes"),v=(await W(Q(m,fe(5)))).docs.map(x=>({id:x.id,kitchenId:d.id,...x.data()}));s.push(...v),console.log(`Kitchen ${d.id}: ${h.length} reviews, ${v.length} likes`)}catch(f){console.warn(`Error testing kitchen ${d.id} subcollections:`,f)}const i=Y(z,"Likes"),l=(await W(Q(i,fe(10)))).docs.map(d=>({id:d.id,...d.data()}));console.log("Reviews found in kitchen subcollections:",n),console.log("Likes found in kitchen subcollections:",s),console.log("Likes found in top-level collection:",l);const c={status:"connected",collections:{kitchens:{count:t.size,samples:r,sampleIds:r.map(d=>d.id)},reviews:{source:"kitchen_subcollections",count:n.length,samples:n,sampleIds:n.map(d=>d.id),foodIds:n.map(d=>d.foodId)},likes:{subcollectionCount:s.length,topLevelCount:l.length,samples:[...s,...l],foodIds:[...s,...l].map(d=>d.foodId||d.productId)}}};return console.log("Firestore Test Results:",c),c}catch(e){return console.error("Firestore connection test failed:",e),{status:"error",error:e.message}}}async function Ic(e,t=null){console.log(`[getFoodDetailWithKitchenAndReviews] Fetching food: ${e}, kitchen: ${t}`);try{const r=await Cs(e,t),n=t||r.kitchenId;console.log(`[getFoodDetailWithKitchenAndReviews] Using kitchenId: ${n}`);const[s,i,a]=await Promise.all([n?Ec(n):Promise.resolve(null),Cc(e,n),jc(e,n)]),l=Rs(a);console.log(" ~ getFoodDetailWithKitchenAndReviews ~ reviewStats:",l);const c={food:r,kitchen:s,likes:i,reviews:a,totalLikes:i.length,reviewStats:l};return console.log("[getFoodDetailWithKitchenAndReviews] Complete result:",c),c}catch(r){throw console.error("[getFoodDetailWithKitchenAndReviews] Error fetching food detail:",r),r}}async function Cs(e,t=null){if(console.log(`[getFoodById] Starting fetch for foodId: ${e}, kitchenId: ${t}`),J)return console.warn("[getFoodById] Firebase disabled, returning mock data"),Ne(e);if(!e||e.trim()==="")throw console.error("[getFoodById] Invalid foodId provided:",e),new Error("Food ID is required and cannot be empty");try{let r,n=null,s=null;if(t&&(console.log(`[getFoodById] Querying kitchens/${t}/foodItems/${e}`),r=await Ge(We(z,"kitchens",t,"foodItems",e)),r.exists()))return n={id:r.id,...r.data()},s=t,console.log("[getFoodById] Found in specific kitchen subcollection:",n),{...n,kitchenId:s};if(!n){console.log("[getFoodById] Searching across all kitchen subcollections...");const i=Q(Y(z,"kitchens")),a=await W(i);for(const l of a.docs)try{const c=We(z,"kitchens",l.id,"foodItems",e),d=await Ge(c);if(d.exists())return n={id:d.id,...d.data()},s=l.id,console.log(`[getFoodById] Found in kitchen ${l.id}:`,n),{...n,kitchenId:s}}catch(c){console.warn(`[getFoodById] Error checking kitchen ${l.id}:`,c);continue}}if(console.log(`[getFoodById] Trying top-level foodItems/${e}`),r=await Ge(We(z,"foodItems",e)),r.exists()){const i={id:r.id,...r.data()};return console.log("[getFoodById] Found in top-level collection:",i),i}return console.warn(`[getFoodById] Food item with ID '${e}' not found anywhere`),Ne(e)}catch(r){return console.error("[getFoodById] Error fetching food item:",r),Ne(e)}}async function Ec(e){if(console.log(`[getKitchenById] Starting fetch for kitchenId: ${e}`),J)return console.warn("[getKitchenById] Firebase disabled, returning mock data"),Fe(e);if(!e||e.trim()==="")throw console.error("[getKitchenById] Invalid kitchenId provided:",e),new Error("Kitchen ID is required and cannot be empty");try{console.log(`[getKitchenById] Querying Firestore collection 'kitchens' for document: ${e}`);const t=await Ge(We(z,"kitchens",e));if(console.log(`[getKitchenById] Document exists: ${t.exists()}`),!t.exists())return console.warn(`[getKitchenById] Kitchen with ID '${e}' not found in Firestore`),console.log("[getKitchenById] Returning mock data as fallback"),Fe(e);const r={id:t.id,...t.data()};return console.log("[getKitchenById] Successfully fetched kitchen data:",r),r}catch(t){return console.error("[getKitchenById] Error fetching kitchen:",t),console.log("[getKitchenById] Returning mock data due to error"),Fe(e)}}function Rs(e){if(!e||e.length===0)return{totalReviews:0,averageRating:0,ratingBreakdown:{5:0,4:0,3:0,2:0,1:0},ratingPercentages:{5:0,4:0,3:0,2:0,1:0}};const t=e.length;console.log(" ~ calculateReviewStats ~ totalReviews:",t);const r={5:0,4:0,3:0,2:0,1:0};let n=0;e.forEach(a=>{const l=Math.floor(a.rating||0);l>=1&&l<=5&&(r[l]++,n+=a.rating)});const s=t>0?n/t:0,i={};for(let a=1;a<=5;a++)i[a]=t>0?r[a]/t*100:0;return{totalReviews:t,averageRating:parseFloat(s.toFixed(1)),ratingBreakdown:r,ratingPercentages:i}}async function Dc(e=20){if(console.log(`[getAllFoods] Starting fetch with limit: ${e}`),J)return Pe();try{const t=Q(Y(z,"foodItems"),fe(e)),n=(await W(t)).docs.map(s=>({id:s.id,...s.data()}));return n.length>0?n:Pe()}catch(t){return console.error("[getAllFoods] Error:",t),Pe()}}async function Is(e,t=1e3){if(console.log(`[getKitchenAllReviews] Fetching all reviews for kitchen: ${e}`),J)return console.warn("[getKitchenAllReviews] Firebase disabled, returning mock data"),cn(e);if(!e||e.trim()==="")return console.log("[getKitchenAllReviews] No kitchenId provided, returning empty array"),[];try{console.log(`[getKitchenAllReviews] Querying reviews subcollection for kitchen: ${e}`);const r=Y(z,"kitchens",e,"reviews"),n=Q(r,fe(t)),i=(await W(n)).docs.map(a=>({id:a.id,kitchenId:e,...a.data()}));return console.log(`[getKitchenAllReviews] Found ${i.length} total reviews for kitchen ${e}`),i.length>0&&i.sort((a,l)=>{const c=u=>u?typeof u=="string"?u.includes(" at ")?new Date(u.replace(" at "," ").replace(" UTC+5","")):new Date(u):u.seconds?new Date(u.seconds*1e3):new Date(u):new Date(0),d=c(a.timeStamp);return c(l.timeStamp)-d}),console.log(`[getKitchenAllReviews] Returning ${i.length} reviews for kitchen ${e}`),i}catch(r){return console.error("[getKitchenAllReviews] Error fetching kitchen reviews:",r),console.log("[getKitchenAllReviews] Returning mock data due to error"),cn(e)}}async function Ac(e){console.log(`[getKitchenReviewStats] Getting review stats for kitchen: ${e}`);try{const t=await Is(e),n={...Rs(t),kitchenId:e,reviewsList:t,uniqueFoodIds:[...new Set(t.map(s=>s.foodId).filter(Boolean))],lastUpdated:new Date().toISOString()};return console.log(`[getKitchenReviewStats] Kitchen ${e} stats:`,n),n}catch(t){return console.error("[getKitchenReviewStats] Error calculating kitchen stats:",t),{kitchenId:e,totalReviews:0,averageRating:0,ratingBreakdown:{5:0,4:0,3:0,2:0,1:0},ratingPercentages:{5:0,4:0,3:0,2:0,1:0},reviewsList:[],uniqueFoodIds:[],lastUpdated:new Date().toISOString(),error:t.message}}}function cn(e){return[{id:"kitchen-review-1",kitchenId:e,foodId:"food-1",userId:"user-1",userName:"Alice Johnson",userProfile:"",rating:5,message:"Amazing food from this kitchen! The Dim Sum was perfect.",timeStamp:"July 10, 2025 at 2:30:00 PM UTC+5",orderId:"order-1"},{id:"kitchen-review-2",kitchenId:e,foodId:"food-2",userId:"user-2",userName:"Bob Smith",userProfile:"",rating:4,message:"Great kitchen, fast delivery and tasty food.",timeStamp:"July 9, 2025 at 7:15:00 PM UTC+5",orderId:"order-2"},{id:"kitchen-review-3",kitchenId:e,foodId:"food-1",userId:"user-3",userName:"Carol Davis",userProfile:"",rating:5,message:"Best kitchen in the area! Highly recommend.",timeStamp:"July 8, 2025 at 12:45:00 PM UTC+5",orderId:"order-3"}]}function Ne(e){return{id:e,name:"Dim Sum (Dumplings)",description:"A timeless delicacy from Chinese cuisine, Dim Sum dumplings are handcrafted pockets of flavor, delicately wrapped in thin, translucent dough. Each dumpling is steamed to perfection, preserving the juicy, savory filling inside.",cost:150,foodCategory:"1, 2",foodType:"Chinese",imageUrl:"/src/assets/images/product.png",kitchenId:"mock-kitchen-1",kitchenName:"Resto Parmato Bapo",isFeatured:!0,availability:{numAvailable:15,numOfSoldItem:85},engagement:{numOfLike:127,rating:4.9,numRatings:1247,countRating:1247}}}function Fe(e){const t=new Date,r=new Date(t);r.setDate(t.getDate()+1);const n=new Date(t);n.setDate(t.getDate()+2);const s=i=>i.toISOString().split("T")[0];return{id:e,name:"Coco's Kitchen",address:"Lahore-Sialkot Motorway",city:"San Francisco",cuisine:"Thai",description:"This is the kitchen of James done. This is the kitchen of James done, This is the kitchen of James done.This is the kitchen of James done",ownerId:"mock-owner-1",location:{latitude:37.5485,longitude:-121.9886},rating:4.9,ratingCount:1247,preorderSchedule:{dates:{[s(r)]:[{id:"schedule-1",foodItemId:"food-3",nameOfFood:"Dim Sum (Dumplings)",availableTimes:["6:22 PM","7:30 PM"],numOfAvailableItems:10,isLimitedOrder:!1},{id:"schedule-2",foodItemId:"food-4",nameOfFood:"Margherita Pizza",availableTimes:["6:22 PM","8:00 PM"],numOfAvailableItems:8,isLimitedOrder:!1}],[s(n)]:[{id:"schedule-3",foodItemId:"food-3",nameOfFood:"Dim Sum (Dumplings)",availableTimes:["5:30 PM","7:00 PM"],numOfAvailableItems:12,isLimitedOrder:!1}]}}}}function Pe(){return[Ne("food-1"),{...Ne("food-2"),id:"food-2",name:"Margherita Pizza",cost:12.45,availability:{numAvailable:5,numOfSoldItem:2},imageUrl:"/src/assets/images/order2.png"},{...Ne("food-3"),id:"food-3",name:"Dim Sum (Dumplings)",cost:22.45,availability:{numAvailable:0,numOfSoldItem:15},imageUrl:"/src/assets/images/order1.png"},{...Ne("food-4"),id:"food-4",name:"Margherita Pizza (Pre-order)",cost:12.45,availability:{numAvailable:0,numOfSoldItem:8},imageUrl:"/src/assets/images/order2.png"}]}function dn(e){return[{id:"like-1",userID:"user-1",foodId:e,status:"liked",timestamp:"2025-08-01T10:00:00Z"},{id:"like-2",userID:"user-2",foodId:e,status:"liked",timestamp:"2025-08-02T15:30:00Z"}]}function un(e){return[{id:"review-1",foodId:e,userId:"z6HJ9L3KS3XR9yLZ9rexp7K4Eo43",userName:"Testing55",userProfile:"",rating:4,message:"Testing",timeStamp:"July 7, 2025 at 6:06:01 PM UTC+5",orderId:"PrH8qFuHeHDlpfAw6c9"},{id:"review-2",foodId:e,userId:"user-456",userName:"John Doe",userProfile:"",rating:5,message:"Great food, would definitely order again!",timeStamp:"2025-07-07T15:30:00Z",orderId:"order-456"},{id:"review-3",foodId:e,userId:"user-789",userName:"Jane Smith",userProfile:"",rating:5,message:"Perfect! Exceeded my expectations.",timeStamp:"2025-07-06T10:15:30Z",orderId:"order-789"}]}async function Nc(e){if(console.log(`[getKitchenWithFoodItems] Fetching kitchen: ${e}`),J)return console.warn("[getKitchenWithFoodItems] Firebase disabled, returning mock data"),{kitchen:Fe(e),foods:Pe()};try{const t=await Ge(We(z,"kitchens",e));if(!t.exists())return console.warn(`[getKitchenWithFoodItems] Kitchen ${e} not found`),{kitchen:null,foods:[]};const r={id:t.id,...t.data()},n=Y(z,"kitchens",e,"foodItems"),i=(await W(n)).docs.map(a=>({id:a.id,kitchenId:e,...a.data()}));return console.log(`[getKitchenWithFoodItems] Found ${i.length} food items for kitchen ${e}`),{kitchen:r,foods:i}}catch(t){return console.error("[getKitchenWithFoodItems] Error:",t),{kitchen:Fe(e),foods:Pe()}}}async function Fc(e=10){if(console.log(`[getAllKitchensWithFoodItems] Fetching up to ${e} kitchens`),J)return console.warn("[getAllKitchensWithFoodItems] Firebase disabled, returning mock data"),[{kitchen:Fe("mock-kitchen-1"),foods:Pe()}];try{const t=Q(Y(z,"kitchens"),fe(e)),r=await W(t),n=[];for(const s of r.docs){const i={id:s.id,...s.data()},a=Y(z,"kitchens",s.id,"foodItems"),c=(await W(a)).docs.map(d=>({id:d.id,kitchenId:s.id,...d.data()}));n.push({kitchen:i,foods:c}),console.log(`[getAllKitchensWithFoodItems] Kitchen ${s.id}: ${c.length} food items`)}return console.log(`[getAllKitchensWithFoodItems] Loaded ${n.length} kitchens with food data`),n}catch(t){return console.error("[getAllKitchensWithFoodItems] Error:",t),[{kitchen:Fe("mock-kitchen-1"),foods:Pe()}]}}const Qe=G("food/fetchDetail",async({foodId:e,kitchenId:t})=>{try{return{...await Ic(e,t),foodId:e,kitchenId:t}}catch(r){return{food:await Cs(e),kitchen:null,likes:[],reviews:[],reviewStats:null,foodId:e,kitchenId:t}}}),er=G("food/fetchAll",async(e=20)=>await Dc(e)),yr=G("food/toggleLike",async(e,{getState:t})=>{var a;const{auth:r,food:n}=t(),s=(a=r.user)==null?void 0:a.id;if(!s)throw new Error("User not authenticated");const i=n.likedFoods.includes(e);return console.log(`${i?"Unliking":"Liking"} food:`,{foodId:e,userId:s}),await new Promise(l=>setTimeout(l,300)),{foodId:e,userId:s,liked:!i}});G("food/refresh",async({foodId:e,kitchenId:t},{dispatch:r})=>r(Qe({foodId:e,kitchenId:t})));const Es=nt({name:"food",initialState:{currentFood:null,currentKitchen:null,currentReviews:[],currentReviewStats:null,currentLikes:[],allFoods:[],likedFoods:[],loading:!1,allFoodsLoading:!1,error:null,allFoodsError:null,lastUpdated:null,allFoodsLastUpdated:null},reducers:{clearCurrentFood:e=>{e.currentFood=null,e.currentKitchen=null,e.currentReviews=[],e.currentReviewStats=null,e.currentLikes=[],e.error=null},clearError:e=>{e.error=null},clearAllFoodsError:e=>{e.allFoodsError=null},updateFoodInList:(e,t)=>{var i;const{foodId:r,updates:n}=t.payload,s=e.allFoods.findIndex(a=>a.id===r);s!==-1&&(e.allFoods[s]={...e.allFoods[s],...n}),((i=e.currentFood)==null?void 0:i.id)===r&&(e.currentFood={...e.currentFood,...n})},toggleLikeLocally:(e,t)=>{const r=t.payload;e.likedFoods.includes(r)?e.likedFoods=e.likedFoods.filter(s=>s!==r):e.likedFoods.push(r)}},extraReducers:e=>{e.addCase(Qe.pending,t=>{t.loading=!0,t.error=null}).addCase(Qe.fulfilled,(t,r)=>{t.loading=!1;const{food:n,kitchen:s,likes:i,reviews:a,reviewStats:l}=r.payload;t.currentFood=n,t.currentKitchen=s,t.currentReviews=a||[],t.currentReviewStats=l,t.currentLikes=i||[],t.lastUpdated=new Date().toISOString()}).addCase(Qe.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message}).addCase(er.pending,t=>{t.allFoodsLoading=!0,t.allFoodsError=null}).addCase(er.fulfilled,(t,r)=>{t.allFoodsLoading=!1,t.allFoods=r.payload,t.allFoodsLastUpdated=new Date().toISOString()}).addCase(er.rejected,(t,r)=>{t.allFoodsLoading=!1,t.allFoodsError=r.error.message}).addCase(yr.fulfilled,(t,r)=>{const{foodId:n,liked:s}=r.payload;s&&!t.likedFoods.includes(n)?t.likedFoods.push(n):s||(t.likedFoods=t.likedFoods.filter(i=>i!==n))}).addCase(yr.rejected,(t,r)=>{const n=r.meta.arg;t.likedFoods.includes(n)?t.likedFoods=t.likedFoods.filter(i=>i!==n):t.likedFoods.push(n)})}}),{clearCurrentFood:Pc,clearError:Td,clearAllFoodsError:Od,updateFoodInList:_d,toggleLikeLocally:Tc}=Es.actions,Oc=Es.reducer,ke=G("cart/addToCart",async({foodId:e,kitchenId:t,quantity:r,selectedDate:n,orderType:s,food:i,specialInstructions:a},{getState:l})=>{var f;const{auth:c}=l(),d=(f=c.user)==null?void 0:f.id;if(!d)throw new Error("User not authenticated");return console.log("Adding to cart:",{foodId:e,kitchenId:t,quantity:r,selectedDate:n,orderType:s,specialInstructions:a,userId:d}),await new Promise(u=>setTimeout(u,500)),{id:`cart-item-${Date.now()}`,foodId:e,kitchenId:t,userId:d,quantity:r,selectedDate:n,orderType:s,specialInstructions:a||"",food:i||null,addedAt:new Date().toISOString()}}),Te=G("cart/removeFromCart",async(e,{getState:t})=>{var s;const{auth:r}=t(),n=(s=r.user)==null?void 0:s.id;if(!n)throw new Error("User not authenticated");return console.log("Removing from cart:",{cartItemId:e,userId:n}),await new Promise(i=>setTimeout(i,300)),e}),ht=G("cart/updateQuantity",async({cartItemId:e,quantity:t},{getState:r})=>{var i;const{auth:n}=r(),s=(i=n.user)==null?void 0:i.id;if(!s)throw new Error("User not authenticated");return console.log("Updating cart quantity:",{cartItemId:e,quantity:t,userId:s}),await new Promise(a=>setTimeout(a,300)),{cartItemId:e,quantity:t}}),_c=G("cart/fetchCart",async(e,{getState:t})=>{var s;const{auth:r}=t(),n=(s=r.user)==null?void 0:s.id;if(!n)throw new Error("User not authenticated");return console.log("Fetching cart for user:",n),[]}),Ee=nt({name:"cart",initialState:{items:[],totalItems:0,totalAmount:0,loading:!1,error:null,lastUpdated:null},reducers:{clearCart:e=>{e.items=[],e.totalItems=0,e.totalAmount=0,e.lastUpdated=new Date().toISOString()},clearError:e=>{e.error=null},calculateTotals:e=>{e.totalItems=e.items.reduce((t,r)=>t+r.quantity,0),e.totalAmount=e.items.reduce((t,r)=>{var s;const n=((s=r.food)==null?void 0:s.cost)||0;return t+parseFloat(n)*r.quantity},0),e.lastUpdated=new Date().toISOString()},addItemLocally:(e,t)=>{const{foodId:r,quantity:n,selectedDate:s}=t.payload,i=e.items.find(a=>a.foodId===r&&a.selectedDate===s);i?i.quantity+=n:e.items.push(t.payload),Ee.caseReducers.calculateTotals(e)}},extraReducers:e=>{e.addCase(ke.pending,t=>{t.loading=!0,t.error=null}).addCase(ke.fulfilled,(t,r)=>{t.loading=!1;const n=r.payload,s=t.items.find(i=>i.foodId===n.foodId&&i.selectedDate===n.selectedDate&&i.specialInstructions===n.specialInstructions);s?s.quantity+=n.quantity:t.items.push(n),Ee.caseReducers.calculateTotals(t)}).addCase(ke.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message}).addCase(Te.pending,t=>{t.loading=!0}).addCase(Te.fulfilled,(t,r)=>{t.loading=!1,t.items=t.items.filter(n=>n.id!==r.payload),Ee.caseReducers.calculateTotals(t)}).addCase(Te.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message}).addCase(ht.fulfilled,(t,r)=>{const{cartItemId:n,quantity:s}=r.payload,i=t.items.find(a=>a.id===n);i&&(i.quantity=s),Ee.caseReducers.calculateTotals(t)}).addCase(_c.fulfilled,(t,r)=>{t.items=r.payload,Ee.caseReducers.calculateTotals(t)}).addCase($t,(t,r)=>{var n;if((n=r.payload)!=null&&n.cart)return{...t,...r.payload.cart,loading:!1,error:null}})}}),{clearCart:Ds,clearError:$d,calculateTotals:Ld,addItemLocally:Md}=Ee.actions,$c=Ee.reducer,mt=G("kitchen/fetchStats",async e=>{try{const t=await Ac(e);return{kitchenId:e,stats:t}}catch(t){throw console.error("Error fetching kitchen stats:",t),t}}),pt=G("kitchen/fetchReviews",async({kitchenId:e,limit:t=10})=>{try{const r=await Is(e,t);return{kitchenId:e,reviews:r}}catch(r){throw console.error("Error fetching kitchen reviews:",r),r}}),Lc=G("kitchen/addReview",async({kitchenId:e,reviewData:t},{getState:r})=>{var l,c;const{auth:n}=r(),s=(l=n.user)==null?void 0:l.id,i=((c=n.user)==null?void 0:c.name)||"Anonymous";if(!s)throw new Error("User not authenticated");console.log("Adding kitchen review:",{kitchenId:e,reviewData:t,userId:s,userName:i}),await new Promise(d=>setTimeout(d,500));const a={id:`review-${Date.now()}`,userId:s,userName:i,rating:t.rating,comment:t.comment,timestamp:new Date().toISOString(),kitchenId:e};return{kitchenId:e,review:a}}),Mc=G("kitchen/updateReview",async({kitchenId:e,reviewId:t,updates:r},{getState:n})=>{var a;const{auth:s}=n(),i=(a=s.user)==null?void 0:a.id;if(!i)throw new Error("User not authenticated");return console.log("Updating kitchen review:",{kitchenId:e,reviewId:t,updates:r,userId:i}),await new Promise(l=>setTimeout(l,300)),{kitchenId:e,reviewId:t,updates:r}}),Uc=G("kitchen/deleteReview",async({kitchenId:e,reviewId:t},{getState:r})=>{var i;const{auth:n}=r(),s=(i=n.user)==null?void 0:i.id;if(!s)throw new Error("User not authenticated");return console.log("Deleting kitchen review:",{kitchenId:e,reviewId:t,userId:s}),await new Promise(a=>setTimeout(a,300)),{kitchenId:e,reviewId:t}}),As=nt({name:"kitchen",initialState:{kitchenStats:{},kitchenReviews:{},statsLoading:{},reviewsLoading:{},statsError:{},reviewsError:{},statsLastUpdated:{},reviewsLastUpdated:{}},reducers:{clearKitchenData:(e,t)=>{const r=t.payload;delete e.kitchenStats[r],delete e.kitchenReviews[r],delete e.statsLoading[r],delete e.reviewsLoading[r],delete e.statsError[r],delete e.reviewsError[r],delete e.statsLastUpdated[r],delete e.reviewsLastUpdated[r]},clearAllKitchenData:()=>({kitchenStats:{},kitchenReviews:{},statsLoading:{},reviewsLoading:{},statsError:{},reviewsError:{},statsLastUpdated:{},reviewsLastUpdated:{}}),clearKitchenErrors:(e,t)=>{const r=t.payload;delete e.statsError[r],delete e.reviewsError[r]}},extraReducers:e=>{e.addCase(mt.pending,(t,r)=>{const n=r.meta.arg;t.statsLoading[n]=!0,delete t.statsError[n]}).addCase(mt.fulfilled,(t,r)=>{const{kitchenId:n,stats:s}=r.payload;t.statsLoading[n]=!1,t.kitchenStats[n]=s,t.statsLastUpdated[n]=new Date().toISOString()}).addCase(mt.rejected,(t,r)=>{const n=r.meta.arg;t.statsLoading[n]=!1,t.statsError[n]=r.error.message}).addCase(pt.pending,(t,r)=>{const{kitchenId:n}=r.meta.arg;t.reviewsLoading[n]=!0,delete t.reviewsError[n]}).addCase(pt.fulfilled,(t,r)=>{const{kitchenId:n,reviews:s}=r.payload;t.reviewsLoading[n]=!1,t.kitchenReviews[n]=s,t.reviewsLastUpdated[n]=new Date().toISOString()}).addCase(pt.rejected,(t,r)=>{const{kitchenId:n}=r.meta.arg;t.reviewsLoading[n]=!1,t.reviewsError[n]=r.error.message}).addCase(Lc.fulfilled,(t,r)=>{const{kitchenId:n,review:s}=r.payload;if(t.kitchenReviews[n]||(t.kitchenReviews[n]=[]),t.kitchenReviews[n].unshift(s),t.kitchenStats[n]){const i=t.kitchenStats[n],a=i.totalReviews||0,l=(i.averageRating||0)*a,c=a+1,d=l+s.rating;t.kitchenStats[n]={...i,totalReviews:c,averageRating:d/c}}}).addCase(Mc.fulfilled,(t,r)=>{const{kitchenId:n,reviewId:s,updates:i}=r.payload;if(t.kitchenReviews[n]){const a=t.kitchenReviews[n].findIndex(l=>l.id===s);if(a!==-1){const l=t.kitchenReviews[n][a].rating;if(t.kitchenReviews[n][a]={...t.kitchenReviews[n][a],...i,updatedAt:new Date().toISOString()},i.rating&&i.rating!==l&&t.kitchenStats[n]){const c=t.kitchenStats[n],d=c.totalReviews||0,u=(c.averageRating||0)*d-l+i.rating;t.kitchenStats[n]={...c,averageRating:u/d}}}}}).addCase(Uc.fulfilled,(t,r)=>{const{kitchenId:n,reviewId:s}=r.payload;if(t.kitchenReviews[n]){const i=t.kitchenReviews[n].findIndex(a=>a.id===s);if(i!==-1){const a=t.kitchenReviews[n][i].rating;if(t.kitchenReviews[n].splice(i,1),t.kitchenStats[n]){const l=t.kitchenStats[n],c=l.totalReviews||0;if(c>1){const d=(l.averageRating||0)*c,f=c-1,u=d-a;t.kitchenStats[n]={...l,totalReviews:f,averageRating:u/f}}else t.kitchenStats[n]={...l,totalReviews:0,averageRating:0}}}}})}}),{clearKitchenData:Ud,clearAllKitchenData:Bd,clearKitchenErrors:qd}=As.actions,Bc=As.reducer,gt=G("reviews/fetchFoodReviews",async({foodId:e,kitchenId:t,limit:r=10})=>{try{console.log("Fetching food reviews:",{foodId:e,kitchenId:t,limit:r}),await new Promise(s=>setTimeout(s,300));const n=[{id:`review-1-${e}`,userId:"user-001",userName:"Alice Chen",rating:5,comment:"Absolutely delicious! Perfect taste and portion size.",timestamp:new Date(Date.now()-864e5).toISOString(),foodId:e,kitchenId:t,verified:!0},{id:`review-2-${e}`,userId:"user-002",userName:"Bob Wilson",rating:4,comment:"Great food, fast delivery. Will order again!",timestamp:new Date(Date.now()-1728e5).toISOString(),foodId:e,kitchenId:t,verified:!0},{id:`review-3-${e}`,userId:"user-003",userName:"Carol Davis",rating:5,comment:"Outstanding quality! Fresh ingredients and amazing flavors.",timestamp:new Date(Date.now()-2592e5).toISOString(),foodId:e,kitchenId:t,verified:!0}].slice(0,r);return{foodId:e,kitchenId:t,reviews:n}}catch(n){throw console.error("Error fetching food reviews:",n),n}}),yt=G("reviews/addFoodReview",async({foodId:e,kitchenId:t,reviewData:r},{getState:n})=>{var c,d;const{auth:s}=n(),i=(c=s.user)==null?void 0:c.id,a=((d=s.user)==null?void 0:d.name)||"Anonymous";if(!i)throw new Error("User not authenticated");console.log("Adding food review:",{foodId:e,kitchenId:t,reviewData:r,userId:i,userName:a}),await new Promise(f=>setTimeout(f,500));const l={id:`review-${Date.now()}`,userId:i,userName:a,rating:r.rating,comment:r.comment,timestamp:new Date().toISOString(),foodId:e,kitchenId:t,verified:!0};return{foodId:e,kitchenId:t,review:l}}),qc=G("reviews/updateFoodReview",async({foodId:e,kitchenId:t,reviewId:r,updates:n},{getState:s})=>{var l;const{auth:i}=s(),a=(l=i.user)==null?void 0:l.id;if(!a)throw new Error("User not authenticated");return console.log("Updating food review:",{foodId:e,kitchenId:t,reviewId:r,updates:n,userId:a}),await new Promise(c=>setTimeout(c,300)),{foodId:e,kitchenId:t,reviewId:r,updates:n}}),Kc=G("reviews/deleteFoodReview",async({foodId:e,kitchenId:t,reviewId:r},{getState:n})=>{var a;const{auth:s}=n(),i=(a=s.user)==null?void 0:a.id;if(!i)throw new Error("User not authenticated");return console.log("Deleting food review:",{foodId:e,kitchenId:t,reviewId:r,userId:i}),await new Promise(l=>setTimeout(l,300)),{foodId:e,kitchenId:t,reviewId:r}}),tr=G("reviews/fetchUserReviews",async({limit:e=20},{getState:t})=>{var i;const{auth:r}=t(),n=(i=r.user)==null?void 0:i.id;if(!n)throw new Error("User not authenticated");return console.log("Fetching user reviews:",{userId:n,limit:e}),await new Promise(a=>setTimeout(a,300)),[{id:"user-review-1",userId:n,userName:r.user.name,rating:5,comment:"Loved this dish! Perfect for dinner.",timestamp:new Date(Date.now()-864e5).toISOString(),foodId:"food-001",foodName:"Kung Pao Chicken",kitchenId:"kitchen-001",kitchenName:"Mary's Kitchen",verified:!0},{id:"user-review-2",userId:n,userName:r.user.name,rating:4,comment:"Good value for money. Quick delivery.",timestamp:new Date(Date.now()-1728e5).toISOString(),foodId:"food-002",foodName:"Beef Noodle Soup",kitchenId:"kitchen-002",kitchenName:"Tom's Noodles",verified:!0}]}),Ns=nt({name:"reviews",initialState:{foodReviews:{},userReviews:[],foodReviewsLoading:{},userReviewsLoading:!1,foodReviewsError:{},userReviewsError:null,foodReviewsLastUpdated:{},userReviewsLastUpdated:null,submissionLoading:!1,submissionError:null},reducers:{clearFoodReviews:(e,t)=>{const r=t.payload;delete e.foodReviews[r],delete e.foodReviewsLoading[r],delete e.foodReviewsError[r],delete e.foodReviewsLastUpdated[r]},clearAllReviews:e=>{e.foodReviews={},e.userReviews=[],e.foodReviewsLoading={},e.userReviewsLoading=!1,e.foodReviewsError={},e.userReviewsError=null,e.foodReviewsLastUpdated={},e.userReviewsLastUpdated=null},clearReviewErrors:(e,t)=>{if(t.payload){const r=t.payload;delete e.foodReviewsError[r]}else e.foodReviewsError={},e.userReviewsError=null,e.submissionError=null},clearSubmissionError:e=>{e.submissionError=null}},extraReducers:e=>{e.addCase(gt.pending,(t,r)=>{const{foodId:n}=r.meta.arg;t.foodReviewsLoading[n]=!0,delete t.foodReviewsError[n]}).addCase(gt.fulfilled,(t,r)=>{const{foodId:n,reviews:s}=r.payload;t.foodReviewsLoading[n]=!1,t.foodReviews[n]=s,t.foodReviewsLastUpdated[n]=new Date().toISOString()}).addCase(gt.rejected,(t,r)=>{const{foodId:n}=r.meta.arg;t.foodReviewsLoading[n]=!1,t.foodReviewsError[n]=r.error.message}).addCase(yt.pending,t=>{t.submissionLoading=!0,t.submissionError=null}).addCase(yt.fulfilled,(t,r)=>{t.submissionLoading=!1;const{foodId:n,review:s}=r.payload;t.foodReviews[n]||(t.foodReviews[n]=[]),t.foodReviews[n].unshift(s),t.userReviews.unshift({...s,foodName:"Unknown Food",kitchenName:"Unknown Kitchen"})}).addCase(yt.rejected,(t,r)=>{t.submissionLoading=!1,t.submissionError=r.error.message}).addCase(qc.fulfilled,(t,r)=>{const{foodId:n,reviewId:s,updates:i}=r.payload;if(t.foodReviews[n]){const l=t.foodReviews[n].findIndex(c=>c.id===s);l!==-1&&(t.foodReviews[n][l]={...t.foodReviews[n][l],...i,updatedAt:new Date().toISOString()})}const a=t.userReviews.findIndex(l=>l.id===s);a!==-1&&(t.userReviews[a]={...t.userReviews[a],...i,updatedAt:new Date().toISOString()})}).addCase(Kc.fulfilled,(t,r)=>{const{foodId:n,reviewId:s}=r.payload;t.foodReviews[n]&&(t.foodReviews[n]=t.foodReviews[n].filter(i=>i.id!==s)),t.userReviews=t.userReviews.filter(i=>i.id!==s)}).addCase(tr.pending,t=>{t.userReviewsLoading=!0,t.userReviewsError=null}).addCase(tr.fulfilled,(t,r)=>{t.userReviewsLoading=!1,t.userReviews=r.payload,t.userReviewsLastUpdated=new Date().toISOString()}).addCase(tr.rejected,(t,r)=>{t.userReviewsLoading=!1,t.userReviewsError=r.error.message})}}),{clearFoodReviews:Kd,clearAllReviews:zd,clearReviewErrors:Gd,clearSubmissionError:Wd}=Ns.actions,zc=Ns.reducer,Gc={key:"root",storage:Lt,whitelist:["auth","cart"],blacklist:["food","kitchen","reviews"]},Wc={key:"auth",storage:Lt,whitelist:["user","isAuthenticated","isDevelopmentMode"],blacklist:["loading","error","wechatAuthUrl"]},Hc={key:"cart",storage:Lt,whitelist:["items","totalItems","totalAmount"],blacklist:["loading","error"]},Vc=Mn({auth:fr(Wc,tl),food:Oc,cart:fr(Hc,$c),kitchen:Bc,reviews:zc}),Qc=fr(Gc,Vc),Fs=ra({reducer:Qc,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),Ps=Ba(Fs),Ts=G("app/performCompleteLogout",async(e,{dispatch:t})=>{try{return console.log(" Starting complete logout process..."),t(el()),t(Ds()),await Ps.purge(),localStorage.removeItem("persist:root"),localStorage.removeItem("persist:auth"),localStorage.removeItem("persist:cart"),sessionStorage.clear(),console.log(" Complete logout successful"),{success:!0}}catch(r){throw console.error(" Logout error:",r),r}}),Os=g.createContext(null),te=Be?jn(Be):null;function Yc({children:e}){const[t,r]=g.useState(null),[n,s]=g.useState(!0),i=Ke();g.useEffect(()=>{if(J||!te){s(!1);return}const u=si(te,h=>{r(h||null),s(!1)});return()=>u()},[te]);const a=g.useCallback(async()=>{if(J||!te){console.info("Auth disabled: anonymous sign-in skipped");return}await ii(te)},[te]),l=g.useCallback(()=>{const u="your_wechat_app_id",h=encodeURIComponent("https://your.domain.com/wechat/callback"),m="snsapi_userinfo",p="we_"+Math.random().toString(36).slice(2);window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${u}&redirect_uri=${h}&response_type=code&scope=${m}&state=${p}#wechat_redirect`},[]),c=g.useCallback(async u=>{console.log("WeChat code obtained:",u);const m=new oi("wechat").credential({accessToken:"placeholder_access_token"});!J&&te?await ai(te,m).catch(p=>{console.warn("WeChat credential sign-in failed (expected in placeholder):",p.message)}):console.info("Auth disabled: skipping credential sign-in (placeholder)")},[te]),d=g.useCallback(async()=>{try{!J&&te&&await Or(te),await i(Ts()).unwrap(),console.log(" Complete logout successful")}catch(u){console.error(" Logout error:",u),!J&&te&&await Or(te)}},[te,i]),f={user:t,initializing:n,authDisabled:J,signInAnonymously:a,signInWithWeChatPopup:l,handleWeChatCallback:c,signOut:d};return o.jsx(Os.Provider,{value:f,children:e})}function Bt(){const e=g.useContext(Os);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Zc(){const{user:e,signOut:t,authDisabled:r}=Bt();return o.jsxs("div",{className:"container py-3",children:[o.jsxs("h1",{className:"h4 mb-3",children:["Welcome ",(e==null?void 0:e.displayName)||"User"]}),o.jsx("p",{className:"text-secondary small mb-4",children:"This is a mobile-first boilerplate."}),r&&o.jsx("div",{className:"alert alert-warning p-2 small",role:"alert",children:"Firebase auth disabled (placeholder config). Add real env values to enable."}),o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:t,children:"Sign out"})]})}const Jc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3ccircle%20cx='9'%20cy='10'%20r='1'/%3e%3ccircle%20cx='15'%20cy='10'%20r='1'/%3e%3cpath%20d='M5%2015c-1.143-1.012-2-2.547-2-4.25C3%207.798%205.91%205%209.5%205s6.5%202.798%206.5%205.75S13.09%2016.5%209.5%2016.5c-.517%200-1.02-.057-1.5-.165L5%2018l.8-2.4'/%3e%3cpath%20d='M16.5%208.5c2.485%200%204.5%201.79%204.5%204s-2.015%204-4.5%204c-.275%200-.544-.02-.805-.06L14%2018l.6-1.8'/%3e%3c/svg%3e";function Xc(){const{signInWithWeChatPopup:e,signInAnonymously:t}=Bt();return o.jsxs("div",{className:"container py-5",children:[o.jsx("h1",{className:"h5 mb-4 text-center",children:"Sign In"}),o.jsxs("div",{className:"d-grid gap-3",children:[o.jsxs("button",{className:"btn btn-success d-flex align-items-center justify-content-center gap-2",onClick:e,children:[o.jsx("img",{src:Jc,alt:"WeChat",style:{width:20,height:20}}),o.jsx("span",{children:"Continue with WeChat"})]}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:t,children:"Continue as Guest"})]})]})}function ed(){const[e]=pn(),t=et(),{handleWeChatCallback:r}=Bt();return g.useEffect(()=>{const n=e.get("code");n&&r(n).then(()=>t("/",{replace:!0}))},[e,r,t]),o.jsx("div",{className:"d-flex vh-100 align-items-center justify-content-center",children:"Authorizing..."})}var _s={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zs,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",d="day",f="week",u="month",h="quarter",m="year",p="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var S=["th","st","nd","rd"],b=O%100;return"["+O+(S[(b-20)%10]||S[b]||S[0])+"]"}},P=function(O,S,b){var A=String(O);return!A||A.length>=S?O:""+Array(S+1-A.length).join(b)+O},y={s:P,z:function(O){var S=-O.utcOffset(),b=Math.abs(S),A=Math.floor(b/60),R=b%60;return(S<=0?"+":"-")+P(A,2,"0")+":"+P(R,2,"0")},m:function O(S,b){if(S.date()<b.date())return-O(b,S);var A=12*(b.year()-S.year())+(b.month()-S.month()),R=S.clone().add(A,u),_=b-R<0,D=S.clone().add(A+(_?-1:1),u);return+(-(A+(b-R)/(_?R-D:D-R))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:u,y:m,w:f,d,D:p,h:c,m:l,s:a,ms:i,Q:h}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},E="en",w={};w[E]=$;var N="$isDayjsObject",T=function(O){return O instanceof U||!(!O||!O[N])},k=function O(S,b,A){var R;if(!S)return E;if(typeof S=="string"){var _=S.toLowerCase();w[_]&&(R=_),b&&(w[_]=b,R=_);var D=S.split("-");if(!R&&D.length>1)return O(D[0])}else{var j=S.name;w[j]=S,R=j}return!A&&R&&(E=R),R||!A&&E},I=function(O,S){if(T(O))return O.clone();var b=typeof S=="object"?S:{};return b.date=O,b.args=arguments,new U(b)},F=y;F.l=k,F.i=T,F.w=function(O,S){return I(O,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var U=function(){function O(b){this.$L=k(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[N]=!0}var S=O.prototype;return S.parse=function(b){this.$d=function(A){var R=A.date,_=A.utc;if(R===null)return new Date(NaN);if(F.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var D=R.match(x);if(D){var j=D[2]-1||0,L=(D[7]||"0").substring(0,3);return _?new Date(Date.UTC(D[1],j,D[3]||1,D[4]||0,D[5]||0,D[6]||0,L)):new Date(D[1],j,D[3]||1,D[4]||0,D[5]||0,D[6]||0,L)}}return new Date(R)}(b),this.init()},S.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},S.$utils=function(){return F},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(b,A){var R=I(b);return this.startOf(A)<=R&&R<=this.endOf(A)},S.isAfter=function(b,A){return I(b)<this.startOf(A)},S.isBefore=function(b,A){return this.endOf(A)<I(b)},S.$g=function(b,A,R){return F.u(b)?this[A]:this.set(R,b)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(b,A){var R=this,_=!!F.u(A)||A,D=F.p(b),j=function(B,q){var se=F.w(R.$u?Date.UTC(R.$y,q,B):new Date(R.$y,q,B),R);return _?se:se.endOf(d)},L=function(B,q){return F.w(R.toDate()[B].apply(R.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(q)),R)},K=this.$W,V=this.$M,ne=this.$D,Ce="set"+(this.$u?"UTC":"");switch(D){case m:return _?j(1,0):j(31,11);case u:return _?j(1,V):j(0,V+1);case f:var be=this.$locale().weekStart||0,M=(K<be?K+7:K)-be;return j(_?ne-M:ne+(6-M),V);case d:case p:return L(Ce+"Hours",0);case c:return L(Ce+"Minutes",1);case l:return L(Ce+"Seconds",2);case a:return L(Ce+"Milliseconds",3);default:return this.clone()}},S.endOf=function(b){return this.startOf(b,!1)},S.$set=function(b,A){var R,_=F.p(b),D="set"+(this.$u?"UTC":""),j=(R={},R[d]=D+"Date",R[p]=D+"Date",R[u]=D+"Month",R[m]=D+"FullYear",R[c]=D+"Hours",R[l]=D+"Minutes",R[a]=D+"Seconds",R[i]=D+"Milliseconds",R)[_],L=_===d?this.$D+(A-this.$W):A;if(_===u||_===m){var K=this.clone().set(p,1);K.$d[j](L),K.init(),this.$d=K.set(p,Math.min(this.$D,K.daysInMonth())).$d}else j&&this.$d[j](L);return this.init(),this},S.set=function(b,A){return this.clone().$set(b,A)},S.get=function(b){return this[F.p(b)]()},S.add=function(b,A){var R,_=this;b=Number(b);var D=F.p(A),j=function(V){var ne=I(_);return F.w(ne.date(ne.date()+Math.round(V*b)),_)};if(D===u)return this.set(u,this.$M+b);if(D===m)return this.set(m,this.$y+b);if(D===d)return j(1);if(D===f)return j(7);var L=(R={},R[l]=n,R[c]=s,R[a]=r,R)[D]||1,K=this.$d.getTime()+b*L;return F.w(K,this)},S.subtract=function(b,A){return this.add(-1*b,A)},S.format=function(b){var A=this,R=this.$locale();if(!this.isValid())return R.invalidDate||v;var _=b||"YYYY-MM-DDTHH:mm:ssZ",D=F.z(this),j=this.$H,L=this.$m,K=this.$M,V=R.weekdays,ne=R.months,Ce=R.meridiem,be=function(q,se,Re,me){return q&&(q[se]||q(A,_))||Re[se].slice(0,me)},M=function(q){return F.s(j%12||12,q,"0")},B=Ce||function(q,se,Re){var me=q<12?"AM":"PM";return Re?me.toLowerCase():me};return _.replace(C,function(q,se){return se||function(Re){switch(Re){case"YY":return String(A.$y).slice(-2);case"YYYY":return F.s(A.$y,4,"0");case"M":return K+1;case"MM":return F.s(K+1,2,"0");case"MMM":return be(R.monthsShort,K,ne,3);case"MMMM":return be(ne,K);case"D":return A.$D;case"DD":return F.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return be(R.weekdaysMin,A.$W,V,2);case"ddd":return be(R.weekdaysShort,A.$W,V,3);case"dddd":return V[A.$W];case"H":return String(j);case"HH":return F.s(j,2,"0");case"h":return M(1);case"hh":return M(2);case"a":return B(j,L,!0);case"A":return B(j,L,!1);case"m":return String(L);case"mm":return F.s(L,2,"0");case"s":return String(A.$s);case"ss":return F.s(A.$s,2,"0");case"SSS":return F.s(A.$ms,3,"0");case"Z":return D}return null}(q)||D.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(b,A,R){var _,D=this,j=F.p(A),L=I(b),K=(L.utcOffset()-this.utcOffset())*n,V=this-L,ne=function(){return F.m(D,L)};switch(j){case m:_=ne()/12;break;case u:_=ne();break;case h:_=ne()/3;break;case f:_=(V-K)/6048e5;break;case d:_=(V-K)/864e5;break;case c:_=V/s;break;case l:_=V/n;break;case a:_=V/r;break;default:_=V}return R?_:F.a(_)},S.daysInMonth=function(){return this.endOf(u).$D},S.$locale=function(){return w[this.$L]},S.locale=function(b,A){if(!b)return this.$L;var R=this.clone(),_=k(b,A,!0);return _&&(R.$L=_),R},S.clone=function(){return F.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},O}(),ee=U.prototype;return I.prototype=ee,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",d],["$M",u],["$y",m],["$D",p]].forEach(function(O){ee[O[1]]=function(S){return this.$g(S,O[0],O[1])}}),I.extend=function(O,S){return O.$i||(O(S,U,I),O.$i=!0),I},I.locale=k,I.isDayjs=T,I.unix=function(O){return I(1e3*O)},I.en=w[E],I.Ls=w,I.p={},I})})(_s);var td=_s.exports;const ce=Gs(td);function rd(e){const[t,r]=g.useState(null),[n,s]=g.useState([]),[i,a]=g.useState(!0),[l,c]=g.useState(null);return g.useEffect(()=>{async function d(){if(!e){a(!1);return}console.log(`[useKitchenWithFoods] Fetching kitchen: ${e}`);try{a(!0),c(null);const{kitchen:f,foods:u}=await Nc(e);r(f),s(u),console.log(`[useKitchenWithFoods] Loaded kitchen with ${u.length} foods`)}catch(f){console.error("[useKitchenWithFoods] Error:",f),c(f.message)}finally{a(!1)}}d()},[e]),{kitchen:t,foods:n,loading:i,error:l,hasData:!!t&&n.length>0}}function nd(e=10){const[t,r]=g.useState([]),[n,s]=g.useState(!0),[i,a]=g.useState(null);g.useEffect(()=>{async function d(){console.log(`[useAllKitchensWithFoods] Fetching up to ${e} kitchens`);try{s(!0),a(null);const f=await Fc(e);r(f);const u=f.reduce((h,m)=>h+m.foods.length,0);console.log(`[useAllKitchensWithFoods] Loaded ${f.length} kitchens with ${u} total foods`)}catch(f){console.error("[useAllKitchensWithFoods] Error:",f),a(f.message)}finally{s(!1)}}d()},[e]);const l=t.reduce((d,f)=>[...d,...f.foods],[]),c=t.length>0?t[0].kitchen:null;return{kitchensData:t,allFoods:l,primaryKitchen:c,loading:n,error:i,hasData:t.length>0,totalKitchens:t.length,totalFoods:l.length}}const X={success:(e,t={})=>Ue.success(e,{icon:"",duration:3e3,style:{background:"#F0FDF4",color:"#15803D",border:"1px solid #22C55E",borderRadius:"12px",padding:"16px"},...t}),error:(e,t={})=>Ue.error(e,{icon:"",duration:4e3,style:{background:"#FEF2F2",color:"#DC2626",border:"1px solid #EF4444",borderRadius:"12px",padding:"16px"},...t}),info:(e,t={})=>Ue(e,{icon:"",duration:3500,style:{background:"#EFF6FF",color:"#1D4ED8",border:"1px solid #3B82F6",borderRadius:"12px",padding:"16px"},...t}),warning:(e,t={})=>Ue(e,{icon:"",duration:4e3,style:{background:"#FEF3C7",color:"#92400E",border:"1px solid #F59E0B",borderRadius:"12px",padding:"16px"},...t}),cart:(e,t={})=>Ue.success(e,{icon:"",duration:3e3,style:{background:"#F0F9FF",color:"#0C4A6E",border:"1px solid #0EA5E9",borderRadius:"12px",padding:"16px"},...t}),loading:(e,t={})=>Ue.loading(e,{style:{background:"#F9FAFB",color:"#374151",border:"1px solid #D1D5DB",borderRadius:"12px",padding:"16px"},...t})},sd=(e,{foodId:t,selectedDate:r,specialInstructions:n=""})=>e.find(s=>s.foodId===t&&s.selectedDate===r&&(s.specialInstructions||"")===n.trim()),id=(e,t,r=null)=>e.filter(n=>n.foodId===t&&(!r||n.selectedDate===r)).reduce((n,s)=>n+s.quantity,0),$s=async({food:e,kitchen:t,quantity:r=1,selectedDate:n=null,specialInstructions:s="",isPreOrder:i=!1,pickupDetails:a=null},l,c,d)=>{try{const f=sd(d,{foodId:e.id,selectedDate:n,specialInstructions:s});if(f){const p=`${e.name} is already in your cart with ${f.quantity} items`;return X.info(p),{success:!1,isExisting:!0,existingQuantity:f.quantity,message:p}}const u=a||od(n,i),h={foodId:e.id,kitchenId:e.kitchenId||(t==null?void 0:t.id),quantity:r,selectedDate:n,specialInstructions:s.trim(),orderType:i?"PRE_ORDER":"GO_GRAB",food:{id:e.id,name:e.name,cost:e.cost,price:e.price||e.cost,imageUrl:e.imageUrl,description:e.description||"This dish features tender, juicy flavors",...e},kitchen:{id:(t==null?void 0:t.id)||e.kitchenId,name:(t==null?void 0:t.name)||e.kitchenName||"Unknown Kitchen",address:t==null?void 0:t.address,...t},pickupDetails:u};let m;return c?m=await c(h):m=await l(c(h)),X.cart(`Added ${e.name} to cart!`),{success:!0,isExisting:!1,message:`Added ${e.name} to cart!`,result:m}}catch(f){console.error("Error adding to cart:",f);const u=f.message||"Failed to add item to cart";return X.error(u),{success:!1,isExisting:!1,message:u,error:f}}},Ls=async({food:e,selectedDate:t=null,specialInstructions:r=""},n,s)=>{try{const i={foodId:e.id,kitchenId:e.kitchenId,selectedDate:t,specialInstructions:r.trim()};return await n(s(i)),X.info(`Removed ${e.name} from cart`),{success:!0,message:`Removed ${e.name} from cart`}}catch(i){console.error("Error removing from cart:",i);const a=i.message||"Failed to remove item from cart";return X.error(a),{success:!1,message:a,error:i}}},od=(e=null,t=!1)=>{const r=new Date;if(!t||!e){const n=new Date(r.getTime()+18e5);return{pickupDate:r.toISOString().split("T")[0],pickupTime:n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),displayPickupTime:"Pick up today",displayPickupClock:n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),orderType:"grab-and-go"}}else{const n=new Date(e),s=new Date;s.setHours(0,0,0,0),n.setHours(0,0,0,0);const i=n.getTime()===s.getTime(),a=n.getTime()===s.getTime()+24*60*60*1e3;let l;return i?l="Pick up today":a?l="Pick up tomorrow":l=`Pick up ${n.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}`,{pickupDate:e,pickupTime:"6:30 PM",displayPickupTime:l,displayPickupClock:"6:30 PM",orderType:"pre-order"}}},ad=async({food:e,kitchen:t,newQuantity:r,currentQuantity:n,selectedDate:s=null,specialInstructions:i="",isPreOrder:a=!1},l,c,d,f)=>{try{if(r>n){const u=r-n;return await $s({food:e,kitchen:t,quantity:u,selectedDate:s,specialInstructions:i,isPreOrder:a},l,c,f)}else if(r<n){const u=n-r;return await Ls({food:e,selectedDate:s,specialInstructions:i,quantity:u},l,d)}return{success:!0,message:"Quantity unchanged"}}catch(u){return console.error("Error changing quantity:",u),{success:!1,message:u.message||"Failed to update quantity",error:u}}},ld=()=>{const e=Ke(),t=de(l=>l.cart.items),r=de(l=>l.auth.isAuthenticated);return{cartItems:t,isAuthenticated:r,getCartQuantity:(l,c=null)=>id(t,l,c),addToCartWithCheck:async l=>r?await $s(l,e,ke,t):{success:!1,message:"Please log in to add items to cart"},removeFromCartGeneric:async l=>await Ls(l,e,Te),handleQuantityChange:async l=>r?await ad(l,e,ke,Te,t):{success:!1,message:"Please log in to modify cart"},dispatch:e,addToCart:ke,removeFromCart:Te}},Je="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.16675%201.66699H7.50008C3.33341%201.66699%201.66675%203.33366%201.66675%207.50033V12.5003C1.66675%2016.667%203.33341%2018.3337%207.50008%2018.3337H12.5001C16.6667%2018.3337%2018.3334%2016.667%2018.3334%2012.5003V10.8337'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3668%202.51639L6.80014%209.08306C6.55014%209.33306%206.30014%209.82472%206.25014%2010.1831L5.89181%2012.6914C5.75848%2013.5997%206.40014%2014.2331%207.30848%2014.1081L9.81681%2013.7497C10.1668%2013.6997%2010.6585%2013.4497%2010.9168%2013.1997L17.4835%206.63306C18.6168%205.49972%2019.1501%204.18306%2017.4835%202.51639C15.8168%200.849722%2014.5001%201.38306%2013.3668%202.51639Z'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.425%203.45801C12.9834%205.44967%2014.5417%207.00801%2016.5417%207.57467'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Xe=({food:e=null,kitchen:t=null,selectedDate:r=null,initialQuantity:n=1,maxQuantity:s=99,minQuantity:i=1,onQuantityChange:a=()=>{},onAvailabilityChange:l=()=>{},onError:c=()=>{},onWarning:d=()=>{},showAvailabilityInfo:f=!0,showErrorMessages:u=!0,size:h="medium",className:m="",disabled:p=!1})=>{const[v,x]=g.useState(n),[C,$]=g.useState({isAvailable:!0,maxAvailable:s,orderType:r?"PRE_ORDER":"GO_GRAB",message:null,warning:null}),P=g.useCallback(()=>{var I,F,U,ee,O;if(console.log("DEBUG - Availability calculation:",{foodId:e==null?void 0:e.id,kitchenId:t==null?void 0:t.id,selectedDate:r,hasFood:!!e,hasKitchen:!!t,hasPreorderSchedule:!!((I=t==null?void 0:t.preorderSchedule)!=null&&I.dates)}),!e)return console.log("DEBUG - No food object"),{isAvailable:!1,maxAvailable:0,orderType:r?"PRE_ORDER":"GO_GRAB",message:"Food item not found",warning:null};const k=new Date;if(k.setHours(0,0,0,0),r){console.log(" ~ QuantitySelector ~ selectedDate received:",r),console.log(" ~ QuantitySelector ~ selectedDate type:",typeof r);const S=new Date(r);if(S.setHours(0,0,0,0),console.log(" ~ QuantitySelector ~ orderDate:",S),console.log(" ~ QuantitySelector ~ today:",k),console.log(" ~ QuantitySelector ~ orderDate > today:",S>k),S>k){const b="PRE_ORDER";if(console.log("DEBUG - Future date PRE_ORDER case"),!((F=t==null?void 0:t.preorderSchedule)!=null&&F.dates))return console.log("DEBUG - No preorder schedule"),{isAvailable:!1,maxAvailable:0,orderType:b,message:"Pre-orders not available for this kitchen",warning:null};const A=r.includes("-")?r:(()=>{const D=new Date(r),j=D.getFullYear(),L=String(D.getMonth()+1).padStart(2,"0"),K=String(D.getDate()).padStart(2,"0");return`${j}-${L}-${K}`})();console.log(" ~ QuantitySelector ~ dateKey:",A),console.log(" ~ QuantitySelector ~ selectedDate:",r),console.log(" ~ QuantitySelector ~ kitchen.preorderSchedule.dates:",t.preorderSchedule.dates),console.log(" ~ QuantitySelector ~ Available dates:",Object.keys(t.preorderSchedule.dates));const R=t.preorderSchedule.dates[A];if(console.log("DEBUG - Date lookup:",{dateKey:A,hasScheduleForDate:!!R,scheduleForDate:R,availableDates:Object.keys(t.preorderSchedule.dates)}),!R||!Array.isArray(R))return console.log("DEBUG - No schedule found for date"),{isAvailable:!1,maxAvailable:0,orderType:b,message:"Not available for pre-order on selected date",warning:null};const _=R.find(D=>D.foodItemId===e.id);if(console.log(" ~ QuantitySelector ~ foodSchedule:",_),console.log(" ~ QuantitySelector ~ food.id:",e.id),console.log(" ~ QuantitySelector ~ food object:",e),console.log("DEBUG - Food schedule lookup:",{foodId:e.id,foodSchedule:_,allItemsInSchedule:R.map(D=>({id:D.foodItemId,name:D.nameOfFood}))}),!_)return console.log("DEBUG - Food not found in schedule"),{isAvailable:!1,maxAvailable:0,orderType:b,message:"This item is not available for pre-order on selected date",warning:null};if(console.log("DEBUG - Food schedule details:",{isLimitedOrder:_.isLimitedOrder,numOfAvailableItems:_.numOfAvailableItems,availableTimes:_.availableTimes}),_.isLimitedOrder===!1){const D=_.numOfAvailableItems||0;return console.log("DEBUG - Limited order case:",{availableItems:D}),D<=0?{isAvailable:!1,maxAvailable:0,orderType:b,message:"Sold out for pre-order on selected date",warning:null}:(console.log("Math.min(availableItems, maxQuantity)",Math.min(D,s)),{isAvailable:!0,maxAvailable:Math.min(D,s),orderType:b,message:null,warning:D<5?`Only ${D} left for pre-order`:null})}else return console.log("DEBUG - Unlimited order case"),{isAvailable:!0,maxAvailable:s,orderType:b,message:null,warning:null}}else if(S.getTime()===k.getTime()){if(console.log("DEBUG - Today's date - checking both GO_GRAB and PRE_ORDER"),(U=t==null?void 0:t.preorderSchedule)!=null&&U.dates){const R=r.includes("-")?r:(()=>{const D=S.getFullYear(),j=String(S.getMonth()+1).padStart(2,"0"),L=String(S.getDate()).padStart(2,"0");return`${D}-${j}-${L}`})();console.log("DEBUG - Today's date - dateKey:",R);const _=t.preorderSchedule.dates[R];if(_&&Array.isArray(_)){const D=_.find(j=>j.foodItemId===e.id);if(console.log("DEBUG - Today's date - foodSchedule found:",!!D,D),D){console.log("DEBUG - Today's date found in preorder schedule - using PRE_ORDER logic");const j="PRE_ORDER";if(D.isLimitedOrder===!1){const L=D.numOfAvailableItems||0;return console.log("DEBUG - Today PRE_ORDER limited case:",{availableItems:L}),L<=0?{isAvailable:!1,maxAvailable:0,orderType:j,message:"Sold out for today",warning:null}:{isAvailable:!0,maxAvailable:Math.min(L,s),orderType:j,message:null,warning:L<5?`Only ${L} left`:null}}else return console.log("DEBUG - Today PRE_ORDER unlimited case"),{isAvailable:!0,maxAvailable:s,orderType:j,message:null,warning:null}}}}console.log("DEBUG - Today's date - no preorder schedule, falling back to GO_GRAB");const b="GO_GRAB",A=((ee=e.availability)==null?void 0:ee.numAvailable)||e.numAvailable||0;return console.log("DEBUG - Today's date GO_GRAB fallback:",{numAvailable:A}),A<=0?{isAvailable:!1,maxAvailable:0,orderType:b,message:"Not available",warning:null}:{isAvailable:!0,maxAvailable:Math.min(A,s),orderType:b,message:null,warning:A<5?`Only ${A} left`:null}}else return console.log("DEBUG - Past date"),{isAvailable:!1,maxAvailable:0,orderType:"PRE_ORDER",message:"Selected date is in the past",warning:null}}else{const S="GO_GRAB",b=((O=e.availability)==null?void 0:O.numAvailable)||e.numAvailable||0;return console.log("DEBUG - No date GO_GRAB:",{numAvailable:b}),b<=0?{isAvailable:!1,maxAvailable:0,orderType:S,message:"Sold Out",warning:null}:{isAvailable:!0,maxAvailable:Math.min(b,s),orderType:S,message:null,warning:b<5?`Only ${b} left`:null}}},[e,t,r,s]),y=g.useMemo(()=>P(),[P]);console.log("DEBUG - Current availability:",y),g.useEffect(()=>{(y.isAvailable!==C.isAvailable||y.maxAvailable!==C.maxAvailable||y.orderType!==C.orderType||y.message!==C.message||y.warning!==C.warning)&&$(y)},[y,C]);const E=g.useCallback(k=>{console.log(" QuantitySelector handleQuantityChange called with:",k),console.log(" Current state:",{quantity:v,minQuantity:i,maxAvailable:C.maxAvailable});const I=Math.max(i,Math.min(k,C.maxAvailable));if(console.log(" Valid quantity calculated:",I),I!==v){if(console.log(" Setting new quantity:",I),x(I),console.log(" Calling parent onQuantityChange with:",I),a(I),k>C.maxAvailable){const F=`Maximum available quantity is ${C.maxAvailable}`;c(F)}else if(k<i){const F=`Minimum quantity is ${i}`;c(F)}}else console.log(" Quantity unchanged, skipping update")},[v,C.maxAvailable,i,a,c]);g.useEffect(()=>{l(C),C.warning&&d(C.warning),C.message&&!C.isAvailable&&c(C.message)},[C,l,d,c]),g.useEffect(()=>{n!==v&&n>=i&&v===1&&(console.log(" INITIAL QUANTITY EFFECT: Setting quantity to:",n),x(n))},[n,i]);const w=g.useCallback(()=>{console.log(" INCREMENT CLICKED!",{disabled:p,availabilityStatus:C.isAvailable,quantity:v}),!p&&C.isAvailable?(console.log(" INCREMENT: Calling handleQuantityChange with:",v+1),E(v+1)):console.log(" INCREMENT BLOCKED:",{disabled:p,isAvailable:C.isAvailable})},[p,C.isAvailable,v,E]),N=g.useCallback(()=>{console.log(" DECREMENT CLICKED!",{disabled:p,quantity:v,minQuantity:i}),!p&&v>i?(console.log(" DECREMENT: Calling handleQuantityChange with:",v-1),E(v-1)):console.log(" DECREMENT BLOCKED:",{disabled:p,quantity:v,minQuantity:i})},[p,v,i,E]),T=["quantity-selector",`quantity-selector--${h}`,m,p&&"quantity-selector--disabled",!C.isAvailable&&"quantity-selector--unavailable"].filter(Boolean).join(" ");return o.jsx("div",{className:T,children:o.jsxs("div",{className:"quantity-selector__controls",children:[o.jsx("div",{className:"quantity-selector__display",children:o.jsx("span",{className:"quantity-number",children:v})}),o.jsxs("div",{className:"quantity-selector__buttons",children:[o.jsx("button",{type:"button",className:"quantity-btn quantity-btn--decrement",onClick:N,disabled:p||v<=i,"aria-label":"Decrease quantity",children:o.jsx("svg",{width:"13",height:"2",viewBox:"0 0 13 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("rect",{x:"0.887695",width:"11.6854",height:"1.46067",fill:"currentColor"})})}),o.jsx("button",{type:"button",className:"quantity-btn quantity-btn--increment",onClick:w,disabled:p||!C.isAvailable||v>=C.maxAvailable,"aria-label":"Increase quantity",children:o.jsxs("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M0.707673 5.27007H12.3931V6.73075H0.707673V5.27007Z",fill:"currentColor"}),o.jsx("path",{d:"M7.28071 0.157715L7.28071 11.8431H5.82003L5.82003 0.157715L7.28071 0.157715Z",fill:"currentColor"})]})})]})]})})};function Ms({isLoading:e=!0,text:t="Loading...",overlay:r=!0,size:n="medium"}){if(!e)return null;const s={small:"spinner-sm",medium:"spinner-md",large:"spinner-lg"},i=()=>o.jsx("div",{className:`mobile-loader-content ${r?"overlay":"inline"}`,children:o.jsxs("div",{className:"loader-spinner-wrapper",children:[o.jsxs("div",{className:`custom-spinner ${s[n]}`,children:[o.jsx("div",{className:"spinner-ring"}),o.jsx("div",{className:"spinner-ring"}),o.jsx("div",{className:"spinner-ring"})]}),t&&o.jsx("p",{className:"loader-text",children:t})]})});return r?o.jsx("div",{className:"mobile-loader-overlay",children:o.jsx(i,{})}):o.jsx(i,{})}function fn(){var $,P;const e=et(),t=vr(),{kitchenId:r}=Ws(),n=((P=($=t.state)==null?void 0:$.from)==null?void 0:P.pathname)||"/",{cartItems:s,getCartQuantity:i,handleQuantityChange:a}=ld(),{allFoods:l}=nd(10),c=r||(l.length>0?l[0].kitchenId:null),{kitchen:d,foods:f,loading:u,error:h}=rd(c);console.log(" ~ ListingPage ~ foods:",f),g.useEffect(()=>{d&&f.length>0&&(console.log("[ListingPage] Kitchen data:",d),console.log("[ListingPage] Foods data:",f),console.log("[ListingPage] Preorder schedule:",d.preorderSchedule))},[d,f]);const m=()=>{var k;if(!((k=d==null?void 0:d.preorderSchedule)!=null&&k.dates))return[];const y=ce(),E=y.format("YYYY-MM-DD");console.log(" [PREORDER DATES DEBUG] Using dayjs - Current date (today):",E),console.log(" [PREORDER DATES DEBUG] Raw dayjs object:",y.toString());const w=[];for(let I=1;I<=2;I++){const U=y.add(I,"day").format("YYYY-MM-DD");w.push(U)}console.log(" [PREORDER DATES DEBUG] Next 2 days after today (should be 2025-08-23, 2025-08-24):",w),console.log(" [PREORDER DATES DEBUG] All dates in preorder schedule:",Object.keys(d.preorderSchedule.dates));const N=w.filter(I=>{const F=d.preorderSchedule.dates[I],U=I!==E;return console.log(` [PREORDER DATES DEBUG] Date ${I}: has schedule=${!!F}, is not today=${U}, today is=${E}`),F&&U});console.log(" [PREORDER DATES DEBUG] Final available preorder dates (should only be 23 & 24):",N);const T=N.map(I=>{const U=ce(I).format("ddd, MMM D");return console.log(` [PREORDER DATES DEBUG] Mapping ${I} to display: ${U}`),{dateString:I,displayDate:U}});return console.log(" [PREORDER DATES DEBUG] Final result returned:",T),T},{goGrabItems:p,preOrderItems:v}=g.useMemo(()=>{var N;if(!f.length)return{goGrabItems:[],preOrderItems:[]};const y=f.filter(T=>T.kitchenId===c);console.log("[ListingPage] All foods for current kitchen:",y);const E=y.filter(T=>{var I,F;const k=((I=T.availability)==null?void 0:I.numAvailable)||T.numAvailable||0;return console.log(`[ListingPage] ${T.name} - numAvailable: ${k} (from ${(F=T.availability)!=null&&F.numAvailable?"availability":"direct"})`),k>0});let w=[];if((N=d==null?void 0:d.preorderSchedule)!=null&&N.dates){const T=d.preorderSchedule.dates,k=new Set;Object.values(T).flat().forEach(I=>{k.add(I.foodItemId)}),console.log("[ListingPage] Preorder food IDs from schedule:",Array.from(k)),w=y.filter(I=>{const F=k.has(I.id);return console.log(`[ListingPage] ${I.name} (${I.id}) - in preorder: ${F}`),F})}return console.log(`[ListingPage] Kitchen: ${c}, Total Foods: ${y.length}, Go&Grab: ${E.length}, Pre-order: ${w.length}`),console.log("[ListingPage] Go&Grab items:",E.map(T=>{var k;return{id:T.id,name:T.name,numAvailable:((k=T.availability)==null?void 0:k.numAvailable)||T.numAvailable}})),console.log("[ListingPage] Pre-order items:",w.map(T=>({id:T.id,name:T.name}))),{goGrabItems:E,preOrderItems:w}},[f,d,c]);console.log(" ~ ListingPage ~ goGrabItems:",p),console.log(" ~ ListingPage ~ preOrderItems:",v);const x=y=>{var w,N;return(N=(w=d==null?void 0:d.preorderSchedule)==null?void 0:w.dates)!=null&&N[y]?d.preorderSchedule.dates[y].map(T=>{const k=v.find(I=>I.id===T.foodItemId);return k?{...k,scheduleItem:T}:null}).filter(Boolean):[]},C=m();return u?o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsx(Ms,{isLoading:u,text:"Loading food details...",overlay:!0,size:"medium"})})}):h?o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsx("div",{className:"padding-20",children:o.jsxs("div",{className:"text-center py-5 text-danger",children:["Error: ",h]})})})}):o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsxs("div",{className:"padding-20",children:[o.jsxs("div",{className:"back-link-title",children:[o.jsx(Oe,{className:"back-link",to:n,children:o.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),o.jsx("div",{className:"title",children:"More offers from HomeFresh"})]}),o.jsx("h2",{className:"small-title mb-2",children:(d==null?void 0:d.name)||"Coco&apos;s Kitchen"}),p.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"small-title mb-20",children:"Grab & Go"}),o.jsx("div",{className:"menu-listing",children:p.map(y=>{const E=i(y.id);return o.jsxs("div",{className:"menu-list",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"image",children:o.jsx("img",{src:y.imageUrl||"/src/assets/images/product.png",alt:y.name,onError:w=>{w.target.src="/src/assets/images/product.png"}})}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"title",children:y.name}),o.jsx("div",{className:"text",children:y.description||"This dish features tender, juicy flavors"}),o.jsxs("div",{className:"price",children:["$ ",y.cost]})]})]}),o.jsxs("div",{className:"quantity-warpper",children:[o.jsx("div",{className:"right mb-1",children:o.jsx(Xe,{food:y,kitchen:d,selectedDate:null,size:"small",initialQuantity:E,onQuantityChange:async w=>{const N=i(y.id);await a({food:y,kitchen:d,newQuantity:w,currentQuantity:N,selectedDate:null,specialInstructions:"",isPreOrder:!1})}})}),o.jsx("div",{className:"title",children:"Pick up today"}),o.jsxs("div",{className:"bottom",children:[o.jsx("div",{className:"time",children:"6:22 PM"}),o.jsx("div",{className:"icon",children:o.jsx("img",{src:Je,alt:""})})]})]})]},y.id)})})]}),C.map(y=>{const E=x(y.dateString);return E.length===0?null:o.jsxs("div",{children:[o.jsxs("h2",{className:"small-title mb-16",children:["Pre-order for ",y.displayDate]}),o.jsx("div",{className:"menu-listing",children:E.map(w=>{var k;const N=i(w.id,y.dateString),T=((k=w.scheduleItem)==null?void 0:k.availableTimes)||["6:22 PM"];return o.jsxs("div",{className:"menu-list",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"image",children:o.jsx("img",{src:w.imageUrl||"/src/assets/images/product.png",alt:w.name,onError:I=>{I.target.src="/src/assets/images/product.png"}})}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"title",children:w.name}),o.jsx("div",{className:"text",children:w.description||"This dish features tender, juicy flavors"}),o.jsxs("div",{className:"price",children:["$ ",w.cost]})]})]}),o.jsxs("div",{className:"quantity-warpper",children:[o.jsx("div",{className:"right mb-1",children:o.jsx(Xe,{food:w,kitchen:d,selectedDate:y.dateString,size:"small",initialQuantity:N,onQuantityChange:async I=>{const F=i(w.id,y.dateString);await a({food:w,kitchen:d,newQuantity:I,currentQuantity:F,selectedDate:y.dateString,specialInstructions:"",isPreOrder:!0})}})}),o.jsxs("div",{className:"title",children:["Pick up ",y.displayDate]}),o.jsxs("div",{className:"bottom",children:[o.jsx("div",{className:"time",children:T[0]}),o.jsx("div",{className:"icon",children:o.jsx("img",{src:Je,alt:""})})]})]})]},`${w.id}-${y.dateString}`)})})]},y.dateString)}),s.length>0&&o.jsx("button",{className:"action-button mb-16",onClick:()=>e("/order"),children:"Continue to View Cart"}),o.jsxs("div",{className:"scanner-bottom mb-16",children:[o.jsx("div",{className:"text",children:"Full menus from your local home kitchens can be found in the HomeFresh app, available in the iOS App Store."}),o.jsx("div",{className:"qr",children:o.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{width:"80",height:"80",rx:"12",fill:"#F7F7FA"}),o.jsx("rect",{x:"10",y:"10",width:"18",height:"18",rx:"3",fill:"#191A26"}),o.jsx("rect",{x:"52",y:"10",width:"18",height:"18",rx:"3",fill:"#191A26"}),o.jsx("rect",{x:"10",y:"52",width:"18",height:"18",rx:"3",fill:"#191A26"}),o.jsx("rect",{x:"52",y:"52",width:"18",height:"18",rx:"3",fill:"#191A26"}),o.jsx("rect",{x:"32",y:"32",width:"16",height:"16",rx:"2",fill:"#191A26"}),o.jsx("rect",{x:"20",y:"20",width:"4",height:"4",fill:"#3FC045"}),o.jsx("rect",{x:"56",y:"20",width:"4",height:"4",fill:"#3FC045"}),o.jsx("rect",{x:"20",y:"56",width:"4",height:"4",fill:"#3FC045"}),o.jsx("rect",{x:"56",y:"56",width:"4",height:"4",fill:"#3FC045"})]})})]})]})})})}const cd=()=>{const e=Ke(),t=et();return{logout:g.useCallback(async()=>{try{const n=X.loading("Logging out...");await e(Ts()).unwrap(),X.success("Successfully logged out!"),t("/login",{replace:!0})}catch(n){console.error(" Logout failed:",n),X.error("Logout failed, but redirecting anyway"),t("/login",{replace:!0})}},[e,t])}};function dd(){const[e,t]=g.useState(new Date),[r,n]=g.useState(""),s="Enjoy delicious meal from your favorite chef.",{user:i,isAuthenticated:a}=de(u=>u.auth),{items:l,totalItems:c}=de(u=>u.cart),{logout:d}=cd();g.useEffect(()=>{const u=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(u)},[]),g.useEffect(()=>{let u=0;const h=setInterval(()=>{u<s.length?(n(s.slice(0,u+1)),u++):clearInterval(h)},50);return()=>clearInterval(h)},[]);const f=u=>u.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"landing-page",children:[o.jsxs("div",{className:"background-animation",children:[o.jsx("div",{className:"floating-food food-1",children:""}),o.jsx("div",{className:"floating-food food-2",children:""}),o.jsx("div",{className:"floating-food food-3",children:""}),o.jsx("div",{className:"floating-food food-4",children:""}),o.jsx("div",{className:"floating-food food-5",children:""}),o.jsx("div",{className:"floating-food food-6",children:""})]}),o.jsxs("div",{className:"landing-content",children:[o.jsxs("div",{className:"logo-section",children:[o.jsx("div",{className:"logo-circle",children:o.jsx("span",{className:"logo-icon",children:""})}),o.jsxs("h1",{className:"brand-name",children:["Home",o.jsx("span",{className:"accent-text",children:"Fresh"})]})]}),o.jsxs("div",{className:"coming-soon-section",children:[o.jsxs("h2",{className:"coming-soon-title",children:["Welcome to ",o.jsx("span",{className:"gradient-text",children:"HomeFresh!"})]}),o.jsxs("p",{className:"subtitle",children:[r,o.jsx("span",{className:"cursor",children:"|"})]}),o.jsxs("div",{className:"feature-grid",children:[o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Home Chefs"}),o.jsx("p",{children:"Local talented chefs cooking with love"})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Fresh Experience"}),o.jsx("p",{children:"Fast and reliable taste you can trust"})]}),o.jsxs("div",{className:"feature-card",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Made with Love"}),o.jsx("p",{children:"Every meal crafted with care and passion"})]})]}),o.jsxs("div",{className:"live-clock",children:[o.jsx("span",{className:"clock-icon",children:""}),o.jsx("span",{className:"time-display",children:f(e)})]}),o.jsxs("div",{className:"cta-section",children:[o.jsx("p",{className:"launch-text",children:"We're putting the finishing touches on something special!"}),o.jsxs(Oe,{to:"/foods",className:"explore-btn",children:[o.jsx("span",{children:"Explore Preview"}),o.jsx("div",{className:"btn-arrow",children:""})]})]}),o.jsxs("div",{className:"progress-container",children:[o.jsx("div",{className:"progress-label",children:"Launch Progress"}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill"})}),o.jsx("div",{className:"progress-text",children:"95% Complete"})]})]}),o.jsxs("footer",{className:"landing-footer",children:[o.jsx("p",{children:"Get ready for a culinary revolution "}),o.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(0,0,0,0.1)",borderRadius:"8px",fontSize:"12px"},children:[o.jsx("h4",{children:" Debug Panel (Persistence Test)"}),o.jsxs("p",{children:[o.jsx("strong",{children:"User:"})," ",a?(i==null?void 0:i.name)||"Authenticated":"Not logged in"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cart Items:"})," ",c," items"]}),o.jsxs("div",{style:{marginTop:"10px"},children:[o.jsx("button",{onClick:d,style:{padding:"8px 16px",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:" Test Logout (Clear All Data)"}),o.jsx(Oe,{to:"/foods",style:{padding:"8px 16px",backgroundColor:"#44ff44",color:"white",textDecoration:"none",borderRadius:"4px"},children:" Go to Foods (Test Cart)"})]})]})]})]})]})}const Us="/assets/product-BvDHopBm.png",ud="/assets/user1-DLLHbfvd.svg",fd=(e,t)=>{const r=Ke(),{user:n,isAuthenticated:s}=de(M=>M.auth),{currentFood:i,currentKitchen:a,currentReviews:l,currentReviewStats:c,currentLikes:d,loading:f,error:u,likedFoods:h}=de(M=>M.food),{kitchenStats:m,kitchenReviews:p,statsLoading:v,reviewsLoading:x}=de(M=>M.kitchen),{foodReviews:C,foodReviewsLoading:$,submissionLoading:P}=de(M=>M.reviews),{items:y,loading:E}=de(M=>M.cart),w=m[t],N=p[t],T=C[e],k=$[e],I=v[t],F=x[t],U=h.includes(e),ee=y.filter(M=>M.foodId===e&&M.kitchenId===t).reduce((M,B)=>M+B.quantity,0),O=g.useCallback(M=>y.find(B=>B.foodId===e&&B.kitchenId===t&&B.selectedDate===M.selectedDate&&B.specialInstructions===(M.specialInstructions||"")),[y,e,t]),S=g.useCallback(()=>{e&&t&&r(Qe({foodId:e,kitchenId:t}))},[r,e,t]),b=g.useCallback(()=>{t&&!w&&!I&&r(mt(t))},[r,t,w,I]),A=g.useCallback(()=>{t&&!N&&!F&&r(pt({kitchenId:t,limit:10}))},[r,t,N,F]),R=g.useCallback(()=>{e&&!T&&!k&&r(gt({foodId:e,kitchenId:t,limit:10}))},[r,e,t,T,k]),_=g.useCallback(()=>{if(!s){console.warn("User must be logged in to like food");return}r(Tc(e)),r(yr(e))},[r,e,s]),D=g.useCallback((M=null)=>{const B=ce();if(M){const q=ce(M),se=q.isSame(B,"day"),Re=q.isSame(B.add(1,"day"),"day");let me;return se?me="Pick up today":Re?me="Pick up tomorrow":me=`Pick up ${q.format("MMM D ddd")}`,{pickupDate:q.format("YYYY-MM-DD"),pickupTime:"6:30 PM",displayPickupTime:me,displayPickupClock:"6:30 PM",orderType:"pre-order"}}else{const q=B.add(30,"minutes");return{pickupDate:B.format("YYYY-MM-DD"),pickupTime:q.format("h:mm A"),displayPickupTime:"Pick up today",displayPickupClock:q.format("h:mm A"),orderType:"grab-and-go"}}},[]),j=g.useCallback(M=>{if(!s)return console.warn("User must be logged in to add to cart"),{success:!1,message:"User must be logged in to add to cart"};const B=O(M);if(B)return B.quantity===M.quantity?(console.log("Item already exists with same quantity:",B.quantity),{success:!1,message:"This item already exists in the cart with the same quantity and specifications",existingQuantity:B.quantity}):(console.log(`Updating cart quantity from ${B.quantity} to ${M.quantity}`),r(ht({cartItemId:B.id,quantity:M.quantity})),{success:!0,message:`Cart updated to ${M.quantity} items`});const q=D(M.selectedDate),se={foodId:e,kitchenId:t,quantity:M.quantity,orderType:M.orderType,selectedDate:M.selectedDate,specialInstructions:M.specialInstructions||"",pickupDetails:q,food:i?{id:i.id,name:i.name,cost:i.cost,price:i.price||i.cost,imageUrl:i.imageUrl,image:i.image||i.imageUrl,description:i.description,category:i.category,isAvailable:i.isAvailable,kitchenName:i.kitchenName,maxQuantity:i.maxQuantity,totalQuantity:i.totalQuantity,availableQuantity:i.availableQuantity,isPreOrder:i.isPreOrder,...i}:null,kitchen:a?{id:a.id,name:a.name,address:a.address,rating:a.rating,ratingCount:a.ratingCount,...a}:null};return console.log("Adding new item to cart:",se),r(ke(se)),{success:!0,message:"Item added to cart successfully"}},[r,e,t,s,O,ht,i,a,D]),L=g.useCallback(M=>{if(!s){console.warn("User must be logged in to update cart");return}const B=y.find(q=>q.foodId===e&&q.kitchenId===t);B&&(console.log("Updating cart item quantity:",{cartItemId:B.id,quantity:M}),r(ht({cartItemId:B.id,quantity:M})))},[r,e,t,s,y]),K=g.useCallback(M=>{if(!s){console.warn("User must be logged in to add review");return}return r(yt({foodId:e,kitchenId:t,reviewData:M}))},[r,e,t,s]),V=g.useCallback(()=>{r(Pc())},[r]);return g.useEffect(()=>(S(),b(),R(),()=>{}),[S,b,R]),{food:i,kitchen:a,reviews:l||[],reviewStats:c||w,kitchenStats:w,likes:d,isLiked:U,cartQuantity:ee,loading:f||I,reviewsLoading:k,kitchenStatsLoading:I,kitchenReviewsLoading:F,reviewSubmissionLoading:P,cartLoading:E,error:u,user:n,isAuthenticated:s,toggleLike:_,addToCartAction:j,updateCartItemQuantity:L,addReview:K,loadFoodDetail:S,loadKitchenStats:b,loadKitchenReviews:A,loadFoodReviews:R,clearData:V}},hd=({src:e,alt:t,fallbackSrc:r=Us,className:n=""})=>{const[s,i]=g.useState(null),[a,l]=g.useState(),[c,d]=g.useState(!1),[f,u]=g.useState(!1),h=g.useRef(),m=g.useCallback(x=>{h.current&&h.current.disconnect(),h.current=new IntersectionObserver(C=>{C.forEach($=>{$.isIntersecting&&(i(e),h.current.disconnect())})},{threshold:.1,rootMargin:"50px"}),x&&h.current.observe(x),l(x)},[e]),p=()=>{d(!0)},v=()=>{u(!0),i(r),d(!0)};return o.jsxs("div",{className:"lazy-image-container",style:{position:"relative"},children:[!c&&o.jsx("div",{className:"image-placeholder",children:o.jsx("div",{className:"image-skeleton"})}),o.jsx("img",{ref:m,src:s||r,alt:t,className:`${n} ${c?"loaded":"loading"}`,onLoad:p,onError:v,loading:"lazy",style:{opacity:c?1:0,transition:"opacity 0.3s ease-in-out"}}),f&&o.jsx("div",{className:"image-error-indicator",children:o.jsx("small",{children:"Using fallback image"})})]})},hn=({rating:e=0,maxStars:t=5,size:r="small",showRating:n=!1,reviewCount:s=null,className:i=""})=>{const a=Math.max(0,Math.min(e,t)),l={small:{width:12,height:12,gap:"2px"},medium:{width:16,height:17,gap:"3px"},large:{width:20,height:21,gap:"4px"}},{width:c,height:d,gap:f}=l[r]||l.small,u=()=>{const h=[];for(let m=1;m<=t;m++){const p=Math.max(0,Math.min(1,a-(m-1)));h.push(o.jsxs("div",{className:"star-container",style:{position:"relative"},children:[o.jsx("svg",{width:c,height:d,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"star-empty",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.8542 1.20117C5.80112 1.20117 5.67045 1.21576 5.60103 1.35459L4.53587 3.48434C4.36728 3.82092 4.04237 4.05484 3.6667 4.10851L1.28203 4.45209C1.12453 4.47484 1.07087 4.59151 1.05453 4.6405C1.03995 4.68776 1.01662 4.80792 1.12512 4.91176L2.84945 6.56842C3.1242 6.83267 3.24903 7.21359 3.1837 7.58634L2.7777 9.9255C2.75262 10.0719 2.8442 10.1571 2.88503 10.1863C2.9282 10.2189 3.0437 10.2837 3.18662 10.209L5.3187 9.10359C5.6547 8.93034 6.05487 8.93034 6.3897 9.10359L8.5212 10.2084C8.6647 10.2825 8.7802 10.2178 8.82395 10.1863C8.86478 10.1571 8.95637 10.0719 8.93128 9.9255L8.52412 7.58634C8.45878 7.21359 8.58362 6.83267 8.85837 6.56842L10.5827 4.91176C10.6918 4.80792 10.6684 4.68717 10.6533 4.6405C10.6375 4.59151 10.5839 4.47484 10.4264 4.45209L8.0417 4.10851C7.66662 4.05484 7.3417 3.82092 7.17312 3.48376L6.10678 1.35459C6.03795 1.21576 5.90728 1.20117 5.8542 1.20117Z",fill:"#E5E7EB",stroke:"#E5E7EB",strokeWidth:"0.2"})}),p>0&&o.jsx("div",{className:"star-filled",style:{position:"absolute",top:0,left:0,width:`${p*100}%`,overflow:"hidden"},children:o.jsx("svg",{width:c,height:d,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M9.45251 6.92967C9.30143 7.07609 9.23201 7.28784 9.26643 7.4955L9.78502 10.3655C9.82876 10.6088 9.7261 10.8549 9.52251 10.9955C9.32301 11.1413 9.0576 11.1588 8.84001 11.0422L6.25643 9.69467C6.1666 9.64684 6.06685 9.62117 5.96476 9.61825H5.80668C5.75185 9.62642 5.69818 9.64392 5.64918 9.67075L3.06501 11.0247C2.93726 11.0888 2.7926 11.1116 2.65085 11.0888C2.30551 11.0235 2.0751 10.6945 2.13168 10.3474L2.65085 7.47742C2.68526 7.268 2.61585 7.05509 2.46476 6.90633L0.358348 4.86467C0.182181 4.69375 0.120931 4.43709 0.201431 4.2055C0.279598 3.9745 0.479098 3.80592 0.720015 3.768L3.61918 3.34742C3.83968 3.32467 4.03335 3.1905 4.13251 2.99217L5.41001 0.373001C5.44035 0.314668 5.47943 0.261001 5.52668 0.215501L5.57918 0.174668C5.6066 0.144335 5.6381 0.119251 5.6731 0.0988346L5.73668 0.0755013L5.83585 0.034668H6.08143C6.30076 0.057418 6.49385 0.188668 6.59476 0.384668L7.88918 2.99217C7.98251 3.18292 8.16393 3.31533 8.37335 3.34742L11.2725 3.768C11.5175 3.803 11.7223 3.97217 11.8033 4.2055C11.8798 4.43942 11.8138 4.69608 11.6342 4.86467L9.45251 6.92967Z",fill:"#FF981F"})})})]},m))}return h};return o.jsxs("div",{className:`star-rating ${r} ${i}`,children:[o.jsx("div",{className:"stars-container",style:{gap:f},children:u()}),(n||s)&&o.jsxs("div",{className:"rating-info",children:[n&&o.jsx("span",{className:"rating-value",children:o.jsx("strong",{children:a.toFixed(1)})}),s&&o.jsxs("span",{className:"review-count",children:["(",s>1e3?`${(s/1e3).toFixed(1)}k`:s,"+ reviews)"]})]})]})};function md(){const[e]=pn(),t=vr(),r=et(),n=()=>{if(t.pathname==="/share")return{kitchenId:e.get("kitchenId"),foodId:e.get("foodId"),selectedDate:e.get("date")}},{kitchenId:s,foodId:i,selectedDate:a}=n();if(!s||!i)return o.jsx("div",{className:"mobile-container",children:o.jsx("div",{className:"padding-20",children:o.jsxs("div",{className:"alert alert-danger",role:"alert",children:[o.jsx("h4",{children:"Invalid URL"}),o.jsx("p",{children:"Missing required parameters. Please check your link and try again."}),o.jsxs("small",{className:"text-muted",children:["Expected: kitchenId and foodId"," ",t.pathname==="/share"?"as query parameters":"as URL parameters"]})]})})});const[l,c]=g.useState("reviews"),[d,f]=g.useState(1),[u,h]=g.useState(""),[m,p]=g.useState({isAvailable:!0,quantity:1,orderType:"GO_GRAB"}),{food:v,kitchen:x,likes:C,reviews:$,reviewStats:P,loading:y,error:E,isLiked:w,cartQuantity:N,toggleLike:T,addToCartAction:k,updateCartItemQuantity:I}=fd(i,s);console.log("FoodDetailPage data:",{food:v,kitchen:x,likes:C,reviews:$,reviewStats:P,loading:y,error:E,selectedDate:a,urlPattern:t.pathname,extractedParams:{kitchenId:s,foodId:i,selectedDate:a}});const F=g.useCallback(j=>{console.log(`[FoodDetailPage] Quantity changed to: ${j}`),f(j),N>0&&(console.log(`[FoodDetailPage] Updating cart quantity to: ${j}`),I(j))},[N,I]),U=g.useCallback(j=>{p(j)},[]),ee=g.useCallback(j=>{console.error(`[FoodDetailPage] Quantity error: ${j}`),X.error(j)},[]),O=g.useCallback(j=>{console.warn(`[FoodDetailPage] Quantity warning: ${j}`),X.warning(j)},[]),S=g.useCallback(()=>{if(console.log("[FoodDetailPage] Add to Cart button clicked!"),console.log("[FoodDetailPage] Availability status:",m),console.log("[FoodDetailPage] Selected quantity:",d),console.log("[FoodDetailPage] Special instructions:",u),!m.isAvailable){X.error("This item is currently unavailable");return}const j={quantity:d,orderType:m.orderType,selectedDate:a,specialInstructions:u.trim()};console.log(`Adding ${d} items to cart`,{foodId:i,kitchenId:s,selectedDate:a,orderType:m.orderType,quantity:d,specialInstructions:u.trim()}),console.log("[FoodDetailPage] Calling addToCartAction with:",j);const L=k(j);L&&(L.success?(console.log(" Success:",L.message),X.cart(L.message),r("/foods",{replace:!0})):(console.log(" Info:",L.message),X.warning(L.message)))},[m,d,u,i,s,a,k,r]);g.useEffect(()=>{N>0&&f(N)},[N]),g.useEffect(()=>{(async()=>{console.log("=== DEBUGGING REVIEWS ==="),console.log("URL params - foodId:",i,"kitchenId:",s,"selectedDate:",a);const L=await Rc();if(console.log("Connection test:",L),i){const K=await Sc(i);console.log("Debug reviews result:",K)}})()},[i,s,a]),console.log(" ~ FoodDetailPage ~ reviewStats:",P);const b=(P==null?void 0:P.averageRating)||4.5,A=(P==null?void 0:P.totalReviews)||0,R=(P==null?void 0:P.ratingPercentages)||{5:90,4:70,3:40,2:20,1:8},_=($==null?void 0:$.length)>0?$.map(j=>({id:j.id,image:j.userProfile||ud,date:j.timeStamp?(()=>{try{let L;return typeof j.timeStamp=="string"?j.timeStamp.includes(" at ")?L=new Date(j.timeStamp.replace(" at "," ").replace(" UTC+5","")):L=new Date(j.timeStamp):j.timeStamp.seconds?L=new Date(j.timeStamp.seconds*1e3):L=new Date(j.timeStamp),L.toLocaleDateString()}catch(L){return console.warn("Error parsing timestamp:",j.timeStamp),"Unknown date"}})():"Unknown date",name:j.userName||"Anonymous User",rating:j.rating||5,description:j.message||"No comment provided"})):[],D=g.useCallback(()=>{T(),console.log(`[FoodDetailPage] Food ${w?"unliked":"liked"}`)},[T,w]);return y?o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsx(Ms,{isLoading:y,text:"Loading food details...",overlay:!0,size:"medium"})})}):o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsxs("div",{className:"product-detail",children:[o.jsxs("div",{className:"padding-20",children:[o.jsx("h2",{className:"title text-center",children:v==null?void 0:v.name}),o.jsxs("h2",{className:"text text-center",children:["By ",v==null?void 0:v.kitchenName]}),o.jsxs("div",{className:"review-info",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{children:o.jsx("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7499 4.80322L9.97336 4.26881L8.28761 0.940677C8.12458 0.667862 7.82468 0.5 7.50028 0.5C7.17588 0.5 6.87597 0.667862 6.71295 0.940677L5.02719 4.26966L1.25064 4.80322C0.920725 4.84924 0.64636 5.07363 0.543084 5.38188C0.439808 5.69013 0.525567 6.02868 0.764246 6.25497L3.49628 8.84616L2.85154 12.5053C2.79531 12.8246 2.93026 13.1472 3.19965 13.3375C3.46905 13.5279 3.82617 13.553 4.12089 13.4022L7.50028 11.6739L10.8779 13.4005C11.1726 13.5513 11.5298 13.5262 11.7992 13.3358C12.0685 13.1455 12.2035 12.8229 12.1473 12.5036L11.5025 8.84446L14.2363 6.25497C14.4744 6.02885 14.56 5.69094 14.4572 5.38312C14.3543 5.0753 14.0809 4.85087 13.7517 4.80407L13.7499 4.80322Z",fill:"#FBBC04"})})}),o.jsxs("div",{className:"text",children:[o.jsx("strong",{children:x!=null&&x.rating&&(x!=null&&x.ratingCount)?parseFloat(parseInt(x==null?void 0:x.rating)/parseInt(x==null?void 0:x.ratingCount)).toFixed(1):"No ratings yet"}),` ${x==null?void 0:x.ratingCount}+ reviews`]})]}),o.jsx("div",{className:"line"}),o.jsxs("div",{className:"left",children:[o.jsx("div",{children:o.jsxs("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M10.1667 6.00016C10.1667 6.92063 9.42051 7.66683 8.50004 7.66683C7.57957 7.66683 6.83337 6.92063 6.83337 6.00016C6.83337 5.07969 7.57957 4.3335 8.50004 4.3335C9.42051 4.3335 10.1667 5.07969 10.1667 6.00016Z",stroke:"#3FC045"}),o.jsx("path",{d:"M12.6481 11.3335C13.5778 12.6592 14.0225 13.3652 13.7576 13.9334C13.731 13.9904 13.6999 14.0454 13.6646 14.098C13.2816 14.6668 12.2916 14.6668 10.3118 14.6668H6.68811C4.7083 14.6668 3.71839 14.6668 3.33536 14.098C3.29999 14.0454 3.26888 13.9904 3.24232 13.9334C2.97742 13.3652 3.42213 12.6592 4.35181 11.3335",stroke:"#3FC045","stroke-linecap":"round","stroke-linejoin":"round"}),o.jsx("path",{d:"M9.33831 11.6626C9.11344 11.8791 8.81291 12.0002 8.50017 12.0002C8.18737 12.0002 7.88684 11.8791 7.66197 11.6626C5.60291 9.66736 2.8435 7.4385 4.18918 4.20265C4.91677 2.45304 6.66333 1.3335 8.50017 1.3335C10.337 1.3335 12.0835 2.45305 12.8111 4.20265C14.1551 7.43443 11.4024 9.67423 9.33831 11.6626Z",stroke:"#3FC045"})]})}),o.jsx("div",{className:"text",children:(x==null?void 0:x.address)||"Unknown location"})]})]}),o.jsxs("div",{className:"product-image",children:[o.jsx("div",{className:`icon heart-icon ${w?"liked":""}`,onClick:D,children:o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M9.80568 16.3852C9.53252 16.4816 9.08261 16.4816 8.80945 16.3852C6.47955 15.5898 1.27344 12.2717 1.27344 6.64781C1.27344 4.16527 3.27393 2.15674 5.74041 2.15674C7.20262 2.15674 8.49612 2.86374 9.30756 3.95638C10.119 2.86374 11.4205 2.15674 12.8747 2.15674C15.3412 2.15674 17.3417 4.16527 17.3417 6.64781C17.3417 12.2717 12.1356 15.5898 9.80568 16.3852Z",stroke:"#FF5555",fill:w?"#FF5555":"transparent",strokeWidth:"1.20512",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx(hd,{src:v==null?void 0:v.imageUrl,alt:(v==null?void 0:v.name)||"Product",fallbackSrc:Us,className:""})]}),o.jsxs("div",{className:"quantity-warpper",children:[o.jsxs("div",{className:"price",children:[o.jsx("sup",{children:"$"}),(v==null?void 0:v.cost)&&parseFloat(v==null?void 0:v.cost).toFixed(2)]}),o.jsx(Xe,{food:v,kitchen:x,selectedDate:a,initialQuantity:Math.max(N,1),onQuantityChange:F,onAvailabilityChange:U,onError:ee,onWarning:O,showAvailabilityInfo:!1,showErrorMessages:!0,size:"large",className:"food-detail-quantity"})]}),a&&o.jsxs("div",{className:"pickup-details",children:[o.jsxs("div",{className:"pickup-field",children:[o.jsx("label",{className:"pickup-label",children:"Pick up date:"}),o.jsx("div",{className:"pickup-value date-value",children:new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"pickup-field",children:[o.jsx("label",{className:"pickup-label",children:"Pick up time:"}),o.jsxs("div",{className:"pickup-value time-value",children:["6:22 PM",o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7zm0 12.5c-3.04 0-5.5-2.46-5.5-5.5S4.96 2.5 8 2.5s5.5 2.46 5.5 5.5-2.46 5.5-5.5 5.5z",fill:"#4CAF50"}),o.jsx("path",{d:"M8.5 4.5h-1v4.25l3.5 2.08.5-.83L8.5 7.92V4.5z",fill:"#4CAF50"})]})]})]})]})]}),o.jsx("div",{className:"hr"}),o.jsxs("div",{className:"padding-20",children:[o.jsx("h3",{className:"small-title mb-8",children:"Special Instruction"}),o.jsx("p",{className:"body-text mb-16",children:"Please let us know if you are allergic to anything or if we need to avoid anything."}),o.jsx("textarea",{className:"special-instructions-input",placeholder:"Enter your special instructions here...",value:u,onChange:j=>h(j.target.value),rows:3,style:{width:"100%",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",marginBottom:"16px"}}),o.jsxs("div",{className:"custom-accordian",children:[o.jsx("button",{className:`button${l==="description"?" active":""}`,onClick:()=>c("description"),children:"Description"}),o.jsx("button",{className:`button${l==="reviews"?" active":""}`,onClick:()=>c("reviews"),children:"Reviews"})]}),o.jsxs("div",{className:"accordian-content",children:[l==="description"&&o.jsx("div",{className:"description-content",children:(v==null?void 0:v.description)||"No description available."}),l==="reviews"&&o.jsxs("div",{className:"reviews-content",children:[o.jsxs("div",{className:"overall-reviews",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"bold",children:b>0?b.toFixed(1):"No ratings yet"}),o.jsx(hn,{rating:b,size:"small",showRating:!1}),o.jsxs("div",{className:"body-text",children:["(",A,"+ reviews)"]})]}),o.jsx("div",{className:"line"}),o.jsx("div",{className:"right",children:[5,4,3,2,1].map(j=>o.jsxs("div",{className:"review",children:[o.jsx("div",{className:"text",children:j}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"fill",style:{width:`${R[j]}%`}})})]},j))})]}),o.jsx("div",{className:"reviews-list",children:_.map((j,L)=>o.jsxs("div",{className:"review-item",children:[o.jsxs("div",{className:"header",children:[o.jsxs("div",{className:"profile",children:[o.jsx("img",{src:j.image,alt:j.name,className:"image"}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"name",children:j.name}),o.jsx("div",{className:"rating",children:o.jsx(hn,{rating:j.rating||5,size:"small",showRating:!1})}),o.jsx("div",{className:"date",children:j.date})]})]}),o.jsx("div",{className:"icon"})]}),o.jsx("div",{className:"description",children:j.description})]},j.id||L))})]})]}),o.jsxs("div",{className:"add-to-cart-action",children:[o.jsx("button",{className:`button ${m.isAvailable?"":"sold-out"}`,onClick:j=>{console.log(" BUTTON CLICKED! Event:",j),console.log(" handleAddToCart type:",typeof S),S(j)},disabled:!m.isAvailable,style:{pointerEvents:"auto",zIndex:1e3},children:m.isAvailable?"Add to Cart":"Sold Out"}),o.jsx("div",{className:"icon",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>r("/foods",{replace:!0}),children:[o.jsx("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),o.jsx("path",{d:"M3 6H21",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),o.jsx("path",{d:"M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})]})]})]})})})}function pd(){const e=et(),t=Ke(),r=de(h=>h.cart.items),n=g.useMemo(()=>{const h={grabAndGo:[],preOrders:{}};r.forEach(p=>{var x,C,$,P,y,E;if((((x=p.pickupDetails)==null?void 0:x.orderType)||(p.isPreOrder?"PRE_ORDER":"GO_GRAB"))==="GO_GRAB"||!p.isPreOrder&&!p.selectedDate)h.grabAndGo.push({...p,displayPickupTime:((C=p.pickupDetails)==null?void 0:C.display)||"Pick up today",displayPickupClock:(($=p.pickupDetails)==null?void 0:$.time)||ce().add(30,"minutes").format("h:mm A")});else{const w=p.selectedDate||((P=p.pickupDetails)==null?void 0:P.date);w&&(h.preOrders[w]||(h.preOrders[w]=[]),h.preOrders[w].push({...p,displayPickupTime:((y=p.pickupDetails)==null?void 0:y.display)||`Pick up ${ce(w).format("MMM D ddd")}`,displayPickupClock:((E=p.pickupDetails)==null?void 0:E.time)||"6:30 PM"}))}});const m={};return Object.keys(h.preOrders).sort((p,v)=>ce(p).diff(ce(v))).forEach(p=>{m[p]=h.preOrders[p]}),h.preOrders=m,h},[r]),s=g.useMemo(()=>{const h=r.reduce((v,x)=>{var $;const C=($=x.food)!=null&&$.cost?parseFloat(x.food.cost):0;return v+C*x.quantity},0),m=h*.08,p=h+m;return{subtotal:h.toFixed(2),tax:m.toFixed(2),total:p.toFixed(2)}},[r]),i=(h,m=null)=>r.filter(p=>p.foodId===h&&(!m||p.selectedDate===m)).reduce((p,v)=>p+v.quantity,0),a=(h=null,m=!1)=>{const p=ce();if(!m||!h){const v=p.add(30,"minutes");return{pickupDate:p.format("YYYY-MM-DD"),pickupTime:v.format("h:mm A"),pickupDisplay:"Pick up today",orderType:"GO_GRAB"}}else{const v=ce(h),x=v.isSame(p,"day"),C=v.isSame(p.add(1,"day"),"day");let $;return x?$="Pick up today":C?$="Pick up tomorrow":$=`Pick up ${v.format("MMM D ddd")}`,{pickupDate:h,pickupTime:"6:30 PM",pickupDisplay:$,orderType:"PRE_ORDER"}}},l=(h,m=null,p=!1,v)=>{const x=a(m,p),C={foodId:h.id||h.foodId,kitchenId:h.kitchenId,quantity:1,selectedDate:p?m:null,specialInstructions:"",isPreOrder:p,food:{name:h.name,cost:h.cost,imageUrl:h.imageUrl,description:h.description||"This dish features tender, juicy flavors"},kitchen:{name:(v==null?void 0:v.name)||"Unknown Kitchen"},pickupDetails:{date:x.pickupDate,time:x.pickupTime,display:x.pickupDisplay,orderType:x.orderType}};t(ke(C)),X.cart(`Added ${h.name} to cart!`)},c=(h,m=null)=>{const p={foodId:h.id||h.foodId,kitchenId:h.kitchenId,selectedDate:m,specialInstructions:""};t(Te(p)),X.info(`Removed ${h.name} from cart`)},d=()=>{t(Ds()),X.info("Cart cleared successfully")},f=h=>ce(h).format("MMM D ddd"),u=r.reduce((h,m)=>h+m.quantity,0);return o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsxs("div",{className:"padding-20",children:[o.jsxs("div",{className:"back-link-title",children:[o.jsx(Oe,{className:"back-link",to:"/foods",children:o.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),o.jsxs("div",{className:"title",children:["Order (",u," Item",u!==1?"s":"",")"]})]}),r.length>0&&r[0].kitchen&&o.jsx("h2",{className:"small-title mb-2",children:r[0].kitchen.name}),r.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("p",{children:"Your cart is empty"}),o.jsx(Oe,{to:"/foods",className:"action-button",style:{textDecoration:"none",display:"inline-block",padding:"12px 24px",marginTop:"16px"},children:"Continue Shopping"})]}):o.jsxs(o.Fragment,{children:[n.grabAndGo.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"small-title mb-20",children:"Grab & Go"}),o.jsx("div",{className:"menu-listing",children:n.grabAndGo.map((h,m)=>{var v,x,C,$,P,y,E,w;const p=i(h.foodId);return o.jsxs("div",{className:"menu-list",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"image",children:o.jsx("img",{src:((v=h.food)==null?void 0:v.imageUrl)||"/src/assets/images/product.png",alt:((x=h.food)==null?void 0:x.name)||"Food item",onError:N=>{N.target.src="/src/assets/images/product.png"}})}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"title",children:((C=h.food)==null?void 0:C.name)||"Unknown Item"}),o.jsx("div",{className:"text",children:(($=h.food)==null?void 0:$.description)||"This dish features tender, juicy flavors"}),o.jsxs("div",{className:"price",children:["$ ",((P=h.food)==null?void 0:P.cost)||"0.00"]})]})]}),o.jsxs("div",{className:"quantity-warpper",children:[o.jsx("div",{className:"right mb-1",children:o.jsx(Xe,{food:{id:h.foodId,name:(y=h.food)==null?void 0:y.name,cost:(E=h.food)==null?void 0:E.cost,imageUrl:(w=h.food)==null?void 0:w.imageUrl,kitchenId:h.kitchenId},kitchen:h.kitchen,selectedDate:null,size:"small",initialQuantity:p,onQuantityChange:N=>{var k,I,F;const T=i(h.foodId);if(N>T)for(let U=T;U<N;U++)l({id:h.foodId,name:(k=h.food)==null?void 0:k.name,cost:(I=h.food)==null?void 0:I.cost,imageUrl:(F=h.food)==null?void 0:F.imageUrl,kitchenId:h.kitchenId},null,!1,h.kitchen);else if(N<T)for(let U=T;U>N;U--)c({id:h.foodId,kitchenId:h.kitchenId})}})}),o.jsx("div",{className:"title",children:h.displayPickupTime}),o.jsxs("div",{className:"bottom",children:[o.jsx("div",{className:"time",children:h.displayPickupClock}),o.jsx("div",{className:"icon",children:o.jsx("img",{src:Je,alt:""})})]})]})]},`grab-${h.foodId}-${m}`)})})]}),Object.entries(n.preOrders).map(([h,m])=>o.jsxs("div",{children:[o.jsxs("h2",{className:"small-title mb-16",children:["Pre-order for ",f(h)]}),o.jsx("div",{className:"menu-listing",children:m.map((p,v)=>{var C,$,P,y,E,w,N,T;const x=i(p.foodId,h);return o.jsxs("div",{className:"menu-list",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"image",children:o.jsx("img",{src:((C=p.food)==null?void 0:C.imageUrl)||"/src/assets/images/product.png",alt:(($=p.food)==null?void 0:$.name)||"Food item",onError:k=>{k.target.src="/src/assets/images/product.png"}})}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"title",children:((P=p.food)==null?void 0:P.name)||"Unknown Item"}),o.jsx("div",{className:"text",children:((y=p.food)==null?void 0:y.description)||"This dish features tender, juicy flavors"}),o.jsxs("div",{className:"price",children:["$ ",((E=p.food)==null?void 0:E.cost)||"0.00"]})]})]}),o.jsxs("div",{className:"quantity-warpper",children:[o.jsx("div",{className:"right mb-1",children:o.jsx(Xe,{food:{id:p.foodId,name:(w=p.food)==null?void 0:w.name,cost:(N=p.food)==null?void 0:N.cost,imageUrl:(T=p.food)==null?void 0:T.imageUrl,kitchenId:p.kitchenId},kitchen:p.kitchen,selectedDate:h,size:"small",initialQuantity:x,onQuantityChange:k=>{var F,U,ee;const I=i(p.foodId,h);if(k>I)for(let O=I;O<k;O++)l({id:p.foodId,name:(F=p.food)==null?void 0:F.name,cost:(U=p.food)==null?void 0:U.cost,imageUrl:(ee=p.food)==null?void 0:ee.imageUrl,kitchenId:p.kitchenId},h,!0,p.kitchen);else if(k<I)for(let O=I;O>k;O--)c({id:p.foodId,kitchenId:p.kitchenId},h)}})}),o.jsx("div",{className:"title",children:p.displayPickupTime}),o.jsxs("div",{className:"bottom",children:[o.jsx("div",{className:"time",children:p.displayPickupClock}),o.jsx("div",{className:"icon",children:o.jsx("img",{src:Je,alt:""})})]})]})]},`preorder-${p.foodId}-${h}-${v}`)})})]},h)),o.jsxs("div",{className:"order-summary",style:{backgroundColor:"#f8f9fa",padding:"16px",borderRadius:"8px",marginTop:"24px",marginBottom:"16px"},children:[o.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",s.subtotal]})]}),o.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{children:"Tax (8%):"}),o.jsxs("span",{children:["$",s.tax]})]}),o.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid #dee2e6",paddingTop:"8px"},children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",s.total]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"16px"},children:[o.jsx("button",{onClick:d,style:{flex:"1",padding:"12px 16px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",color:"#6c757d",cursor:"pointer"},children:"Clear Cart"}),o.jsx("button",{className:"action-button",onClick:()=>e("/checkout"),style:{flex:"2"},children:"Check Out"})]})]})]})})})}const gd="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",yd="/assets/map-D7B-IPhe.png";var vd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bd=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},d)=>g.createElement("svg",{ref:d,...vd,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${wd(e)}`,...c},[...t.map(([f,u])=>g.createElement(f,u)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var xd=bd;const mn=xd("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function kd(){const[e,t]=g.useState(!1);return o.jsx("div",{className:"container",children:o.jsx("div",{className:"mobile-container",children:o.jsxs("div",{className:"padding-20 order-page",children:[o.jsxs("div",{className:"top",children:[o.jsxs("div",{className:"back-link-title",children:[o.jsx(Oe,{className:"back-link",children:o.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),o.jsx("div",{className:"title",children:"Checkout"})]}),o.jsx("h3",{className:"medium-title mb-16",children:"Select Pickup Date & Time"}),o.jsxs("div",{className:"date-selection",children:[o.jsxs("div",{className:"left",children:[o.jsx("button",{className:"action",children:o.jsx("img",{src:gd,alt:""})}),o.jsxs("div",{className:"data",children:[o.jsx("div",{className:"title",children:"Select Pickup Date & Time"}),o.jsx("div",{className:"date",children:"Date , Time"})]})]}),o.jsx("button",{className:"action",children:o.jsx("img",{src:Je,alt:""})})]}),o.jsx("h4",{className:"medium-title mb-12",children:"Pickup Address"}),o.jsx("p",{className:"body-text-med mb-20",children:"120 Lane San Fransisco , East Falmouth MA"}),o.jsx("div",{className:"map-container",children:o.jsx("img",{src:yd,alt:""})}),o.jsx("div",{className:"hr mb-18"}),o.jsxs("button",{className:"add-address mb-20",children:[o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3 9H15M9 15V9L9 3",stroke:"#3FC045","stroke-width":"1.5","stroke-linecap":"round"})}),"Add New Address"]}),o.jsxs("div",{className:"payment-method mb-20",children:[o.jsx("h5",{className:"medium-title mb-20",children:"Payment Method"}),o.jsx("div",{className:"hr mb-20"}),o.jsxs("div",{className:"other-payment-fee",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"icon",children:"$"}),o.jsx("span",{children:"Other Pyaments (No Fee)"})]}),o.jsx("input",{type:"radio",className:"input",checked:e,onChange:()=>t(!0)})]})]}),e&&o.jsxs("div",{className:"other-payments-wrapper mb-20",children:[o.jsx("h2",{className:"title",children:"Other Payments acceptable to James Kitchen Kitchen"}),o.jsxs("div",{className:"item-flex",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"text",children:"PayPal to"}),o.jsx("a",{className:"email",children:"jamesPayPal00@gmail.com"})]}),o.jsxs("div",{className:"copy",children:[o.jsx(mn,{}),"  Copy"]})]}),o.jsxs("div",{className:"item-flex",children:[o.jsxs("div",{className:"left",children:[o.jsx("div",{className:"text",children:"Venmo to"}),o.jsx("a",{className:"email",children:"jamesVenmo00@gmail.com"})]}),o.jsxs("div",{className:"copy",children:[o.jsx(mn,{}),"  Copy"]})]})]}),o.jsxs("div",{className:"payment-method mb-20",children:[o.jsx("h5",{className:"medium-title mb-20",children:"Payment Details"}),o.jsx("div",{className:"hr mb-20"}),o.jsxs("div",{className:"item-flex",children:[o.jsx("span",{children:"Sales Tax (7.25%)"}),o.jsx("span",{children:"$6.00"})]}),o.jsxs("div",{className:"item-flex",children:[o.jsx("span",{children:"Service Fee (10%)"}),o.jsx("span",{children:"$6.00"})]}),o.jsxs("div",{className:"item-flex",children:[o.jsx("span",{children:"Grand Subtotal"}),o.jsx("span",{children:"$6.00"})]}),o.jsxs("div",{className:"item-flex",children:[o.jsx("span",{children:"Service Fee"}),o.jsx("span",{children:"$1.00"})]}),o.jsx("div",{className:"hr mb-12"}),o.jsxs("div",{className:"item-flex bold",children:[o.jsx("span",{children:"Total Payment"}),o.jsx("span",{children:"$19.00"})]})]})]}),o.jsx("button",{className:"action-button",children:"Place My Order"})]})})})}function jd(){return o.jsxs("div",{className:"container py-5 text-center",children:[o.jsx("div",{className:"display-6 mb-3",style:{fontSize:"2rem"},children:" Success"}),o.jsx("p",{className:"text-secondary small mb-4",children:"Your order has been placed (placeholder confirmation)."}),o.jsx(Oe,{to:"/foods",className:"btn btn-outline-primary btn-sm",children:"Back to Listing"})]})}function Sd(){const{user:e,initializing:t}=Bt(),r=vr();return t?o.jsx("div",{className:"d-flex vh-100 align-items-center justify-content-center",children:"Loading..."}):e?o.jsx(Vs,{}):o.jsx(Hs,{to:"/login",replace:!0,state:{from:r}})}function Cd(){return o.jsxs(Qs,{children:[o.jsx(le,{path:"/",element:o.jsx(dd,{})}),o.jsx(le,{path:"/foods",element:o.jsx(fn,{})}),o.jsx(le,{path:"/foods/:kitchenId",element:o.jsx(fn,{})}),o.jsx(le,{path:"/share",element:o.jsx(md,{})}),o.jsx(le,{path:"/order",element:o.jsx(pd,{})}),o.jsx(le,{path:"/payment",element:o.jsx(kd,{})}),o.jsx(le,{path:"/success",element:o.jsx(jd,{})}),o.jsx(le,{path:"/login",element:o.jsx(Xc,{})}),o.jsx(le,{path:"/wechat/callback",element:o.jsx(ed,{})}),o.jsx(le,{element:o.jsx(Sd,{}),children:o.jsx(le,{path:"/home",element:o.jsx(Zc,{})})})]})}const Rd=()=>{const e=Ke(),t=de(n=>n.auth),r=()=>{e(Xa())};return o.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"#f8f9fa",padding:"15px",border:"2px solid #dee2e6",borderRadius:"8px",fontSize:"12px",fontFamily:"monospace",zIndex:9999,maxWidth:"300px"},children:[o.jsx("h6",{style:{margin:"0 0 10px 0",fontSize:"14px"},children:" Auth Debug Panel"}),o.jsxs("div",{style:{marginBottom:"10px"},children:[o.jsx("strong",{children:"Is Authenticated:"})," ",o.jsx("span",{style:{color:t.isAuthenticated?"green":"red"},children:t.isAuthenticated?" YES":" NO"})]}),o.jsxs("div",{style:{marginBottom:"10px"},children:[o.jsx("strong",{children:"Development Mode:"})," ",o.jsx("span",{style:{color:t.isDevelopmentMode?"blue":"gray"},children:t.isDevelopmentMode?" ON":"OFF"})]}),o.jsxs("div",{style:{marginBottom:"10px"},children:[o.jsx("strong",{children:"User:"})," ",t.user?o.jsx("span",{style:{color:"green"},children:t.user.displayName||"Dummy User"}):o.jsx("span",{style:{color:"red"},children:"None"})]}),o.jsx("button",{onClick:r,style:{padding:"5px 10px",backgroundColor:t.isAuthenticated?"#dc3545":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:t.isAuthenticated?" Logout":" Login as Dummy"}),o.jsx("div",{style:{marginTop:"10px",fontSize:"10px",color:"#6c757d"},children:"Click to toggle dummy user authentication"})]})};Rn(document.getElementById("root")).render(o.jsx(Ys.StrictMode,{children:o.jsx(Pi,{store:Fs,children:o.jsx(Nn,{loading:o.jsx("div",{children:"Loading..."}),persistor:Ps,children:o.jsx(Zs,{children:o.jsxs(Yc,{children:[o.jsx(Cd,{}),o.jsx(Rd,{}),o.jsx(No,{position:"top-center",reverseOrder:!1,gutter:8,toastOptions:{duration:4e3,style:{background:"#fff",color:"#333",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #e0e0e0"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})})}));
