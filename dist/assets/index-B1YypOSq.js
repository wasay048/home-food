var hl=Object.defineProperty;var ml=(r,n,e)=>n in r?hl(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var B=(r,n,e)=>ml(r,typeof n!="symbol"?n+"":n,e);import{r as w,a as Vs,u as Xs,b as Er,c as gl,g as vl,d as Qa,e as yl,L as Yt,R as Zs,f as E,h as wl,N as bl,O as xl,i as Dl,j as Oe,B as kl}from"./vendor-BsH2sjz3.js";import{r as ln,_ as un,C as dn,a as In,E as Js,o as Cl,F as ei,L as Sl,g as ti,i as ri,b as ni,v as ai,c as So,d as _l,e as oi,f as El,h as _o,j as Pl,k as si,l as Rl,m as mr,n as gr,q as he,p as me,s as fe,t as He,w as Pt,u as Ml,x as Ol,O as Tl,y as Nl,z as Eo}from"./firebase-B6FcuLPv.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var ii={exports:{}},An={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=w,Al=Symbol.for("react.element"),jl=Symbol.for("react.fragment"),Fl=Object.prototype.hasOwnProperty,Ll=Il.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yl={key:!0,ref:!0,__self:!0,__source:!0};function ci(r,n,e){var t,a={},o=null,s=null;e!==void 0&&(o=""+e),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(t in n)Fl.call(n,t)&&!Yl.hasOwnProperty(t)&&(a[t]=n[t]);if(r&&r.defaultProps)for(t in n=r.defaultProps,n)a[t]===void 0&&(a[t]=n[t]);return{$$typeof:Al,type:r,key:o,ref:s,props:a,_owner:Ll.current}}An.Fragment=jl;An.jsx=ci;An.jsxs=ci;ii.exports=An;var d=ii.exports,li,Po=Vs;li=Po.createRoot,Po.hydrateRoot;var ui={exports:{}},di={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=w;function $l(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Wl=typeof Object.is=="function"?Object.is:$l,Bl=Pr.useSyncExternalStore,Ul=Pr.useRef,Hl=Pr.useEffect,ql=Pr.useMemo,Kl=Pr.useDebugValue;di.useSyncExternalStoreWithSelector=function(r,n,e,t,a){var o=Ul(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ql(function(){function c(h){if(!l){if(l=!0,u=h,h=t(h),a!==void 0&&s.hasValue){var g=s.value;if(a(g,h))return f=g}return f=h}if(g=f,Wl(u,h))return g;var y=t(h);return a!==void 0&&a(g,y)?(u=h,g):(u=h,f=y)}var l=!1,u,f,p=e===void 0?null:e;return[function(){return c(n())},p===null?void 0:function(){return c(p())}]},[n,e,t,a]);var i=Bl(r,o[0],o[1]);return Hl(function(){s.hasValue=!0,s.value=i},[i]),Kl(i),i};ui.exports=di;var Ql=ui.exports;function Gl(r){r()}function zl(){let r=null,n=null;return{clear(){r=null,n=null},notify(){Gl(()=>{let e=r;for(;e;)e.callback(),e=e.next})},get(){const e=[];let t=r;for(;t;)e.push(t),t=t.next;return e},subscribe(e){let t=!0;const a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:r=a,function(){!t||r===null||(t=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var Ro={notify(){},get:()=>[]};function Vl(r,n){let e,t=Ro,a=0,o=!1;function s(y){u();const m=t.subscribe(y);let v=!1;return()=>{v||(v=!0,m(),f())}}function i(){t.notify()}function c(){g.onStateChange&&g.onStateChange()}function l(){return o}function u(){a++,e||(e=r.subscribe(c),t=zl())}function f(){a--,e&&a===0&&(e(),e=void 0,t.clear(),t=Ro)}function p(){o||(o=!0,u())}function h(){o&&(o=!1,f())}const g={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:c,isSubscribed:l,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>t};return g}var Xl=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Zl=Xl(),Jl=()=>typeof navigator!="undefined"&&navigator.product==="ReactNative",eu=Jl(),tu=()=>Zl||eu?w.useLayoutEffect:w.useEffect,ru=tu(),ra=Symbol.for("react-redux-context"),na=typeof globalThis!="undefined"?globalThis:{};function nu(){var e;if(!w.createContext)return{};const r=(e=na[ra])!=null?e:na[ra]=new Map;let n=r.get(w.createContext);return n||(n=w.createContext(null),r.set(w.createContext,n)),n}var bt=nu();function au(r){const{children:n,context:e,serverState:t,store:a}=r,o=w.useMemo(()=>{const c=Vl(a);return{store:a,subscription:c,getServerState:t?()=>t:void 0}},[a,t]),s=w.useMemo(()=>a.getState(),[a]);ru(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const i=e||bt;return w.createElement(i.Provider,{value:o},n)}var ou=au;function Ga(r=bt){return function(){return w.useContext(r)}}var fi=Ga();function pi(r=bt){const n=r===bt?fi:Ga(r),e=()=>{const{store:t}=n();return t};return Object.assign(e,{withTypes:()=>e}),e}var su=pi();function iu(r=bt){const n=r===bt?su:pi(r),e=()=>n().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var Kt=iu(),cu=(r,n)=>r===n;function lu(r=bt){const n=r===bt?fi:Ga(r),e=(t,a={})=>{const{equalityFn:o=cu}=typeof a=="function"?{equalityFn:a}:a,s=n(),{store:i,subscription:c,getServerState:l}=s;w.useRef(!0);const u=w.useCallback({[t.name](p){return t(p)}}[t.name],[t]),f=Ql.useSyncExternalStoreWithSelector(c.addNestedSub,i.getState,l||i.getState,u,o);return w.useDebugValue(f),f};return Object.assign(e,{withTypes:()=>e}),e}var je=lu();function qr(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(e){return typeof e}:qr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(r)}function uu(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function du(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function fu(r,n,e){return n&&du(r.prototype,n),r}function pu(r,n){return n&&(qr(n)==="object"||typeof n=="function")?n:Kr(r)}function Ca(r){return Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(r)}function Kr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hu(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&Sa(r,n)}function Sa(r,n){return Sa=Object.setPrototypeOf||function(t,a){return t.__proto__=a,t},Sa(r,n)}function Qr(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}var hi=function(r){hu(n,r);function n(){var e,t;uu(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=pu(this,(e=Ca(n)).call.apply(e,[this].concat(o))),Qr(Kr(t),"state",{bootstrapped:!1}),Qr(Kr(t),"_unsubscribe",void 0),Qr(Kr(t),"handlePersistorState",function(){var i=t.props.persistor,c=i.getState(),l=c.bootstrapped;l&&(t.props.onBeforeLift?Promise.resolve(t.props.onBeforeLift()).finally(function(){return t.setState({bootstrapped:!0})}):t.setState({bootstrapped:!0}),t._unsubscribe&&t._unsubscribe())}),t}return fu(n,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),n}(w.PureComponent);Qr(hi,"defaultProps",{children:null,loading:null});let mu={data:""},gu=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||mu,vu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yu=/\/\*[^]*?\*\/|  +/g,Mo=/\n+/g,mt=(r,n)=>{let e="",t="",a="";for(let o in r){let s=r[o];o[0]=="@"?o[1]=="i"?e=o+" "+s+";":t+=o[1]=="f"?mt(s,o):o+"{"+mt(s,o[1]=="k"?"":n)+"}":typeof s=="object"?t+=mt(s,n?n.replace(/([^,])+/g,i=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,i):i?i+" "+c:c)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=mt.p?mt.p(o,s):o+":"+s+";")}return e+(n&&a?n+"{"+a+"}":a)+t},Je={},mi=r=>{if(typeof r=="object"){let n="";for(let e in r)n+=e+mi(r[e]);return n}return r},wu=(r,n,e,t,a)=>{let o=mi(r),s=Je[o]||(Je[o]=(c=>{let l=0,u=11;for(;l<c.length;)u=101*u+c.charCodeAt(l++)>>>0;return"go"+u})(o));if(!Je[s]){let c=o!==r?r:(l=>{let u,f,p=[{}];for(;u=vu.exec(l.replace(yu,""));)u[4]?p.shift():u[3]?(f=u[3].replace(Mo," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][u[1]]=u[2].replace(Mo," ").trim();return p[0]})(r);Je[s]=mt(a?{["@keyframes "+s]:c}:c,e?"":"."+s)}let i=e&&Je.g?Je.g:null;return e&&(Je.g=Je[s]),((c,l,u,f)=>{f?l.data=l.data.replace(f,c):l.data.indexOf(c)===-1&&(l.data=u?c+l.data:l.data+c)})(Je[s],n,t,i),s},bu=(r,n,e)=>r.reduce((t,a,o)=>{let s=n[o];if(s&&s.call){let i=s(e),c=i&&i.props&&i.props.className||/^go/.test(i)&&i;s=c?"."+c:i&&typeof i=="object"?i.props?"":mt(i,""):i===!1?"":i}return t+a+(s==null?"":s)},"");function jn(r){let n=this||{},e=r.call?r(n.p):r;return wu(e.unshift?e.raw?bu(e,[].slice.call(arguments,1),n.p):e.reduce((t,a)=>Object.assign(t,a&&a.call?a(n.p):a),{}):e,gu(n.target),n.g,n.o,n.k)}let gi,_a,Ea;jn.bind({g:1});let ct=jn.bind({k:1});function xu(r,n,e,t){mt.p=n,gi=r,_a=e,Ea=t}function kt(r,n){let e=this||{};return function(){let t=arguments;function a(o,s){let i=Object.assign({},o),c=i.className||a.className;e.p=Object.assign({theme:_a&&_a()},i),e.o=/ *go\d+/.test(c),i.className=jn.apply(e,t)+(c?" "+c:"");let l=r;return r[0]&&(l=i.as||r,delete i.as),Ea&&l[0]&&Ea(i),gi(l,i)}return a}}var Du=r=>typeof r=="function",fn=(r,n)=>Du(r)?r(n):r,ku=(()=>{let r=0;return()=>(++r).toString()})(),vi=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");r=!n||n.matches}return r}})(),Cu=20,za="default",yi=(r,n)=>{let{toastLimit:e}=r.settings;switch(n.type){case 0:return{...r,toasts:[n.toast,...r.toasts].slice(0,e)};case 1:return{...r,toasts:r.toasts.map(s=>s.id===n.toast.id?{...s,...n.toast}:s)};case 2:let{toast:t}=n;return yi(r,{type:r.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:a}=n;return{...r,toasts:r.toasts.map(s=>s.id===a||a===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return n.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==n.toastId)};case 5:return{...r,pausedAt:n.time};case 6:let o=n.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},Gr=[],wi={toasts:[],pausedAt:void 0,settings:{toastLimit:Cu}},qe={},bi=(r,n=za)=>{qe[n]=yi(qe[n]||wi,r),Gr.forEach(([e,t])=>{e===n&&t(qe[n])})},xi=r=>Object.keys(qe).forEach(n=>bi(r,n)),Su=r=>Object.keys(qe).find(n=>qe[n].toasts.some(e=>e.id===r)),Fn=(r=za)=>n=>{bi(n,r)},_u={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Eu=(r={},n=za)=>{let[e,t]=w.useState(qe[n]||wi),a=w.useRef(qe[n]);w.useEffect(()=>(a.current!==qe[n]&&t(qe[n]),Gr.push([n,t]),()=>{let s=Gr.findIndex(([i])=>i===n);s>-1&&Gr.splice(s,1)}),[n]);let o=e.toasts.map(s=>{var i,c,l;return{...r,...r[s.type],...s,removeDelay:s.removeDelay||((i=r[s.type])==null?void 0:i.removeDelay)||(r==null?void 0:r.removeDelay),duration:s.duration||((c=r[s.type])==null?void 0:c.duration)||(r==null?void 0:r.duration)||_u[s.type],style:{...r.style,...(l=r[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:o}},Pu=(r,n="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...e,id:(e==null?void 0:e.id)||ku()}),Rr=r=>(n,e)=>{let t=Pu(n,r,e);return Fn(t.toasterId||Su(t.id))({type:2,toast:t}),t.id},pe=(r,n)=>Rr("blank")(r,n);pe.error=Rr("error");pe.success=Rr("success");pe.loading=Rr("loading");pe.custom=Rr("custom");pe.dismiss=(r,n)=>{let e={type:3,toastId:r};n?Fn(n)(e):xi(e)};pe.dismissAll=r=>pe.dismiss(void 0,r);pe.remove=(r,n)=>{let e={type:4,toastId:r};n?Fn(n)(e):xi(e)};pe.removeAll=r=>pe.remove(void 0,r);pe.promise=(r,n,e)=>{let t=pe.loading(n.loading,{...e,...e==null?void 0:e.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let o=n.success?fn(n.success,a):void 0;return o?pe.success(o,{id:t,...e,...e==null?void 0:e.success}):pe.dismiss(t),a}).catch(a=>{let o=n.error?fn(n.error,a):void 0;o?pe.error(o,{id:t,...e,...e==null?void 0:e.error}):pe.dismiss(t)}),r};var Ru=1e3,Mu=(r,n="default")=>{let{toasts:e,pausedAt:t}=Eu(r,n),a=w.useRef(new Map).current,o=w.useCallback((f,p=Ru)=>{if(a.has(f))return;let h=setTimeout(()=>{a.delete(f),s({type:4,toastId:f})},p);a.set(f,h)},[]);w.useEffect(()=>{if(t)return;let f=Date.now(),p=e.map(h=>{if(h.duration===1/0)return;let g=(h.duration||0)+h.pauseDuration-(f-h.createdAt);if(g<0){h.visible&&pe.dismiss(h.id);return}return setTimeout(()=>pe.dismiss(h.id,n),g)});return()=>{p.forEach(h=>h&&clearTimeout(h))}},[e,t,n]);let s=w.useCallback(Fn(n),[n]),i=w.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=w.useCallback((f,p)=>{s({type:1,toast:{id:f,height:p}})},[s]),l=w.useCallback(()=>{t&&s({type:6,time:Date.now()})},[t,s]),u=w.useCallback((f,p)=>{let{reverseOrder:h=!1,gutter:g=8,defaultPosition:y}=p||{},m=e.filter(R=>(R.position||y)===(f.position||y)&&R.height),v=m.findIndex(R=>R.id===f.id),x=m.filter((R,b)=>b<v&&R.visible).length;return m.filter(R=>R.visible).slice(...h?[x+1]:[0,x]).reduce((R,b)=>R+(b.height||0)+g,0)},[e]);return w.useEffect(()=>{e.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let p=a.get(f.id);p&&(clearTimeout(p),a.delete(f.id))}})},[e,o]),{toasts:e,handlers:{updateHeight:c,startPause:i,endPause:l,calculateOffset:u}}},Ou=ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tu=ct`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Nu=ct`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Iu=kt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ou} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Nu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Au=ct`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ju=kt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Au} 1s linear infinite;
`,Fu=ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Lu=ct`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yu=kt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Lu} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$u=kt("div")`
  position: absolute;
`,Wu=kt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Bu=ct`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Uu=kt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Bu} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Hu=({toast:r})=>{let{icon:n,type:e,iconTheme:t}=r;return n!==void 0?typeof n=="string"?w.createElement(Uu,null,n):n:e==="blank"?null:w.createElement(Wu,null,w.createElement(ju,{...t}),e!=="loading"&&w.createElement($u,null,e==="error"?w.createElement(Iu,{...t}):w.createElement(Yu,{...t})))},qu=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ku=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Qu="0%{opacity:0;} 100%{opacity:1;}",Gu="0%{opacity:1;} 100%{opacity:0;}",zu=kt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vu=kt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Xu=(r,n)=>{let e=r.includes("top")?1:-1,[t,a]=vi()?[Qu,Gu]:[qu(e),Ku(e)];return{animation:n?`${ct(t)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ct(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zu=w.memo(({toast:r,position:n,style:e,children:t})=>{let a=r.height?Xu(r.position||n||"top-center",r.visible):{opacity:0},o=w.createElement(Hu,{toast:r}),s=w.createElement(Vu,{...r.ariaProps},fn(r.message,r));return w.createElement(zu,{className:r.className,style:{...a,...e,...r.style}},typeof t=="function"?t({icon:o,message:s}):w.createElement(w.Fragment,null,o,s))});xu(w.createElement);var Ju=({id:r,className:n,style:e,onHeightUpdate:t,children:a})=>{let o=w.useCallback(s=>{if(s){let i=()=>{let c=s.getBoundingClientRect().height;t(r,c)};i(),new MutationObserver(i).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[r,t]);return w.createElement("div",{ref:o,className:n,style:e},a)},ed=(r,n)=>{let e=r.includes("top"),t=e?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(e?1:-1)}px)`,...t,...a}},td=jn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ar=16,rd=({reverseOrder:r,position:n="top-center",toastOptions:e,gutter:t,children:a,toasterId:o,containerStyle:s,containerClassName:i})=>{let{toasts:c,handlers:l}=Mu(e,o);return w.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Ar,left:Ar,right:Ar,bottom:Ar,pointerEvents:"none",...s},className:i,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let f=u.position||n,p=l.calculateOffset(u,{reverseOrder:r,gutter:t,defaultPosition:n}),h=ed(f,p);return w.createElement(Ju,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?td:"",style:h},u.type==="custom"?fn(u.message,u):a?a(u):w.createElement(Zu,{toast:u,position:f}))}))},Gt=pe;function ge(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var nd=typeof Symbol=="function"&&Symbol.observable||"@@observable",Oo=nd,aa=()=>Math.random().toString(36).substring(7).split("").join("."),ad={INIT:`@@redux/INIT${aa()}`,REPLACE:`@@redux/REPLACE${aa()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${aa()}`},pn=ad;function Va(r){if(typeof r!="object"||r===null)return!1;let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n||Object.getPrototypeOf(r)===null}function Xa(r,n,e){if(typeof r!="function")throw new Error(ge(2));if(typeof n=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(ge(0));if(typeof n=="function"&&typeof e=="undefined"&&(e=n,n=void 0),typeof e!="undefined"){if(typeof e!="function")throw new Error(ge(1));return e(Xa)(r,n)}let t=r,a=n,o=new Map,s=o,i=0,c=!1;function l(){s===o&&(s=new Map,o.forEach((m,v)=>{s.set(v,m)}))}function u(){if(c)throw new Error(ge(3));return a}function f(m){if(typeof m!="function")throw new Error(ge(4));if(c)throw new Error(ge(5));let v=!0;l();const x=i++;return s.set(x,m),function(){if(v){if(c)throw new Error(ge(6));v=!1,l(),s.delete(x),o=null}}}function p(m){if(!Va(m))throw new Error(ge(7));if(typeof m.type=="undefined")throw new Error(ge(8));if(typeof m.type!="string")throw new Error(ge(17));if(c)throw new Error(ge(9));try{c=!0,a=t(a,m)}finally{c=!1}return(o=s).forEach(x=>{x()}),m}function h(m){if(typeof m!="function")throw new Error(ge(10));t=m,p({type:pn.REPLACE})}function g(){const m=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ge(11));function x(){const b=v;b.next&&b.next(u())}return x(),{unsubscribe:m(x)}},[Oo](){return this}}}return p({type:pn.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:h,[Oo]:g}}function od(r){Object.keys(r).forEach(n=>{const e=r[n];if(typeof e(void 0,{type:pn.INIT})=="undefined")throw new Error(ge(12));if(typeof e(void 0,{type:pn.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(ge(13))})}function Di(r){const n=Object.keys(r),e={};for(let o=0;o<n.length;o++){const s=n[o];typeof r[s]=="function"&&(e[s]=r[s])}const t=Object.keys(e);let a;try{od(e)}catch(o){a=o}return function(s={},i){if(a)throw a;let c=!1;const l={};for(let u=0;u<t.length;u++){const f=t[u],p=e[f],h=s[f],g=p(h,i);if(typeof g=="undefined")throw i&&i.type,new Error(ge(14));l[f]=g,c=c||g!==h}return c=c||t.length!==Object.keys(s).length,c?l:s}}function hn(...r){return r.length===0?n=>n:r.length===1?r[0]:r.reduce((n,e)=>(...t)=>n(e(...t)))}function sd(...r){return n=>(e,t)=>{const a=n(e,t);let o=()=>{throw new Error(ge(15))};const s={getState:a.getState,dispatch:(c,...l)=>o(c,...l)},i=r.map(c=>c(s));return o=hn(...i)(a.dispatch),{...a,dispatch:o}}}function id(r){return Va(r)&&"type"in r&&typeof r.type=="string"}var ki=Symbol.for("immer-nothing"),To=Symbol.for("immer-draftable"),Re=Symbol.for("immer-state");function Fe(r,...n){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object.getPrototypeOf;function $t(r){return!!r&&!!r[Re]}function lt(r){var n;return r?Ci(r)||Array.isArray(r)||!!r[To]||!!((n=r.constructor)!=null&&n[To])||Yn(r)||$n(r):!1}var cd=Object.prototype.constructor.toString();function Ci(r){if(!r||typeof r!="object")return!1;const n=er(r);if(n===null)return!0;const e=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===cd}function mn(r,n){Ln(r)===0?Reflect.ownKeys(r).forEach(e=>{n(e,r[e],r)}):r.forEach((e,t)=>n(t,e,r))}function Ln(r){const n=r[Re];return n?n.type_:Array.isArray(r)?1:Yn(r)?2:$n(r)?3:0}function Pa(r,n){return Ln(r)===2?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function Si(r,n,e){const t=Ln(r);t===2?r.set(n,e):t===3?r.add(e):r[n]=e}function ld(r,n){return r===n?r!==0||1/r===1/n:r!==r&&n!==n}function Yn(r){return r instanceof Map}function $n(r){return r instanceof Set}function St(r){return r.copy_||r.base_}function Ra(r,n){if(Yn(r))return new Map(r);if($n(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const e=Ci(r);if(n===!0||n==="class_only"&&!e){const t=Object.getOwnPropertyDescriptors(r);delete t[Re];let a=Reflect.ownKeys(t);for(let o=0;o<a.length;o++){const s=a[o],i=t[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[s]})}return Object.create(er(r),t)}else{const t=er(r);if(t!==null&&e)return{...r};const a=Object.create(t);return Object.assign(a,r)}}function Za(r,n=!1){return Wn(r)||$t(r)||!lt(r)||(Ln(r)>1&&(r.set=r.add=r.clear=r.delete=ud),Object.freeze(r),n&&Object.entries(r).forEach(([e,t])=>Za(t,!0))),r}function ud(){Fe(2)}function Wn(r){return Object.isFrozen(r)}var dd={};function Wt(r){const n=dd[r];return n||Fe(0,r),n}var xr;function _i(){return xr}function fd(r,n){return{drafts_:[],parent_:r,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function No(r,n){n&&(Wt("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=n)}function Ma(r){Oa(r),r.drafts_.forEach(pd),r.drafts_=null}function Oa(r){r===xr&&(xr=r.parent_)}function Io(r){return xr=fd(xr,r)}function pd(r){const n=r[Re];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Ao(r,n){n.unfinalizedDrafts_=n.drafts_.length;const e=n.drafts_[0];return r!==void 0&&r!==e?(e[Re].modified_&&(Ma(n),Fe(4)),lt(r)&&(r=gn(n,r),n.parent_||vn(n,r)),n.patches_&&Wt("Patches").generateReplacementPatches_(e[Re].base_,r,n.patches_,n.inversePatches_)):r=gn(n,e,[]),Ma(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),r!==ki?r:void 0}function gn(r,n,e){if(Wn(n))return n;const t=n[Re];if(!t)return mn(n,(a,o)=>jo(r,t,n,a,o,e)),n;if(t.scope_!==r)return n;if(!t.modified_)return vn(r,t.base_,!0),t.base_;if(!t.finalized_){t.finalized_=!0,t.scope_.unfinalizedDrafts_--;const a=t.copy_;let o=a,s=!1;t.type_===3&&(o=new Set(a),a.clear(),s=!0),mn(o,(i,c)=>jo(r,t,a,i,c,e,s)),vn(r,a,!1),e&&r.patches_&&Wt("Patches").generatePatches_(t,e,r.patches_,r.inversePatches_)}return t.copy_}function jo(r,n,e,t,a,o,s){if($t(a)){const i=o&&n&&n.type_!==3&&!Pa(n.assigned_,t)?o.concat(t):void 0,c=gn(r,a,i);if(Si(e,t,c),$t(c))r.canAutoFreeze_=!1;else return}else s&&e.add(a);if(lt(a)&&!Wn(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;gn(r,a),(!n||!n.scope_.parent_)&&typeof t!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,t)&&vn(r,a)}}function vn(r,n,e=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Za(n,e)}function hd(r,n){const e=Array.isArray(r),t={type_:e?1:0,scope_:n?n.scope_:_i(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=t,o=Ja;e&&(a=[t],o=Dr);const{revoke:s,proxy:i}=Proxy.revocable(a,o);return t.draft_=i,t.revoke_=s,i}var Ja={get(r,n){if(n===Re)return r;const e=St(r);if(!Pa(e,n))return md(r,e,n);const t=e[n];return r.finalized_||!lt(t)?t:t===oa(r.base_,n)?(sa(r),r.copy_[n]=Na(t,r)):t},has(r,n){return n in St(r)},ownKeys(r){return Reflect.ownKeys(St(r))},set(r,n,e){const t=Ei(St(r),n);if(t!=null&&t.set)return t.set.call(r.draft_,e),!0;if(!r.modified_){const a=oa(St(r),n),o=a==null?void 0:a[Re];if(o&&o.base_===e)return r.copy_[n]=e,r.assigned_[n]=!1,!0;if(ld(e,a)&&(e!==void 0||Pa(r.base_,n)))return!0;sa(r),Ta(r)}return r.copy_[n]===e&&(e!==void 0||n in r.copy_)||Number.isNaN(e)&&Number.isNaN(r.copy_[n])||(r.copy_[n]=e,r.assigned_[n]=!0),!0},deleteProperty(r,n){return oa(r.base_,n)!==void 0||n in r.base_?(r.assigned_[n]=!1,sa(r),Ta(r)):delete r.assigned_[n],r.copy_&&delete r.copy_[n],!0},getOwnPropertyDescriptor(r,n){const e=St(r),t=Reflect.getOwnPropertyDescriptor(e,n);return t&&{writable:!0,configurable:r.type_!==1||n!=="length",enumerable:t.enumerable,value:e[n]}},defineProperty(){Fe(11)},getPrototypeOf(r){return er(r.base_)},setPrototypeOf(){Fe(12)}},Dr={};mn(Ja,(r,n)=>{Dr[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Dr.deleteProperty=function(r,n){return Dr.set.call(this,r,n,void 0)};Dr.set=function(r,n,e){return Ja.set.call(this,r[0],n,e,r[0])};function oa(r,n){const e=r[Re];return(e?St(e):r)[n]}function md(r,n,e){var a;const t=Ei(n,e);return t?"value"in t?t.value:(a=t.get)==null?void 0:a.call(r.draft_):void 0}function Ei(r,n){if(!(n in r))return;let e=er(r);for(;e;){const t=Object.getOwnPropertyDescriptor(e,n);if(t)return t;e=er(e)}}function Ta(r){r.modified_||(r.modified_=!0,r.parent_&&Ta(r.parent_))}function sa(r){r.copy_||(r.copy_=Ra(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var gd=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,e,t)=>{if(typeof n=="function"&&typeof e!="function"){const o=e;e=n;const s=this;return function(c=o,...l){return s.produce(c,u=>e.call(this,u,...l))}}typeof e!="function"&&Fe(6),t!==void 0&&typeof t!="function"&&Fe(7);let a;if(lt(n)){const o=Io(this),s=Na(n,void 0);let i=!0;try{a=e(s),i=!1}finally{i?Ma(o):Oa(o)}return No(o,t),Ao(a,o)}else if(!n||typeof n!="object"){if(a=e(n),a===void 0&&(a=n),a===ki&&(a=void 0),this.autoFreeze_&&Za(a,!0),t){const o=[],s=[];Wt("Patches").generateReplacementPatches_(n,a,o,s),t(o,s)}return a}else Fe(1,n)},this.produceWithPatches=(n,e)=>{if(typeof n=="function")return(s,...i)=>this.produceWithPatches(s,c=>n(c,...i));let t,a;return[this.produce(n,e,(s,i)=>{t=s,a=i}),t,a]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){lt(r)||Fe(8),$t(r)&&(r=vd(r));const n=Io(this),e=Na(r,void 0);return e[Re].isManual_=!0,Oa(n),e}finishDraft(r,n){const e=r&&r[Re];(!e||!e.isManual_)&&Fe(9);const{scope_:t}=e;return No(t,n),Ao(void 0,t)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,n){let e;for(e=n.length-1;e>=0;e--){const a=n[e];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}e>-1&&(n=n.slice(e+1));const t=Wt("Patches").applyPatches_;return $t(r)?t(r,n):this.produce(r,a=>t(a,n))}};function Na(r,n){const e=Yn(r)?Wt("MapSet").proxyMap_(r,n):$n(r)?Wt("MapSet").proxySet_(r,n):hd(r,n);return(n?n.scope_:_i()).drafts_.push(e),e}function vd(r){return $t(r)||Fe(10,r),Pi(r)}function Pi(r){if(!lt(r)||Wn(r))return r;const n=r[Re];let e;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,e=Ra(r,n.scope_.immer_.useStrictShallowCopy_)}else e=Ra(r,!0);return mn(e,(t,a)=>{Si(e,t,Pi(a))}),n&&(n.finalized_=!1),e}var Me=new gd,Ri=Me.produce;Me.produceWithPatches.bind(Me);Me.setAutoFreeze.bind(Me);Me.setUseStrictShallowCopy.bind(Me);Me.applyPatches.bind(Me);Me.createDraft.bind(Me);Me.finishDraft.bind(Me);function Mi(r){return({dispatch:e,getState:t})=>a=>o=>typeof o=="function"?o(e,t,r):a(o)}var yd=Mi(),wd=Mi,bd=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hn:hn.apply(null,arguments)},xd=r=>r&&typeof r.match=="function";function vr(r,n){function e(...t){if(n){let a=n(...t);if(!a)throw new Error(rt(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:t[0]}}return e.toString=()=>`${r}`,e.type=r,e.match=t=>id(t)&&t.type===r,e}var Oi=class pr extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,pr.prototype)}static get[Symbol.species](){return pr}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new pr(...n[0].concat(this)):new pr(...n.concat(this))}};function Fo(r){return lt(r)?Ri(r,()=>{}):r}function jr(r,n,e){return r.has(n)?r.get(n):r.set(n,e(n)).get(n)}function Dd(r){return typeof r=="boolean"}var kd=()=>function(n){const{thunk:e=!0,immutableCheck:t=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=n!=null?n:{};let s=new Oi;return e&&(Dd(e)?s.push(yd):s.push(wd(e.extraArgument))),s},Cd="RTK_autoBatch",Lo=r=>n=>{setTimeout(n,r)},Sd=(r={type:"raf"})=>n=>(...e)=>{const t=n(...e);let a=!0,o=!1,s=!1;const i=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:Lo(10):r.type==="callback"?r.queueNotification:Lo(r.timeout),l=()=>{s=!1,o&&(o=!1,i.forEach(u=>u()))};return Object.assign({},t,{subscribe(u){const f=()=>a&&u(),p=t.subscribe(f);return i.add(u),()=>{p(),i.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[Cd]),o=!a,o&&(s||(s=!0,c(l))),t.dispatch(u)}finally{a=!0}}})},_d=r=>function(e){const{autoBatch:t=!0}=e!=null?e:{};let a=new Oi(r);return t&&a.push(Sd(typeof t=="object"?t:void 0)),a};function Ed(r){const n=kd(),{reducer:e=void 0,middleware:t,devTools:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=r||{};let i;if(typeof e=="function")i=e;else if(Va(e))i=Di(e);else throw new Error(rt(1));let c;typeof t=="function"?c=t(n):c=n();let l=hn;a&&(l=bd({trace:!1,...typeof a=="object"&&a}));const u=sd(...c),f=_d(u);let p=typeof s=="function"?s(f):f();const h=l(...p);return Xa(i,o,h)}function Ti(r){const n={},e=[];let t;const a={addCase(o,s){const i=typeof o=="string"?o:o.type;if(!i)throw new Error(rt(28));if(i in n)throw new Error(rt(29));return n[i]=s,a},addMatcher(o,s){return e.push({matcher:o,reducer:s}),a},addDefaultCase(o){return t=o,a}};return r(a),[n,e,t]}function Pd(r){return typeof r=="function"}function Rd(r,n){let[e,t,a]=Ti(n),o;if(Pd(r))o=()=>Fo(r());else{const i=Fo(r);o=()=>i}function s(i=o(),c){let l=[e[c.type],...t.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[a]),l.reduce((u,f)=>{if(f)if($t(u)){const h=f(u,c);return h===void 0?u:h}else{if(lt(u))return Ri(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},i)}return s.getInitialState=o,s}var Md=(r,n)=>xd(r)?r.match(n):r(n);function Od(...r){return n=>r.some(e=>Md(e,n))}var Td="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nd=(r=21)=>{let n="",e=r;for(;e--;)n+=Td[Math.random()*64|0];return n},Id=["name","message","stack","code"],ia=class{constructor(r,n){B(this,"_type");this.payload=r,this.meta=n}},Yo=class{constructor(r,n){B(this,"_type");this.payload=r,this.meta=n}},Ad=r=>{if(typeof r=="object"&&r!==null){const n={};for(const e of Id)typeof r[e]=="string"&&(n[e]=r[e]);return n}return{message:String(r)}},$o="External signal was aborted",ce=(()=>{function r(n,e,t){const a=vr(n+"/fulfilled",(c,l,u,f)=>({payload:c,meta:{...f||{},arg:u,requestId:l,requestStatus:"fulfilled"}})),o=vr(n+"/pending",(c,l,u)=>({payload:void 0,meta:{...u||{},arg:l,requestId:c,requestStatus:"pending"}})),s=vr(n+"/rejected",(c,l,u,f,p)=>({payload:f,error:(t&&t.serializeError||Ad)(c||"Rejected"),meta:{...p||{},arg:u,requestId:l,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function i(c,{signal:l}={}){return(u,f,p)=>{const h=t!=null&&t.idGenerator?t.idGenerator(c):Nd(),g=new AbortController;let y,m;function v(R){m=R,g.abort()}l&&(l.aborted?v($o):l.addEventListener("abort",()=>v($o),{once:!0}));const x=async function(){var k,S;let R;try{let T=(k=t==null?void 0:t.condition)==null?void 0:k.call(t,c,{getState:f,extra:p});if(Fd(T)&&(T=await T),T===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((C,P)=>{y=()=>{P({name:"AbortError",message:m||"Aborted"})},g.signal.addEventListener("abort",y)});u(o(h,c,(S=t==null?void 0:t.getPendingMeta)==null?void 0:S.call(t,{requestId:h,arg:c},{getState:f,extra:p}))),R=await Promise.race([O,Promise.resolve(e(c,{dispatch:u,getState:f,extra:p,requestId:h,signal:g.signal,abort:v,rejectWithValue:(C,P)=>new ia(C,P),fulfillWithValue:(C,P)=>new Yo(C,P)})).then(C=>{if(C instanceof ia)throw C;return C instanceof Yo?a(C.payload,h,c,C.meta):a(C,h,c)})])}catch(T){R=T instanceof ia?s(null,h,c,T.payload,T.meta):s(T,h,c)}finally{y&&g.signal.removeEventListener("abort",y)}return t&&!t.dispatchConditionRejection&&s.match(R)&&R.meta.condition||u(R),R}();return Object.assign(x,{abort:v,requestId:h,arg:c,unwrap(){return x.then(jd)}})}}return Object.assign(i,{pending:o,rejected:s,fulfilled:a,settled:Od(s,a),typePrefix:n})}return r.withTypes=()=>r,r})();function jd(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function Fd(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var Ld=Symbol.for("rtk-slice-createasyncthunk");function Yd(r,n){return`${r}/${n}`}function $d({creators:r}={}){var e;const n=(e=r==null?void 0:r.asyncThunk)==null?void 0:e[Ld];return function(a){const{name:o,reducerPath:s=o}=a;if(!o)throw new Error(rt(11));const i=(typeof a.reducers=="function"?a.reducers(Bd()):a.reducers)||{},c=Object.keys(i),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,k){const S=typeof b=="string"?b:b.type;if(!S)throw new Error(rt(12));if(S in l.sliceCaseReducersByType)throw new Error(rt(13));return l.sliceCaseReducersByType[S]=k,u},addMatcher(b,k){return l.sliceMatchers.push({matcher:b,reducer:k}),u},exposeAction(b,k){return l.actionCreators[b]=k,u},exposeCaseReducer(b,k){return l.sliceCaseReducersByName[b]=k,u}};c.forEach(b=>{const k=i[b],S={reducerName:b,type:Yd(o,b),createNotation:typeof a.reducers=="function"};Hd(k)?Kd(S,k,u,n):Ud(S,k,u)});function f(){const[b={},k=[],S=void 0]=typeof a.extraReducers=="function"?Ti(a.extraReducers):[a.extraReducers],T={...b,...l.sliceCaseReducersByType};return Rd(a.initialState,O=>{for(let C in T)O.addCase(C,T[C]);for(let C of l.sliceMatchers)O.addMatcher(C.matcher,C.reducer);for(let C of k)O.addMatcher(C.matcher,C.reducer);S&&O.addDefaultCase(S)})}const p=b=>b,h=new Map,g=new WeakMap;let y;function m(b,k){return y||(y=f()),y(b,k)}function v(){return y||(y=f()),y.getInitialState()}function x(b,k=!1){function S(O){let C=O[b];return typeof C=="undefined"&&k&&(C=jr(g,S,v)),C}function T(O=p){const C=jr(h,k,()=>new WeakMap);return jr(C,O,()=>{var A;const P={};for(const[L,H]of Object.entries((A=a.selectors)!=null?A:{}))P[L]=Wd(H,O,()=>jr(g,O,v),k);return P})}return{reducerPath:b,getSelectors:T,get selectors(){return T(S)},selectSlice:S}}const R={name:o,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:v,...x(s),injectInto(b,{reducerPath:k,...S}={}){const T=k!=null?k:s;return b.inject({reducerPath:T,reducer:m},S),{...R,...x(T,!0)}}};return R}}function Wd(r,n,e,t){function a(o,...s){let i=n(o);return typeof i=="undefined"&&t&&(i=e()),r(i,...s)}return a.unwrapped=r,a}var Mr=$d();function Bd(){function r(n,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...e}}return r.withTypes=()=>r,{reducer(n){return Object.assign({[n.name](...e){return n(...e)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:e}},asyncThunk:r}}function Ud({type:r,reducerName:n,createNotation:e},t,a){let o,s;if("reducer"in t){if(e&&!qd(t))throw new Error(rt(17));o=t.reducer,s=t.prepare}else o=t;a.addCase(r,o).exposeCaseReducer(n,o).exposeAction(n,s?vr(r,s):vr(r))}function Hd(r){return r._reducerDefinitionType==="asyncThunk"}function qd(r){return r._reducerDefinitionType==="reducerWithPrepare"}function Kd({type:r,reducerName:n},e,t,a){if(!a)throw new Error(rt(18));const{payloadCreator:o,fulfilled:s,pending:i,rejected:c,settled:l,options:u}=e,f=a(r,o,u);t.exposeAction(n,f),s&&t.addCase(f.fulfilled,s),i&&t.addCase(f.pending,i),c&&t.addCase(f.rejected,c),l&&t.addMatcher(f.settled,l),t.exposeCaseReducer(n,{fulfilled:s||Fr,pending:i||Fr,rejected:c||Fr,settled:l||Fr})}function Fr(){}function rt(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var eo="persist:",Ni="persist/FLUSH",Bn="persist/REHYDRATE",Ii="persist/PAUSE",Ai="persist/PERSIST",to="persist/PURGE",ji="persist/REGISTER",Qd=-1;function zr(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zr=function(e){return typeof e}:zr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(r)}function Wo(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,t)}return e}function Gd(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Wo(e,!0).forEach(function(t){zd(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Wo(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function zd(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function Vd(r,n,e,t){t.debug;var a=Gd({},e);return r&&zr(r)==="object"&&Object.keys(r).forEach(function(o){o!=="_persist"&&n[o]===e[o]&&(a[o]=r[o])}),a}function Xd(r){var n=r.blacklist||null,e=r.whitelist||null,t=r.transforms||[],a=r.throttle||0,o="".concat(r.keyPrefix!==void 0?r.keyPrefix:eo).concat(r.key),s=r.storage,i;r.serialize===!1?i=function(k){return k}:typeof r.serialize=="function"?i=r.serialize:i=Zd;var c=r.writeFailHandler||null,l={},u={},f=[],p=null,h=null,g=function(k){Object.keys(k).forEach(function(S){v(S)&&l[S]!==k[S]&&f.indexOf(S)===-1&&f.push(S)}),Object.keys(l).forEach(function(S){k[S]===void 0&&v(S)&&f.indexOf(S)===-1&&l[S]!==void 0&&f.push(S)}),p===null&&(p=setInterval(y,a)),l=k};function y(){if(f.length===0){p&&clearInterval(p),p=null;return}var b=f.shift(),k=t.reduce(function(S,T){return T.in(S,b,l)},l[b]);if(k!==void 0)try{u[b]=i(k)}catch(S){console.error("redux-persist/createPersistoid: error serializing state",S)}else delete u[b];f.length===0&&m()}function m(){Object.keys(u).forEach(function(b){l[b]===void 0&&delete u[b]}),h=s.setItem(o,i(u)).catch(x)}function v(b){return!(e&&e.indexOf(b)===-1&&b!=="_persist"||n&&n.indexOf(b)!==-1)}function x(b){c&&c(b)}var R=function(){for(;f.length!==0;)y();return h||Promise.resolve()};return{update:g,flush:R}}function Zd(r){return JSON.stringify(r)}function Jd(r){var n=r.transforms||[],e="".concat(r.keyPrefix!==void 0?r.keyPrefix:eo).concat(r.key),t=r.storage;r.debug;var a;return r.deserialize===!1?a=function(s){return s}:typeof r.deserialize=="function"?a=r.deserialize:a=ef,t.getItem(e).then(function(o){if(o)try{var s={},i=a(o);return Object.keys(i).forEach(function(c){s[c]=n.reduceRight(function(l,u){return u.out(l,c,i)},a(i[c]))}),s}catch(c){throw c}else return})}function ef(r){return JSON.parse(r)}function tf(r){var n=r.storage,e="".concat(r.keyPrefix!==void 0?r.keyPrefix:eo).concat(r.key);return n.removeItem(e,rf)}function rf(r){}function Bo(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,t)}return e}function et(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Bo(e,!0).forEach(function(t){nf(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Bo(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function nf(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function af(r,n){if(r==null)return{};var e=of(r,n),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(e[t]=r[t])}return e}function of(r,n){if(r==null)return{};var e={},t=Object.keys(r),a,o;for(o=0;o<t.length;o++)a=t[o],!(n.indexOf(a)>=0)&&(e[a]=r[a]);return e}var sf=5e3;function Ia(r,n){var e=r.version!==void 0?r.version:Qd;r.debug;var t=r.stateReconciler===void 0?Vd:r.stateReconciler,a=r.getStoredState||Jd,o=r.timeout!==void 0?r.timeout:sf,s=null,i=!1,c=!0,l=function(f){return f._persist.rehydrated&&s&&!c&&s.update(f),f};return function(u,f){var p=u||{},h=p._persist,g=af(p,["_persist"]),y=g;if(f.type===Ai){var m=!1,v=function(O,C){m||(f.rehydrate(r.key,O,C),m=!0)};if(o&&setTimeout(function(){!m&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(r.key,'"')))},o),c=!1,s||(s=Xd(r)),h)return et({},n(y,f),{_persist:h});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(r.key),a(r).then(function(T){var O=r.migrate||function(C,P){return Promise.resolve(C)};O(T,e).then(function(C){v(C)},function(C){v(void 0,C)})},function(T){v(void 0,T)}),et({},n(y,f),{_persist:{version:e,rehydrated:!1}})}else{if(f.type===to)return i=!0,f.result(tf(r)),et({},n(y,f),{_persist:h});if(f.type===Ni)return f.result(s&&s.flush()),et({},n(y,f),{_persist:h});if(f.type===Ii)c=!0;else if(f.type===Bn){if(i)return et({},y,{_persist:et({},h,{rehydrated:!0})});if(f.key===r.key){var x=n(y,f),R=f.payload,b=t!==!1&&R!==void 0?t(R,u,x,r):x,k=et({},b,{_persist:et({},h,{rehydrated:!0})});return l(k)}}}if(!h)return n(u,f);var S=n(y,f);return S===y?u:l(et({},S,{_persist:h}))}}function Uo(r){return uf(r)||lf(r)||cf()}function cf(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function lf(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}function uf(r){if(Array.isArray(r)){for(var n=0,e=new Array(r.length);n<r.length;n++)e[n]=r[n];return e}}function Ho(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,t)}return e}function Aa(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Ho(e,!0).forEach(function(t){df(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Ho(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function df(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}var Fi={registry:[],bootstrapped:!1},ff=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fi,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ji:return Aa({},n,{registry:[].concat(Uo(n.registry),[e.key])});case Bn:var t=n.registry.indexOf(e.key),a=Uo(n.registry);return a.splice(t,1),Aa({},n,{registry:a,bootstrapped:a.length===0});default:return n}};function pf(r,n,e){var t=Xa(ff,Fi,void 0),a=function(c){t.dispatch({type:ji,key:c})},o=function(c,l,u){var f={type:Bn,payload:l,err:u,key:c};r.dispatch(f),t.dispatch(f)},s=Aa({},t,{purge:function(){var c=[];return r.dispatch({type:to,result:function(u){c.push(u)}}),Promise.all(c)},flush:function(){var c=[];return r.dispatch({type:Ni,result:function(u){c.push(u)}}),Promise.all(c)},pause:function(){r.dispatch({type:Ii})},persist:function(){r.dispatch({type:Ai,register:a,rehydrate:o})}});return s.persist(),s}var ro={},no={};no.__esModule=!0;no.default=gf;function Vr(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vr=function(e){return typeof e}:Vr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(r)}function ca(){}var hf={getItem:ca,setItem:ca,removeItem:ca};function mf(r){if((typeof self=="undefined"?"undefined":Vr(self))!=="object"||!(r in self))return!1;try{var n=self[r],e="redux-persist ".concat(r," test");n.setItem(e,"test"),n.getItem(e),n.removeItem(e)}catch(t){return!1}return!0}function gf(r){var n="".concat(r,"Storage");return mf(n)?self[n]:hf}ro.__esModule=!0;ro.default=wf;var vf=yf(no);function yf(r){return r&&r.__esModule?r:{default:r}}function wf(r){var n=(0,vf.default)(r);return{getItem:function(t){return new Promise(function(a,o){a(n.getItem(t))})},setItem:function(t,a){return new Promise(function(o,s){o(n.setItem(t,a))})},removeItem:function(t){return new Promise(function(a,o){a(n.removeItem(t))})}}}var Un=void 0,bf=xf(ro);function xf(r){return r&&r.__esModule?r:{default:r}}var Df=(0,bf.default)("local");Un=Df;const gt={APP_ID:"wx4a71fe09bb125182",APP_SECRET:"e8a88b5e0271b89a1dc71261d9063fad",REDIRECT_URI:`${window.location.origin}/wechat/callback`,SCOPE:"snsapi_base",WEB_AUTHORIZE_URL:"https://open.weixin.qq.com/connect/oauth2/authorize",ACCESS_TOKEN_URL:"https://api.weixin.qq.com/sns/oauth2/access_token",USER_INFO_URL:"https://api.weixin.qq.com/sns/userinfo"},qo=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ko=()=>/micromessenger/i.test(navigator.userAgent),Qo=(r=null)=>{const n=r||Math.random().toString(36).substring(7);console.log("ðŸ”— Generating WeChat OAuth URL"),console.log("ðŸ” Current origin:",window.location.origin);const e=new URLSearchParams({appid:gt.APP_ID,redirect_uri:gt.REDIRECT_URI,response_type:"code",scope:gt.SCOPE,state:n}),a=`${gt.WEB_AUTHORIZE_URL}?${e.toString()}#wechat_redirect`;return console.log("ðŸ”— Final WeChat OAuth URL:",a),console.log("ðŸ“‹ OAuth parameters:",Object.fromEntries(e)),a},Go={getAccessToken:async r=>{const n=new URLSearchParams({appid:gt.APP_ID,secret:gt.APP_SECRET,code:r,grant_type:"authorization_code"});return await(await fetch(`${gt.ACCESS_TOKEN_URL}?${n.toString()}`)).json()},getUserInfo:async(r,n)=>{const e=new URLSearchParams({access_token:r,openid:n,lang:"en"});return await(await fetch(`${gt.USER_INFO_URL}?${e.toString()}`)).json()}},Xr=ce("auth/authenticateWithWeChat",async(r,{rejectWithValue:n})=>{try{console.log("Starting WeChat authentication with code:",r);const e=await Go.getAccessToken(r);if(console.log("WeChat token response:",e),e.errcode)throw new Error(e.errmsg||"Failed to get WeChat access token");const{access_token:t,openid:a}=e,o=await Go.getUserInfo(t,a);if(console.log("WeChat user response:",o),o.errcode)throw new Error(o.errmsg||"Failed to get WeChat user info");const s={id:`wechat_${a}`,openid:a,name:o.nickname,displayName:o.nickname,avatar:o.headimgurl,country:o.country,province:o.province,city:o.city,sex:o.sex,language:o.language,isAuthenticated:!0,authMethod:"wechat",wechatOpenId:a,accessToken:t,createdAt:new Date().toISOString()};return console.log("âœ… WeChat authentication successful:",s),s}catch(e){return console.error("âŒ WeChat authentication failed:",e),n(e.message||"WeChat authentication failed")}}),Li=ce("auth/logout",async(r,{rejectWithValue:n})=>{try{return console.log("User logged out"),sessionStorage.removeItem("wechat_access_token"),sessionStorage.removeItem("wechat_pending_cart_action"),{clearData:!0}}catch(e){return n(e.message)}}),Yi=Mr({name:"auth",initialState:{user:null,isAuthenticated:!1,loading:!1,error:null,wechatAuthUrl:null},reducers:{clearError:r=>{r.error=null},updateUserProfile:(r,n)=>{r.user&&(r.user={...r.user,...n.payload})},setWeChatAuthUrl:(r,n)=>{r.wechatAuthUrl=n.payload},clearAllData:r=>{r.user=null,r.isAuthenticated=!1,r.loading=!1,r.error=null,r.wechatAuthUrl=null}},extraReducers:r=>{r.addCase(Xr.pending,n=>{n.loading=!0,n.error=null}).addCase(Xr.fulfilled,(n,e)=>{n.loading=!1,n.user=e.payload,n.isAuthenticated=!0,n.error=null}).addCase(Xr.rejected,(n,e)=>{n.loading=!1,n.error=e.payload,n.isAuthenticated=!1,n.user=null}).addCase(Li.fulfilled,n=>{n.user=null,n.isAuthenticated=!1,n.loading=!1,n.error=null,n.wechatAuthUrl=null}).addCase(to,n=>{n.user=null,n.isAuthenticated=!1,n.loading=!1,n.error=null,n.wechatAuthUrl=null})}}),{clearError:Ly,updateUserProfile:Yy,setWeChatAuthUrl:$y,clearAllData:kf}=Yi.actions,Cf=Yi.reducer,$i="@firebase/installations",ao="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=1e4,Bi=`w:${ao}`,Ui="FIS_v2",Sf="https://firebaseinstallations.googleapis.com/v1",_f=60*60*1e3,Ef="installations",Pf="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bt=new Js(Ef,Pf,Rf);function Hi(r){return r instanceof ei&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi({projectId:r}){return`${Sf}/projects/${r}/installations`}function Ki(r){return{token:r.token,requestStatus:2,expiresIn:Of(r.expiresIn),creationTime:Date.now()}}async function Qi(r,n){const t=(await n.json()).error;return Bt.create("request-failed",{requestName:r,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function Gi({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Mf(r,{refreshToken:n}){const e=Gi(r);return e.append("Authorization",Tf(n)),e}async function zi(r){const n=await r();return n.status>=500&&n.status<600?r():n}function Of(r){return Number(r.replace("s","000"))}function Tf(r){return`${Ui} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf({appConfig:r,heartbeatServiceProvider:n},{fid:e}){const t=qi(r),a=Gi(r),o=n.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&a.append("x-firebase-client",l)}const s={fid:e,authVersion:Ui,appId:r.appId,sdkVersion:Bi},i={method:"POST",headers:a,body:JSON.stringify(s)},c=await zi(()=>fetch(t,i));if(c.ok){const l=await c.json();return{fid:l.fid||e,registrationStatus:2,refreshToken:l.refreshToken,authToken:Ki(l.authToken)}}else throw await Qi("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(r){return new Promise(n=>{setTimeout(n,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=/^[cdef][\w-]{21}$/,ja="";function jf(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=Ff(r);return Af.test(e)?e:ja}catch(r){return ja}}function Ff(r){return If(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Map;function Zi(r,n){const e=Hn(r);Ji(e,n),Lf(e,n)}function Ji(r,n){const e=Xi.get(r);if(e)for(const t of e)t(n)}function Lf(r,n){const e=Yf();e&&e.postMessage({key:r,fid:n}),$f()}let Rt=null;function Yf(){return!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=r=>{Ji(r.data.key,r.data.fid)}),Rt}function $f(){Xi.size===0&&Rt&&(Rt.close(),Rt=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="firebase-installations-database",Bf=1,Ut="firebase-installations-store";let la=null;function oo(){return la||(la=Cl(Wf,Bf,{upgrade:(r,n)=>{switch(n){case 0:r.createObjectStore(Ut)}}})),la}async function yn(r,n){const e=Hn(r),a=(await oo()).transaction(Ut,"readwrite"),o=a.objectStore(Ut),s=await o.get(e);return await o.put(n,e),await a.done,(!s||s.fid!==n.fid)&&Zi(r,n.fid),n}async function ec(r){const n=Hn(r),t=(await oo()).transaction(Ut,"readwrite");await t.objectStore(Ut).delete(n),await t.done}async function qn(r,n){const e=Hn(r),a=(await oo()).transaction(Ut,"readwrite"),o=a.objectStore(Ut),s=await o.get(e),i=n(s);return i===void 0?await o.delete(e):await o.put(i,e),await a.done,i&&(!s||s.fid!==i.fid)&&Zi(r,i.fid),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){let n;const e=await qn(r.appConfig,t=>{const a=Uf(t),o=Hf(r,a);return n=o.registrationPromise,o.installationEntry});return e.fid===ja?{installationEntry:await n}:{installationEntry:e,registrationPromise:n}}function Uf(r){const n=r||{fid:jf(),registrationStatus:0};return tc(n)}function Hf(r,n){if(n.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Bt.create("app-offline"));return{installationEntry:n,registrationPromise:a}}const e={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},t=qf(r,e);return{installationEntry:e,registrationPromise:t}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:Kf(r)}:{installationEntry:n}}async function qf(r,n){try{const e=await Nf(r,n);return yn(r.appConfig,e)}catch(e){throw Hi(e)&&e.customData.serverCode===409?await ec(r.appConfig):await yn(r.appConfig,{fid:n.fid,registrationStatus:0}),e}}async function Kf(r){let n=await zo(r.appConfig);for(;n.registrationStatus===1;)await Vi(100),n=await zo(r.appConfig);if(n.registrationStatus===0){const{installationEntry:e,registrationPromise:t}=await so(r);return t||e}return n}function zo(r){return qn(r,n=>{if(!n)throw Bt.create("installation-not-found");return tc(n)})}function tc(r){return Qf(r)?{fid:r.fid,registrationStatus:0}:r}function Qf(r){return r.registrationStatus===1&&r.registrationTime+Wi<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf({appConfig:r,heartbeatServiceProvider:n},e){const t=zf(r,e),a=Mf(r,e),o=n.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&a.append("x-firebase-client",l)}const s={installation:{sdkVersion:Bi,appId:r.appId}},i={method:"POST",headers:a,body:JSON.stringify(s)},c=await zi(()=>fetch(t,i));if(c.ok){const l=await c.json();return Ki(l)}else throw await Qi("Generate Auth Token",c)}function zf(r,{fid:n}){return`${qi(r)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r,n=!1){let e;const t=await qn(r.appConfig,o=>{if(!rc(o))throw Bt.create("not-registered");const s=o.authToken;if(!n&&Zf(s))return o;if(s.requestStatus===1)return e=Vf(r,n),o;{if(!navigator.onLine)throw Bt.create("app-offline");const i=ep(o);return e=Xf(r,i),i}});return e?await e:t.authToken}async function Vf(r,n){let e=await Vo(r.appConfig);for(;e.authToken.requestStatus===1;)await Vi(100),e=await Vo(r.appConfig);const t=e.authToken;return t.requestStatus===0?io(r,n):t}function Vo(r){return qn(r,n=>{if(!rc(n))throw Bt.create("not-registered");const e=n.authToken;return tp(e)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function Xf(r,n){try{const e=await Gf(r,n),t=Object.assign(Object.assign({},n),{authToken:e});return await yn(r.appConfig,t),e}catch(e){if(Hi(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await ec(r.appConfig);else{const t=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await yn(r.appConfig,t)}throw e}}function rc(r){return r!==void 0&&r.registrationStatus===2}function Zf(r){return r.requestStatus===2&&!Jf(r)}function Jf(r){const n=Date.now();return n<r.creationTime||r.creationTime+r.expiresIn<n+_f}function ep(r){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:n})}function tp(r){return r.requestStatus===1&&r.requestTime+Wi<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(r){const n=r,{installationEntry:e,registrationPromise:t}=await so(n);return t?t.catch(console.error):io(n).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(r,n=!1){const e=r;return await ap(e),(await io(e,n)).token}async function ap(r){const{registrationPromise:n}=await so(r);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r){if(!r||!r.options)throw ua("App Configuration");if(!r.name)throw ua("App Name");const n=["projectId","apiKey","appId"];for(const e of n)if(!r.options[e])throw ua(e);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ua(r){return Bt.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="installations",sp="installations-internal",ip=r=>{const n=r.getProvider("app").getImmediate(),e=op(n),t=In(n,"heartbeat");return{app:n,appConfig:e,heartbeatServiceProvider:t,_delete:()=>Promise.resolve()}},cp=r=>{const n=r.getProvider("app").getImmediate(),e=In(n,nc).getImmediate();return{getId:()=>rp(e),getToken:a=>np(e,a)}};function lp(){un(new dn(nc,ip,"PUBLIC")),un(new dn(sp,cp,"PRIVATE"))}lp();ln($i,ao);ln($i,ao,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="analytics",up="firebase_id",dp="origin",fp=60*1e3,pp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",co="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=new Sl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ee=new Js("analytics","Analytics",hp);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r){if(!r.startsWith(co)){const n=Ee.create("invalid-gtag-resource",{gtagURL:r});return Se.warn(n.message),""}return r}function ac(r){return Promise.all(r.map(n=>n.catch(e=>e)))}function gp(r,n){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(r,n)),e}function vp(r,n){const e=gp("firebase-js-sdk-policy",{createScriptURL:mp}),t=document.createElement("script"),a=`${co}?l=${r}&id=${n}`;t.src=e?e==null?void 0:e.createScriptURL(a):a,t.async=!0,document.head.appendChild(t)}function yp(r){let n=[];return Array.isArray(window[r])?n=window[r]:window[r]=n,n}async function wp(r,n,e,t,a,o){const s=t[a];try{if(s)await n[s];else{const c=(await ac(e)).find(l=>l.measurementId===a);c&&await n[c.appId]}}catch(i){Se.error(i)}r("config",a,o)}async function bp(r,n,e,t,a){try{let o=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const i=await ac(e);for(const c of s){const l=i.find(f=>f.measurementId===c),u=l&&n[l.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(n)),await Promise.all(o),r("event",t,a||{})}catch(o){Se.error(o)}}function xp(r,n,e,t){async function a(o,...s){try{if(o==="event"){const[i,c]=s;await bp(r,n,e,i,c)}else if(o==="config"){const[i,c]=s;await wp(r,n,e,t,i,c)}else if(o==="consent"){const[i,c]=s;r("consent",i,c)}else if(o==="get"){const[i,c,l]=s;r("get",i,c,l)}else if(o==="set"){const[i]=s;r("set",i)}else r(o,...s)}catch(i){Se.error(i)}}return a}function Dp(r,n,e,t,a){let o=function(...s){window[t].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=xp(o,r,n,e),{gtagCore:o,wrappedGtag:window[a]}}function kp(r){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(co)&&e.src.includes(r))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=30,Sp=1e3;class _p{constructor(n={},e=Sp){this.throttleMetadata=n,this.intervalMillis=e}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,e){this.throttleMetadata[n]=e}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const oc=new _p;function Ep(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Pp(r){var n;const{appId:e,apiKey:t}=r,a={method:"GET",headers:Ep(t)},o=pp.replace("{app-id}",e),s=await fetch(o,a);if(s.status!==200&&s.status!==304){let i="";try{const c=await s.json();!((n=c.error)===null||n===void 0)&&n.message&&(i=c.error.message)}catch(c){}throw Ee.create("config-fetch-failed",{httpStatus:s.status,responseMessage:i})}return s.json()}async function Rp(r,n=oc,e){const{appId:t,apiKey:a,measurementId:o}=r.options;if(!t)throw Ee.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:t};throw Ee.create("no-api-key")}const s=n.getThrottleMetadata(t)||{backoffCount:0,throttleEndTimeMillis:Date.now()},i=new Tp;return setTimeout(async()=>{i.abort()},fp),sc({appId:t,apiKey:a,measurementId:o},s,i,n)}async function sc(r,{throttleEndTimeMillis:n,backoffCount:e},t,a=oc){var o;const{appId:s,measurementId:i}=r;try{await Mp(t,n)}catch(c){if(i)return Se.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:i};throw c}try{const c=await Pp(r);return a.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!Op(l)){if(a.deleteThrottleMetadata(s),i)return Se.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:i};throw c}const u=Number((o=l==null?void 0:l.customData)===null||o===void 0?void 0:o.httpStatus)===503?So(e,a.intervalMillis,Cp):So(e,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return a.setThrottleMetadata(s,f),Se.debug(`Calling attemptFetch again in ${u} millis`),sc(r,f,t,a)}}function Mp(r,n){return new Promise((e,t)=>{const a=Math.max(n-Date.now(),0),o=setTimeout(e,a);r.addEventListener(()=>{clearTimeout(o),t(Ee.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function Op(r){if(!(r instanceof ei)||!r.customData)return!1;const n=Number(r.customData.httpStatus);return n===429||n===500||n===503||n===504}class Tp{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function Np(r,n,e,t,a){if(a&&a.global){r("event",e,t);return}else{const o=await n,s=Object.assign(Object.assign({},t),{send_to:o});r("event",e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(){if(ni())try{await ai()}catch(r){return Se.warn(Ee.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Se.warn(Ee.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ap(r,n,e,t,a,o,s){var i;const c=Rp(r);c.then(h=>{e[h.measurementId]=h.appId,r.options.measurementId&&h.measurementId!==r.options.measurementId&&Se.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Se.error(h)),n.push(c);const l=Ip().then(h=>{if(h)return t.getId()}),[u,f]=await Promise.all([c,l]);kp(o)||vp(o,u.measurementId),a("js",new Date);const p=(i=s==null?void 0:s.config)!==null&&i!==void 0?i:{};return p[dp]="firebase",p.update=!0,f!=null&&(p[up]=f),a("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(n){this.app=n}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},Xo=[];const Zo={};let da="dataLayer",Fp="gtag",Jo,ic,es=!1;function Lp(){const r=[];if(ri()&&r.push("This is a browser extension environment."),oi()||r.push("Cookies are not available."),r.length>0){const n=r.map((t,a)=>`(${a+1}) ${t}`).join(" "),e=Ee.create("invalid-analytics-context",{errorInfo:n});Se.warn(e.message)}}function Yp(r,n,e){Lp();const t=r.options.appId;if(!t)throw Ee.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Se.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ee.create("no-api-key");if(yr[t]!=null)throw Ee.create("already-exists",{id:t});if(!es){yp(da);const{wrappedGtag:o,gtagCore:s}=Dp(yr,Xo,Zo,da,Fp);ic=o,Jo=s,es=!0}return yr[t]=Ap(r,Xo,Zo,n,Jo,da,e),new jp(r)}function $p(r=_l()){r=ti(r);const n=In(r,wn);return n.isInitialized()?n.getImmediate():Wp(r)}function Wp(r,n={}){const e=In(r,wn);if(e.isInitialized()){const a=e.getImmediate();if(El(n,e.getOptions()))return a;throw Ee.create("already-initialized")}return e.initialize({options:n})}async function Bp(){if(ri()||!oi()||!ni())return!1;try{return await ai()}catch(r){return!1}}function Up(r,n,e,t){r=ti(r),Np(ic,yr[r.app.options.appId],n,e,t).catch(a=>Se.error(a))}const ts="@firebase/analytics",rs="0.10.8";function Hp(){un(new dn(wn,(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),a=n.getProvider("installations-internal").getImmediate();return Yp(t,a,e)},"PUBLIC")),un(new dn("analytics-internal",r,"PRIVATE")),ln(ts,rs),ln(ts,rs,"esm2017");function r(n){try{const e=n.getProvider(wn).getImmediate();return{logEvent:(t,a,o)=>Up(e,t,a,o)}}catch(e){throw Ee.create("interop-component-reg-failed",{reason:e})}}}Hp();const Fa={apiKey:"AIzaSyD1TjtSC-Mukd2EdNtiuQq-u3l3gdMP0dc",authDomain:"homefoods-16e56.firebaseapp.com",projectId:"homefoods-16e56",storageBucket:"homefoods-16e56.firebasestorage.app",messagingSenderId:"495709118320",appId:"1:495709118320:web:6fe3b7ec2b7c19d66cf9b5",measurementId:"G-6MR0ED1C3E"},qp=["apiKey","authDomain","projectId","appId"],ve=qp.some(r=>!Fa[r]);let Xt,oe,ns;ve?Promise.resolve(null):(Xt=_o().length?_o()[0]:Pl(Fa),si(Xt),oe=Rl(Xt),Fa.measurementId?Bp().then(r=>r?(ns=$p(Xt),ns):null):Promise.resolve(null));async function Kp(r,n=null,e=20){if(console.log(`[getFoodReviews] Starting fetch for foodId: "${r}", kitchenId: "${n}", limit: ${e}`),ve)return console.warn("[getFoodReviews] Firebase disabled, returning mock data"),ss(r);if(!r||r.trim()==="")return console.log("[getFoodReviews] No foodId provided, returning empty array"),[];const t=r.trim();console.log(`[getFoodReviews] Cleaned foodId: "${t}"`);try{let a=[];if(n){console.log(`[getFoodReviews] Searching reviews in kitchen: ${n}`);const o=me(oe,"kitchens",n,"reviews"),s=he(o,Pt("foodId","==",t),He(e));a=(await fe(s)).docs.map(c=>({id:c.id,kitchenId:n,...c.data()})),console.log(`[getFoodReviews] Found ${a.length} reviews in kitchen ${n}`)}else{console.log("[getFoodReviews] Searching reviews across all kitchens...");const o=he(me(oe,"kitchens")),s=await fe(o);console.log(`[getFoodReviews] Found ${s.size} kitchens to search`);for(const i of s.docs)try{const c=me(oe,"kitchens",i.id,"reviews"),l=he(c,Pt("foodId","==",t),He(e)),f=(await fe(l)).docs.map(p=>({id:p.id,kitchenId:i.id,...p.data()}));if(a.push(...f),console.log(`[getFoodReviews] Found ${f.length} reviews in kitchen ${i.id}`),a.length>=e)break}catch(c){console.warn(`[getFoodReviews] Error searching kitchen ${i.id}:`,c);continue}}return a.length>0&&(a=a.sort((o,s)=>{const i=u=>u?typeof u=="string"?u.includes(" at ")?new Date(u.replace(" at "," ").replace(" UTC+5","")):new Date(u):u.seconds?new Date(u.seconds*1e3):new Date(u):new Date(0),c=i(o.timeStamp);return i(s.timeStamp)-c}),a=a.slice(0,e)),console.log(`[getFoodReviews] Final result - Found ${a.length} reviews for food '${t}':`,a),a}catch(a){return console.error("[getFoodReviews] Error fetching food reviews:",a),console.log("[getFoodReviews] Returning mock data due to error"),ss(t)}}async function Qp(r,n=null){if(console.log(`[debugReviewsQuery] Testing query for foodId: ${r}, kitchenId: ${n}`),ve)return console.warn("[debugReviewsQuery] Firebase disabled"),{status:"disabled"};try{let e=[],t=[];const a=he(me(oe,"kitchens")),o=await fe(a);console.log(`[debugReviewsQuery] Found ${o.size} kitchens`);for(const i of o.docs)try{t.push(i.id);const c=me(oe,"kitchens",i.id,"reviews"),u=(await fe(he(c,He(50)))).docs.map(f=>({id:f.id,kitchenId:i.id,...f.data()}));if(console.log(`[debugReviewsQuery] Kitchen ${i.id} has ${u.length} total reviews`),u.length>0&&console.log(`[debugReviewsQuery] Sample reviews from kitchen ${i.id}:`,u.slice(0,2)),r){const f=he(c,Pt("foodId","==",r)),h=(await fe(f)).docs.map(g=>({id:g.id,kitchenId:i.id,...g.data()}));h.length>0&&(console.log(`[debugReviewsQuery] Found ${h.length} reviews for foodId '${r}' in kitchen ${i.id}:`,h),e.push(...h))}e.push(...u)}catch(c){console.warn(`[debugReviewsQuery] Error checking kitchen ${i.id}:`,c);continue}const s=[...new Set(e.map(i=>i.foodId))];return console.log("[debugReviewsQuery] All unique foodIds in reviews:",s),{status:"success",requestedFoodId:r,kitchensSearched:t,allReviewsCount:e.length,matchingReviewsCount:e.filter(i=>i.foodId===r).length,uniqueFoodIds:s,sampleReviews:e.slice(0,5)}}catch(e){return console.error("[debugReviewsQuery] Error:",e),{status:"error",error:e.message}}}async function Gp(r,n=null){if(console.log(`[getFoodLikes] Starting fetch for foodId: ${r}, kitchenId: ${n}`),ve)return console.warn("[getFoodLikes] Firebase disabled, returning mock data"),os(r);if(!r||r.trim()==="")return console.log("[getFoodLikes] No foodId provided, returning empty array"),[];try{let e=[];if(n)try{console.log(`[getFoodLikes] Searching likes in kitchen ${n} subcollection`);const i=me(oe,"kitchens",n,"Likes");let c=he(i,Pt("foodId","==",r)),l=await fe(c),u=l.docs.map(f=>({id:f.id,kitchenId:n,...f.data()}));u.length===0&&(c=he(i,Pt("productId","==",r)),l=await fe(c),u=l.docs.map(f=>({id:f.id,kitchenId:n,...f.data()}))),e.push(...u),console.log(`[getFoodLikes] Found ${u.length} likes in kitchen subcollection`)}catch(i){console.warn("[getFoodLikes] Error searching kitchen subcollection:",i)}console.log("[getFoodLikes] Querying top-level Likes collection");let t=he(me(oe,"Likes"),Pt("foodId","==",r)),a=await fe(t),o=a.docs.map(i=>({id:i.id,...i.data()}));o.length===0&&(console.log("[getFoodLikes] No results with foodId, trying productId in top-level..."),t=he(me(oe,"Likes"),Pt("productId","==",r)),a=await fe(t),o=a.docs.map(i=>({id:i.id,...i.data()}))),e.push(...o),console.log(`[getFoodLikes] Found ${o.length} likes in top-level collection`);const s=e.filter((i,c,l)=>l.findIndex(u=>u.id===i.id)===c);return console.log(`[getFoodLikes] Total unique likes: ${s.length}`),s}catch(e){return console.error("[getFoodLikes] Error fetching food likes:",e),console.log("[getFoodLikes] Returning mock data due to error"),os(r)}}async function zp(){if(ve)return console.log("Firebase is disabled - check your .env file"),{status:"disabled"};try{console.log("Testing Firestore connection...");const r=me(oe,"kitchens"),n=await fe(he(r,He(5))),e=n.docs.map(l=>({id:l.id,...l.data()}));let t=[],a=[];for(const l of e)try{const u=me(oe,"kitchens",l.id,"reviews"),p=(await fe(he(u,He(5)))).docs.map(m=>({id:m.id,kitchenId:l.id,...m.data()}));t.push(...p);const h=me(oe,"kitchens",l.id,"Likes"),y=(await fe(he(h,He(5)))).docs.map(m=>({id:m.id,kitchenId:l.id,...m.data()}));a.push(...y),console.log(`Kitchen ${l.id}: ${p.length} reviews, ${y.length} likes`)}catch(u){console.warn(`Error testing kitchen ${l.id} subcollections:`,u)}const o=me(oe,"Likes"),i=(await fe(he(o,He(10)))).docs.map(l=>({id:l.id,...l.data()}));console.log("Reviews found in kitchen subcollections:",t),console.log("Likes found in kitchen subcollections:",a),console.log("Likes found in top-level collection:",i);const c={status:"connected",collections:{kitchens:{count:n.size,samples:e,sampleIds:e.map(l=>l.id)},reviews:{source:"kitchen_subcollections",count:t.length,samples:t,sampleIds:t.map(l=>l.id),foodIds:t.map(l=>l.foodId)},likes:{subcollectionCount:a.length,topLevelCount:i.length,samples:[...a,...i],foodIds:[...a,...i].map(l=>l.foodId||l.productId)}}};return console.log("Firestore Test Results:",c),c}catch(r){return console.error("Firestore connection test failed:",r),{status:"error",error:r.message}}}async function Vp(r,n=null){console.log(`[getFoodDetailWithKitchenAndReviews] Fetching food: ${r}, kitchen: ${n}`);try{const e=await cc(r,n),t=n||e.kitchenId;console.log(`[getFoodDetailWithKitchenAndReviews] Using kitchenId: ${t}`);const[a,o,s]=await Promise.all([t?Xp(t):Promise.resolve(null),Gp(r,t),Kp(r,t)]),i=lc(s);console.log("ðŸš€ ~ getFoodDetailWithKitchenAndReviews ~ reviewStats:",i);const c={food:e,kitchen:a,likes:o,reviews:s,totalLikes:o.length,reviewStats:i};return console.log("[getFoodDetailWithKitchenAndReviews] Complete result:",c),c}catch(e){throw console.error("[getFoodDetailWithKitchenAndReviews] Error fetching food detail:",e),e}}async function cc(r,n=null){if(console.log(`[getFoodById] Starting fetch for foodId: ${r}, kitchenId: ${n}`),ve)return console.warn("[getFoodById] Firebase disabled, returning mock data"),Mt(r);if(!r||r.trim()==="")throw console.error("[getFoodById] Invalid foodId provided:",r),new Error("Food ID is required and cannot be empty");try{let e,t=null,a=null;if(n&&(console.log(`[getFoodById] Querying kitchens/${n}/foodItems/${r}`),e=await mr(gr(oe,"kitchens",n,"foodItems",r)),e.exists()))return t={id:e.id,...e.data()},a=n,console.log("[getFoodById] Found in specific kitchen subcollection:",t),{...t,kitchenId:a};if(!t){console.log("[getFoodById] Searching across all kitchen subcollections...");const o=he(me(oe,"kitchens")),s=await fe(o);for(const i of s.docs)try{const c=gr(oe,"kitchens",i.id,"foodItems",r),l=await mr(c);if(l.exists())return t={id:l.id,...l.data()},a=i.id,console.log(`[getFoodById] Found in kitchen ${i.id}:`,t),{...t,kitchenId:a}}catch(c){console.warn(`[getFoodById] Error checking kitchen ${i.id}:`,c);continue}}if(console.log(`[getFoodById] Trying top-level foodItems/${r}`),e=await mr(gr(oe,"foodItems",r)),e.exists()){const o={id:e.id,...e.data()};return console.log("[getFoodById] Found in top-level collection:",o),o}return console.warn(`[getFoodById] Food item with ID '${r}' not found anywhere`),Mt(r)}catch(e){return console.error("[getFoodById] Error fetching food item:",e),Mt(r)}}async function Xp(r){if(console.log(`[getKitchenById] Starting fetch for kitchenId: ${r}`),ve)return console.warn("[getKitchenById] Firebase disabled, returning mock data"),Nt(r);if(!r||r.trim()==="")throw console.error("[getKitchenById] Invalid kitchenId provided:",r),new Error("Kitchen ID is required and cannot be empty");try{console.log(`[getKitchenById] Querying Firestore collection 'kitchens' for document: ${r}`);const n=await mr(gr(oe,"kitchens",r));if(console.log(`[getKitchenById] Document exists: ${n.exists()}`),!n.exists())return console.warn(`[getKitchenById] Kitchen with ID '${r}' not found in Firestore`),console.log("[getKitchenById] Returning mock data as fallback"),Nt(r);const e={id:n.id,...n.data()};return console.log("[getKitchenById] Successfully fetched kitchen data:",e),e}catch(n){return console.error("[getKitchenById] Error fetching kitchen:",n),console.log("[getKitchenById] Returning mock data due to error"),Nt(r)}}function lc(r){if(!r||r.length===0)return{totalReviews:0,averageRating:0,ratingBreakdown:{5:0,4:0,3:0,2:0,1:0},ratingPercentages:{5:0,4:0,3:0,2:0,1:0}};const n=r.length;console.log("ðŸš€ ~ calculateReviewStats ~ totalReviews:",n);const e={5:0,4:0,3:0,2:0,1:0};let t=0;r.forEach(s=>{const i=Math.floor(s.rating||0);i>=1&&i<=5&&(e[i]++,t+=s.rating)});const a=n>0?t/n:0,o={};for(let s=1;s<=5;s++)o[s]=n>0?e[s]/n*100:0;return{totalReviews:n,averageRating:parseFloat(a.toFixed(1)),ratingBreakdown:e,ratingPercentages:o}}async function Zp(r=20){if(console.log(`[getAllFoods] Starting fetch with limit: ${r}`),ve)return It();try{const n=he(me(oe,"foodItems"),He(r)),t=(await fe(n)).docs.map(a=>({id:a.id,...a.data()}));return t.length>0?t:It()}catch(n){return console.error("[getAllFoods] Error:",n),It()}}async function uc(r,n=1e3){if(console.log(`[getKitchenAllReviews] Fetching all reviews for kitchen: ${r}`),ve)return console.warn("[getKitchenAllReviews] Firebase disabled, returning mock data"),as(r);if(!r||r.trim()==="")return console.log("[getKitchenAllReviews] No kitchenId provided, returning empty array"),[];try{console.log(`[getKitchenAllReviews] Querying reviews subcollection for kitchen: ${r}`);const e=me(oe,"kitchens",r,"reviews"),t=he(e,He(n)),o=(await fe(t)).docs.map(s=>({id:s.id,kitchenId:r,...s.data()}));return console.log(`[getKitchenAllReviews] Found ${o.length} total reviews for kitchen ${r}`),o.length>0&&o.sort((s,i)=>{const c=f=>f?typeof f=="string"?f.includes(" at ")?new Date(f.replace(" at "," ").replace(" UTC+5","")):new Date(f):f.seconds?new Date(f.seconds*1e3):new Date(f):new Date(0),l=c(s.timeStamp);return c(i.timeStamp)-l}),console.log(`[getKitchenAllReviews] Returning ${o.length} reviews for kitchen ${r}`),o}catch(e){return console.error("[getKitchenAllReviews] Error fetching kitchen reviews:",e),console.log("[getKitchenAllReviews] Returning mock data due to error"),as(r)}}async function Jp(r){console.log(`[getKitchenReviewStats] Getting review stats for kitchen: ${r}`);try{const n=await uc(r),t={...lc(n),kitchenId:r,reviewsList:n,uniqueFoodIds:[...new Set(n.map(a=>a.foodId).filter(Boolean))],lastUpdated:new Date().toISOString()};return console.log(`[getKitchenReviewStats] Kitchen ${r} stats:`,t),t}catch(n){return console.error("[getKitchenReviewStats] Error calculating kitchen stats:",n),{kitchenId:r,totalReviews:0,averageRating:0,ratingBreakdown:{5:0,4:0,3:0,2:0,1:0},ratingPercentages:{5:0,4:0,3:0,2:0,1:0},reviewsList:[],uniqueFoodIds:[],lastUpdated:new Date().toISOString(),error:n.message}}}function as(r){return[{id:"kitchen-review-1",kitchenId:r,foodId:"food-1",userId:"user-1",userName:"Alice Johnson",userProfile:"",rating:5,message:"Amazing food from this kitchen! The Dim Sum was perfect.",timeStamp:"July 10, 2025 at 2:30:00 PM UTC+5",orderId:"order-1"},{id:"kitchen-review-2",kitchenId:r,foodId:"food-2",userId:"user-2",userName:"Bob Smith",userProfile:"",rating:4,message:"Great kitchen, fast delivery and tasty food.",timeStamp:"July 9, 2025 at 7:15:00 PM UTC+5",orderId:"order-2"},{id:"kitchen-review-3",kitchenId:r,foodId:"food-1",userId:"user-3",userName:"Carol Davis",userProfile:"",rating:5,message:"Best kitchen in the area! Highly recommend.",timeStamp:"July 8, 2025 at 12:45:00 PM UTC+5",orderId:"order-3"}]}function Mt(r){return{id:r,name:"Dim Sum (Dumplings)",description:"A timeless delicacy from Chinese cuisine, Dim Sum dumplings are handcrafted pockets of flavor, delicately wrapped in thin, translucent dough. Each dumpling is steamed to perfection, preserving the juicy, savory filling inside.",cost:150,foodCategory:"1, 2",foodType:"Chinese",imageUrl:"/src/assets/images/product.png",kitchenId:"mock-kitchen-1",kitchenName:"Resto Parmato Bapo",isFeatured:!0,availability:{numAvailable:15,numOfSoldItem:85},engagement:{numOfLike:127,rating:4.9,numRatings:1247,countRating:1247}}}function Nt(r){const n=new Date,e=new Date(n);e.setDate(n.getDate()+1);const t=new Date(n);t.setDate(n.getDate()+2);const a=o=>o.toISOString().split("T")[0];return{id:r,name:"Coco's Kitchen",address:"Lahore-Sialkot Motorway",city:"San Francisco",cuisine:"Thai",description:"This is the kitchen of James done. This is the kitchen of James done, This is the kitchen of James done.This is the kitchen of James done",ownerId:"mock-owner-1",location:{latitude:37.5485,longitude:-121.9886},rating:4.9,ratingCount:1247,preorderSchedule:{dates:{[a(e)]:[{id:"schedule-1",foodItemId:"food-3",nameOfFood:"Dim Sum (Dumplings)",availableTimes:["6:22 PM","7:30 PM"],numOfAvailableItems:10,isLimitedOrder:!1},{id:"schedule-2",foodItemId:"food-4",nameOfFood:"Margherita Pizza",availableTimes:["6:22 PM","8:00 PM"],numOfAvailableItems:8,isLimitedOrder:!1}],[a(t)]:[{id:"schedule-3",foodItemId:"food-3",nameOfFood:"Dim Sum (Dumplings)",availableTimes:["5:30 PM","7:00 PM"],numOfAvailableItems:12,isLimitedOrder:!1}]}}}}function It(){return[Mt("food-1"),{...Mt("food-2"),id:"food-2",name:"Margherita Pizza",cost:12.45,availability:{numAvailable:5,numOfSoldItem:2},imageUrl:"/src/assets/images/order2.png"},{...Mt("food-3"),id:"food-3",name:"Dim Sum (Dumplings)",cost:22.45,availability:{numAvailable:0,numOfSoldItem:15},imageUrl:"/src/assets/images/order1.png"},{...Mt("food-4"),id:"food-4",name:"Margherita Pizza (Pre-order)",cost:12.45,availability:{numAvailable:0,numOfSoldItem:8},imageUrl:"/src/assets/images/order2.png"}]}function os(r){return[{id:"like-1",userID:"user-1",foodId:r,status:"liked",timestamp:"2025-08-01T10:00:00Z"},{id:"like-2",userID:"user-2",foodId:r,status:"liked",timestamp:"2025-08-02T15:30:00Z"}]}function ss(r){return[{id:"review-1",foodId:r,userId:"z6HJ9L3KS3XR9yLZ9rexp7K4Eo43",userName:"Testing55",userProfile:"",rating:4,message:"Testing",timeStamp:"July 7, 2025 at 6:06:01 PM UTC+5",orderId:"PrH8qFuHeHDlpfAw6c9"},{id:"review-2",foodId:r,userId:"user-456",userName:"John Doe",userProfile:"",rating:5,message:"Great food, would definitely order again!",timeStamp:"2025-07-07T15:30:00Z",orderId:"order-456"},{id:"review-3",foodId:r,userId:"user-789",userName:"Jane Smith",userProfile:"",rating:5,message:"Perfect! Exceeded my expectations.",timeStamp:"2025-07-06T10:15:30Z",orderId:"order-789"}]}async function eh(r){if(console.log(`[getKitchenWithFoodItems] Fetching kitchen: ${r}`),ve)return console.warn("[getKitchenWithFoodItems] Firebase disabled, returning mock data"),{kitchen:Nt(r),foods:It()};try{const n=await mr(gr(oe,"kitchens",r));if(!n.exists())return console.warn(`[getKitchenWithFoodItems] Kitchen ${r} not found`),{kitchen:null,foods:[]};const e={id:n.id,...n.data()},t=me(oe,"kitchens",r,"foodItems"),o=(await fe(t)).docs.map(s=>({id:s.id,kitchenId:r,...s.data()}));return console.log(`[getKitchenWithFoodItems] Found ${o.length} food items for kitchen ${r}`),{kitchen:e,foods:o}}catch(n){return console.error("[getKitchenWithFoodItems] Error:",n),{kitchen:Nt(r),foods:It()}}}async function th(r=10){if(console.log(`[getAllKitchensWithFoodItems] Fetching up to ${r} kitchens`),ve)return console.warn("[getAllKitchensWithFoodItems] Firebase disabled, returning mock data"),[{kitchen:Nt("mock-kitchen-1"),foods:It()}];try{const n=he(me(oe,"kitchens"),He(r)),e=await fe(n),t=[];for(const a of e.docs){const o={id:a.id,...a.data()},s=me(oe,"kitchens",a.id,"foodItems"),c=(await fe(s)).docs.map(l=>({id:l.id,kitchenId:a.id,...l.data()}));t.push({kitchen:o,foods:c}),console.log(`[getAllKitchensWithFoodItems] Kitchen ${a.id}: ${c.length} food items`)}return console.log(`[getAllKitchensWithFoodItems] Loaded ${t.length} kitchens with food data`),t}catch(n){return console.error("[getAllKitchensWithFoodItems] Error:",n),[{kitchen:Nt("mock-kitchen-1"),foods:It()}]}}const wr=ce("food/fetchDetail",async({foodId:r,kitchenId:n})=>{try{return{...await Vp(r,n),foodId:r,kitchenId:n}}catch(e){return{food:await cc(r),kitchen:null,likes:[],reviews:[],reviewStats:null,foodId:r,kitchenId:n}}}),fa=ce("food/fetchAll",async(r=20)=>await Zp(r)),La=ce("food/toggleLike",async(r,{getState:n})=>{var s;const{auth:e,food:t}=n(),a=(s=e.user)==null?void 0:s.id;if(!a)throw new Error("User not authenticated");const o=t.likedFoods.includes(r);return console.log(`${o?"Unliking":"Liking"} food:`,{foodId:r,userId:a}),await new Promise(i=>setTimeout(i,300)),{foodId:r,userId:a,liked:!o}});ce("food/refresh",async({foodId:r,kitchenId:n},{dispatch:e})=>e(wr({foodId:r,kitchenId:n})));const dc=Mr({name:"food",initialState:{currentFood:null,currentKitchen:null,currentReviews:[],currentReviewStats:null,currentLikes:[],allFoods:[],likedFoods:[],loading:!1,allFoodsLoading:!1,error:null,allFoodsError:null,lastUpdated:null,allFoodsLastUpdated:null},reducers:{clearCurrentFood:r=>{r.currentFood=null,r.currentKitchen=null,r.currentReviews=[],r.currentReviewStats=null,r.currentLikes=[],r.error=null},clearError:r=>{r.error=null},clearAllFoodsError:r=>{r.allFoodsError=null},updateFoodInList:(r,n)=>{var o;const{foodId:e,updates:t}=n.payload,a=r.allFoods.findIndex(s=>s.id===e);a!==-1&&(r.allFoods[a]={...r.allFoods[a],...t}),((o=r.currentFood)==null?void 0:o.id)===e&&(r.currentFood={...r.currentFood,...t})},toggleLikeLocally:(r,n)=>{const e=n.payload;r.likedFoods.includes(e)?r.likedFoods=r.likedFoods.filter(a=>a!==e):r.likedFoods.push(e)}},extraReducers:r=>{r.addCase(wr.pending,n=>{n.loading=!0,n.error=null}).addCase(wr.fulfilled,(n,e)=>{n.loading=!1;const{food:t,kitchen:a,likes:o,reviews:s,reviewStats:i}=e.payload;n.currentFood=t,n.currentKitchen=a,n.currentReviews=s||[],n.currentReviewStats=i,n.currentLikes=o||[],n.lastUpdated=new Date().toISOString()}).addCase(wr.rejected,(n,e)=>{n.loading=!1,n.error=e.error.message}).addCase(fa.pending,n=>{n.allFoodsLoading=!0,n.allFoodsError=null}).addCase(fa.fulfilled,(n,e)=>{n.allFoodsLoading=!1,n.allFoods=e.payload,n.allFoodsLastUpdated=new Date().toISOString()}).addCase(fa.rejected,(n,e)=>{n.allFoodsLoading=!1,n.allFoodsError=e.error.message}).addCase(La.fulfilled,(n,e)=>{const{foodId:t,liked:a}=e.payload;a&&!n.likedFoods.includes(t)?n.likedFoods.push(t):a||(n.likedFoods=n.likedFoods.filter(o=>o!==t))}).addCase(La.rejected,(n,e)=>{const t=e.meta.arg;n.likedFoods.includes(t)?n.likedFoods=n.likedFoods.filter(o=>o!==t):n.likedFoods.push(t)})}}),{clearCurrentFood:rh,clearError:Wy,clearAllFoodsError:By,updateFoodInList:Uy,toggleLikeLocally:nh}=dc.actions,ah=dc.reducer,vt=ce("cart/addToCart",async({foodId:r,kitchenId:n,quantity:e,selectedDate:t,orderType:a,food:o,specialInstructions:s},{getState:i})=>{var u;const{auth:c}=i(),l=(u=c.user)==null?void 0:u.id;if(!l)throw new Error("User not authenticated");return console.log("Adding to cart:",{foodId:r,kitchenId:n,quantity:e,selectedDate:t,orderType:a,specialInstructions:s,userId:l}),await new Promise(f=>setTimeout(f,500)),{id:`cart-item-${Date.now()}`,foodId:r,kitchenId:n,userId:l,quantity:e,selectedDate:t,orderType:a,specialInstructions:s||"",food:o||null,addedAt:new Date().toISOString()}}),At=ce("cart/removeFromCart",async(r,{getState:n})=>{var a;const{auth:e}=n(),t=(a=e.user)==null?void 0:a.id;if(!t)throw new Error("User not authenticated");return console.log("Removing from cart:",{cartItemId:r,userId:t}),await new Promise(o=>setTimeout(o,300)),r}),br=ce("cart/updateQuantity",async({cartItemId:r,quantity:n},{getState:e})=>{var o;const{auth:t}=e(),a=(o=t.user)==null?void 0:o.id;if(!a)throw new Error("User not authenticated");return console.log("Updating cart quantity:",{cartItemId:r,quantity:n,userId:a}),await new Promise(s=>setTimeout(s,300)),{cartItemId:r,quantity:n}}),bn=ce("cart/updateItem",async({cartItemId:r,quantity:n,specialInstructions:e},{getState:t})=>{var s;const{auth:a}=t(),o=(s=a.user)==null?void 0:s.id;if(!o)throw new Error("User not authenticated");return console.log("Updating cart item:",{cartItemId:r,quantity:n,specialInstructions:e,userId:o}),await new Promise(i=>setTimeout(i,300)),{cartItemId:r,quantity:n,specialInstructions:e}}),fc=ce("cart/fetchCart",async(r,{getState:n})=>{var a;const{auth:e}=n(),t=(a=e.user)==null?void 0:a.id;if(!t)throw new Error("User not authenticated");return console.log("Fetching cart for user:",t),[]}),ht=Mr({name:"cart",initialState:{items:[],totalItems:0,totalAmount:0,loading:!1,error:null,lastUpdated:null},reducers:{clearCart:r=>{r.items=[],r.totalItems=0,r.totalAmount=0,r.lastUpdated=new Date().toISOString()},clearError:r=>{r.error=null},calculateTotals:r=>{r.totalItems=r.items.reduce((n,e)=>n+e.quantity,0),r.totalAmount=r.items.reduce((n,e)=>{var a;const t=((a=e.food)==null?void 0:a.cost)||0;return n+parseFloat(t)*e.quantity},0),r.lastUpdated=new Date().toISOString()},addItemLocally:(r,n)=>{const{foodId:e,quantity:t,selectedDate:a}=n.payload,o=r.items.find(s=>s.foodId===e&&s.selectedDate===a);o?o.quantity+=t:r.items.push(n.payload),ht.caseReducers.calculateTotals(r)}},extraReducers:r=>{r.addCase(vt.pending,n=>{n.loading=!0,n.error=null}).addCase(vt.fulfilled,(n,e)=>{n.loading=!1;const t=e.payload,a=n.items.find(o=>o.foodId===t.foodId&&o.selectedDate===t.selectedDate&&o.specialInstructions===t.specialInstructions);a?a.quantity+=t.quantity:n.items.push(t),ht.caseReducers.calculateTotals(n)}).addCase(vt.rejected,(n,e)=>{n.loading=!1,n.error=e.error.message}).addCase(At.pending,n=>{n.loading=!0}).addCase(At.fulfilled,(n,e)=>{n.loading=!1,n.items=n.items.filter(t=>t.id!==e.payload),ht.caseReducers.calculateTotals(n)}).addCase(At.rejected,(n,e)=>{n.loading=!1,n.error=e.error.message}).addCase(br.fulfilled,(n,e)=>{const{cartItemId:t,quantity:a}=e.payload,o=n.items.find(s=>s.id===t);o&&(o.quantity=a),ht.caseReducers.calculateTotals(n)}).addCase(bn.fulfilled,(n,e)=>{const{cartItemId:t,quantity:a,specialInstructions:o}=e.payload,s=n.items.find(i=>i.id===t);s&&(s.quantity=a,o!==void 0&&(s.specialInstructions=o)),ht.caseReducers.calculateTotals(n)}).addCase(fc.fulfilled,(n,e)=>{n.items=e.payload,ht.caseReducers.calculateTotals(n)}).addCase(Bn,(n,e)=>{var t;if((t=e.payload)!=null&&t.cart)return{...n,...e.payload.cart,loading:!1,error:null}})}}),{clearCart:lo,clearError:oh,calculateTotals:sh,addItemLocally:ih}=ht.actions,pc=ht.reducer,hc=Object.freeze(Object.defineProperty({__proto__:null,addItemLocally:ih,addToCart:vt,calculateTotals:sh,clearCart:lo,clearError:oh,default:pc,fetchCart:fc,removeFromCart:At,updateCartItem:bn,updateCartQuantity:br},Symbol.toStringTag,{value:"Module"})),Zr=ce("kitchen/fetchStats",async r=>{try{const n=await Jp(r);return{kitchenId:r,stats:n}}catch(n){throw console.error("Error fetching kitchen stats:",n),n}}),Jr=ce("kitchen/fetchReviews",async({kitchenId:r,limit:n=10})=>{try{const e=await uc(r,n);return{kitchenId:r,reviews:e}}catch(e){throw console.error("Error fetching kitchen reviews:",e),e}}),ch=ce("kitchen/addReview",async({kitchenId:r,reviewData:n},{getState:e})=>{var i,c;const{auth:t}=e(),a=(i=t.user)==null?void 0:i.id,o=((c=t.user)==null?void 0:c.name)||"Anonymous";if(!a)throw new Error("User not authenticated");console.log("Adding kitchen review:",{kitchenId:r,reviewData:n,userId:a,userName:o}),await new Promise(l=>setTimeout(l,500));const s={id:`review-${Date.now()}`,userId:a,userName:o,rating:n.rating,comment:n.comment,timestamp:new Date().toISOString(),kitchenId:r};return{kitchenId:r,review:s}}),lh=ce("kitchen/updateReview",async({kitchenId:r,reviewId:n,updates:e},{getState:t})=>{var s;const{auth:a}=t(),o=(s=a.user)==null?void 0:s.id;if(!o)throw new Error("User not authenticated");return console.log("Updating kitchen review:",{kitchenId:r,reviewId:n,updates:e,userId:o}),await new Promise(i=>setTimeout(i,300)),{kitchenId:r,reviewId:n,updates:e}}),uh=ce("kitchen/deleteReview",async({kitchenId:r,reviewId:n},{getState:e})=>{var o;const{auth:t}=e(),a=(o=t.user)==null?void 0:o.id;if(!a)throw new Error("User not authenticated");return console.log("Deleting kitchen review:",{kitchenId:r,reviewId:n,userId:a}),await new Promise(s=>setTimeout(s,300)),{kitchenId:r,reviewId:n}}),mc=Mr({name:"kitchen",initialState:{kitchenStats:{},kitchenReviews:{},statsLoading:{},reviewsLoading:{},statsError:{},reviewsError:{},statsLastUpdated:{},reviewsLastUpdated:{}},reducers:{clearKitchenData:(r,n)=>{const e=n.payload;delete r.kitchenStats[e],delete r.kitchenReviews[e],delete r.statsLoading[e],delete r.reviewsLoading[e],delete r.statsError[e],delete r.reviewsError[e],delete r.statsLastUpdated[e],delete r.reviewsLastUpdated[e]},clearAllKitchenData:()=>({kitchenStats:{},kitchenReviews:{},statsLoading:{},reviewsLoading:{},statsError:{},reviewsError:{},statsLastUpdated:{},reviewsLastUpdated:{}}),clearKitchenErrors:(r,n)=>{const e=n.payload;delete r.statsError[e],delete r.reviewsError[e]}},extraReducers:r=>{r.addCase(Zr.pending,(n,e)=>{const t=e.meta.arg;n.statsLoading[t]=!0,delete n.statsError[t]}).addCase(Zr.fulfilled,(n,e)=>{const{kitchenId:t,stats:a}=e.payload;n.statsLoading[t]=!1,n.kitchenStats[t]=a,n.statsLastUpdated[t]=new Date().toISOString()}).addCase(Zr.rejected,(n,e)=>{const t=e.meta.arg;n.statsLoading[t]=!1,n.statsError[t]=e.error.message}).addCase(Jr.pending,(n,e)=>{const{kitchenId:t}=e.meta.arg;n.reviewsLoading[t]=!0,delete n.reviewsError[t]}).addCase(Jr.fulfilled,(n,e)=>{const{kitchenId:t,reviews:a}=e.payload;n.reviewsLoading[t]=!1,n.kitchenReviews[t]=a,n.reviewsLastUpdated[t]=new Date().toISOString()}).addCase(Jr.rejected,(n,e)=>{const{kitchenId:t}=e.meta.arg;n.reviewsLoading[t]=!1,n.reviewsError[t]=e.error.message}).addCase(ch.fulfilled,(n,e)=>{const{kitchenId:t,review:a}=e.payload;if(n.kitchenReviews[t]||(n.kitchenReviews[t]=[]),n.kitchenReviews[t].unshift(a),n.kitchenStats[t]){const o=n.kitchenStats[t],s=o.totalReviews||0,i=(o.averageRating||0)*s,c=s+1,l=i+a.rating;n.kitchenStats[t]={...o,totalReviews:c,averageRating:l/c}}}).addCase(lh.fulfilled,(n,e)=>{const{kitchenId:t,reviewId:a,updates:o}=e.payload;if(n.kitchenReviews[t]){const s=n.kitchenReviews[t].findIndex(i=>i.id===a);if(s!==-1){const i=n.kitchenReviews[t][s].rating;if(n.kitchenReviews[t][s]={...n.kitchenReviews[t][s],...o,updatedAt:new Date().toISOString()},o.rating&&o.rating!==i&&n.kitchenStats[t]){const c=n.kitchenStats[t],l=c.totalReviews||0,f=(c.averageRating||0)*l-i+o.rating;n.kitchenStats[t]={...c,averageRating:f/l}}}}}).addCase(uh.fulfilled,(n,e)=>{const{kitchenId:t,reviewId:a}=e.payload;if(n.kitchenReviews[t]){const o=n.kitchenReviews[t].findIndex(s=>s.id===a);if(o!==-1){const s=n.kitchenReviews[t][o].rating;if(n.kitchenReviews[t].splice(o,1),n.kitchenStats[t]){const i=n.kitchenStats[t],c=i.totalReviews||0;if(c>1){const l=(i.averageRating||0)*c,u=c-1,f=l-s;n.kitchenStats[t]={...i,totalReviews:u,averageRating:f/u}}else n.kitchenStats[t]={...i,totalReviews:0,averageRating:0}}}}})}}),{clearKitchenData:Hy,clearAllKitchenData:qy,clearKitchenErrors:Ky}=mc.actions,dh=mc.reducer,en=ce("reviews/fetchFoodReviews",async({foodId:r,kitchenId:n,limit:e=10})=>{try{console.log("Fetching food reviews:",{foodId:r,kitchenId:n,limit:e}),await new Promise(a=>setTimeout(a,300));const t=[{id:`review-1-${r}`,userId:"user-001",userName:"Alice Chen",rating:5,comment:"Absolutely delicious! Perfect taste and portion size.",timestamp:new Date(Date.now()-864e5).toISOString(),foodId:r,kitchenId:n,verified:!0},{id:`review-2-${r}`,userId:"user-002",userName:"Bob Wilson",rating:4,comment:"Great food, fast delivery. Will order again!",timestamp:new Date(Date.now()-1728e5).toISOString(),foodId:r,kitchenId:n,verified:!0},{id:`review-3-${r}`,userId:"user-003",userName:"Carol Davis",rating:5,comment:"Outstanding quality! Fresh ingredients and amazing flavors.",timestamp:new Date(Date.now()-2592e5).toISOString(),foodId:r,kitchenId:n,verified:!0}].slice(0,e);return{foodId:r,kitchenId:n,reviews:t}}catch(t){throw console.error("Error fetching food reviews:",t),t}}),tn=ce("reviews/addFoodReview",async({foodId:r,kitchenId:n,reviewData:e},{getState:t})=>{var c,l;const{auth:a}=t(),o=(c=a.user)==null?void 0:c.id,s=((l=a.user)==null?void 0:l.name)||"Anonymous";if(!o)throw new Error("User not authenticated");console.log("Adding food review:",{foodId:r,kitchenId:n,reviewData:e,userId:o,userName:s}),await new Promise(u=>setTimeout(u,500));const i={id:`review-${Date.now()}`,userId:o,userName:s,rating:e.rating,comment:e.comment,timestamp:new Date().toISOString(),foodId:r,kitchenId:n,verified:!0};return{foodId:r,kitchenId:n,review:i}}),fh=ce("reviews/updateFoodReview",async({foodId:r,kitchenId:n,reviewId:e,updates:t},{getState:a})=>{var i;const{auth:o}=a(),s=(i=o.user)==null?void 0:i.id;if(!s)throw new Error("User not authenticated");return console.log("Updating food review:",{foodId:r,kitchenId:n,reviewId:e,updates:t,userId:s}),await new Promise(c=>setTimeout(c,300)),{foodId:r,kitchenId:n,reviewId:e,updates:t}}),ph=ce("reviews/deleteFoodReview",async({foodId:r,kitchenId:n,reviewId:e},{getState:t})=>{var s;const{auth:a}=t(),o=(s=a.user)==null?void 0:s.id;if(!o)throw new Error("User not authenticated");return console.log("Deleting food review:",{foodId:r,kitchenId:n,reviewId:e,userId:o}),await new Promise(i=>setTimeout(i,300)),{foodId:r,kitchenId:n,reviewId:e}}),pa=ce("reviews/fetchUserReviews",async({limit:r=20},{getState:n})=>{var o;const{auth:e}=n(),t=(o=e.user)==null?void 0:o.id;if(!t)throw new Error("User not authenticated");return console.log("Fetching user reviews:",{userId:t,limit:r}),await new Promise(s=>setTimeout(s,300)),[{id:"user-review-1",userId:t,userName:e.user.name,rating:5,comment:"Loved this dish! Perfect for dinner.",timestamp:new Date(Date.now()-864e5).toISOString(),foodId:"food-001",foodName:"Kung Pao Chicken",kitchenId:"kitchen-001",kitchenName:"Mary's Kitchen",verified:!0},{id:"user-review-2",userId:t,userName:e.user.name,rating:4,comment:"Good value for money. Quick delivery.",timestamp:new Date(Date.now()-1728e5).toISOString(),foodId:"food-002",foodName:"Beef Noodle Soup",kitchenId:"kitchen-002",kitchenName:"Tom's Noodles",verified:!0}]}),gc=Mr({name:"reviews",initialState:{foodReviews:{},userReviews:[],foodReviewsLoading:{},userReviewsLoading:!1,foodReviewsError:{},userReviewsError:null,foodReviewsLastUpdated:{},userReviewsLastUpdated:null,submissionLoading:!1,submissionError:null},reducers:{clearFoodReviews:(r,n)=>{const e=n.payload;delete r.foodReviews[e],delete r.foodReviewsLoading[e],delete r.foodReviewsError[e],delete r.foodReviewsLastUpdated[e]},clearAllReviews:r=>{r.foodReviews={},r.userReviews=[],r.foodReviewsLoading={},r.userReviewsLoading=!1,r.foodReviewsError={},r.userReviewsError=null,r.foodReviewsLastUpdated={},r.userReviewsLastUpdated=null},clearReviewErrors:(r,n)=>{if(n.payload){const e=n.payload;delete r.foodReviewsError[e]}else r.foodReviewsError={},r.userReviewsError=null,r.submissionError=null},clearSubmissionError:r=>{r.submissionError=null}},extraReducers:r=>{r.addCase(en.pending,(n,e)=>{const{foodId:t}=e.meta.arg;n.foodReviewsLoading[t]=!0,delete n.foodReviewsError[t]}).addCase(en.fulfilled,(n,e)=>{const{foodId:t,reviews:a}=e.payload;n.foodReviewsLoading[t]=!1,n.foodReviews[t]=a,n.foodReviewsLastUpdated[t]=new Date().toISOString()}).addCase(en.rejected,(n,e)=>{const{foodId:t}=e.meta.arg;n.foodReviewsLoading[t]=!1,n.foodReviewsError[t]=e.error.message}).addCase(tn.pending,n=>{n.submissionLoading=!0,n.submissionError=null}).addCase(tn.fulfilled,(n,e)=>{n.submissionLoading=!1;const{foodId:t,review:a}=e.payload;n.foodReviews[t]||(n.foodReviews[t]=[]),n.foodReviews[t].unshift(a),n.userReviews.unshift({...a,foodName:"Unknown Food",kitchenName:"Unknown Kitchen"})}).addCase(tn.rejected,(n,e)=>{n.submissionLoading=!1,n.submissionError=e.error.message}).addCase(fh.fulfilled,(n,e)=>{const{foodId:t,reviewId:a,updates:o}=e.payload;if(n.foodReviews[t]){const i=n.foodReviews[t].findIndex(c=>c.id===a);i!==-1&&(n.foodReviews[t][i]={...n.foodReviews[t][i],...o,updatedAt:new Date().toISOString()})}const s=n.userReviews.findIndex(i=>i.id===a);s!==-1&&(n.userReviews[s]={...n.userReviews[s],...o,updatedAt:new Date().toISOString()})}).addCase(ph.fulfilled,(n,e)=>{const{foodId:t,reviewId:a}=e.payload;n.foodReviews[t]&&(n.foodReviews[t]=n.foodReviews[t].filter(o=>o.id!==a)),n.userReviews=n.userReviews.filter(o=>o.id!==a)}).addCase(pa.pending,n=>{n.userReviewsLoading=!0,n.userReviewsError=null}).addCase(pa.fulfilled,(n,e)=>{n.userReviewsLoading=!1,n.userReviews=e.payload,n.userReviewsLastUpdated=new Date().toISOString()}).addCase(pa.rejected,(n,e)=>{n.userReviewsLoading=!1,n.userReviewsError=e.error.message})}}),{clearFoodReviews:Qy,clearAllReviews:Gy,clearReviewErrors:zy,clearSubmissionError:Vy}=gc.actions,hh=gc.reducer,mh={key:"root",storage:Un,whitelist:["auth","cart"],blacklist:["food","kitchen","reviews"]},gh={key:"auth",storage:Un,whitelist:["user","isAuthenticated","isDevelopmentMode"],blacklist:["loading","error","wechatAuthUrl"]},vh={key:"cart",storage:Un,whitelist:["items","totalItems","totalAmount"],blacklist:["loading","error"]},yh=Di({auth:Ia(gh,Cf),food:ah,cart:Ia(vh,pc),kitchen:dh,reviews:hh}),wh=Ia(mh,yh),vc=Ed({reducer:wh,middleware:r=>r({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),yc=pf(vc),wc=ce("app/performCompleteLogout",async(r,{dispatch:n})=>{try{return console.log("ðŸšª Starting complete logout process..."),n(kf()),n(lo()),await yc.purge(),localStorage.removeItem("persist:root"),localStorage.removeItem("persist:auth"),localStorage.removeItem("persist:cart"),sessionStorage.clear(),console.log("âœ… Complete logout successful"),{success:!0}}catch(e){throw console.error("âŒ Logout error:",e),e}}),bc=w.createContext(null),ke=Xt?si(Xt):null;function bh({children:r}){const[n,e]=w.useState(null),[t,a]=w.useState(!0),o=Kt();w.useEffect(()=>{if(ve||!ke){a(!1);return}const f=Ml(ke,p=>{e(p||null),a(!1)});return()=>f()},[ke]);const s=w.useCallback(async()=>{if(ve||!ke){console.info("Auth disabled: anonymous sign-in skipped");return}await Ol(ke)},[ke]),i=w.useCallback(()=>{const f="wx4a71fe09bb125182",p=encodeURIComponent("https://master.d5tekh3anrrmn.amplifyapp.com/wechat/callback"),h="snsapi_base",g="we_"+Math.random().toString(36).slice(2);window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${f}&redirect_uri=${p}&response_type=code&scope=${h}&state=${g}#wechat_redirect`},[]),c=w.useCallback(async f=>{console.log("WeChat code obtained:",f);const h=new Tl("wechat").credential({accessToken:"placeholder_access_token"});!ve&&ke?await Nl(ke,h).catch(g=>{console.warn("WeChat credential sign-in failed (expected in placeholder):",g.message)}):console.info("Auth disabled: skipping credential sign-in (placeholder)")},[ke]),l=w.useCallback(async()=>{try{!ve&&ke&&await Eo(ke),await o(wc()).unwrap(),console.log("âœ… Complete logout successful")}catch(f){console.error("âŒ Logout error:",f),!ve&&ke&&await Eo(ke)}},[ke,o]),u={user:n,initializing:t,authDisabled:ve,signInAnonymously:s,signInWithWeChatPopup:i,handleWeChatCallback:c,signOut:l};return d.jsx(bc.Provider,{value:u,children:r})}function uo(){const r=w.useContext(bc);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function xh(){const{user:r,signOut:n,authDisabled:e}=uo();return d.jsxs("div",{className:"container py-3",children:[d.jsxs("h1",{className:"h4 mb-3",children:["Welcome ",(r==null?void 0:r.displayName)||"User"]}),d.jsx("p",{className:"text-secondary small mb-4",children:"This is a mobile-first boilerplate."}),e&&d.jsx("div",{className:"alert alert-warning p-2 small",role:"alert",children:"Firebase auth disabled (placeholder config). Add real env values to enable."}),d.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:n,children:"Sign out"})]})}const Ya="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3ccircle%20cx='9'%20cy='10'%20r='1'/%3e%3ccircle%20cx='15'%20cy='10'%20r='1'/%3e%3cpath%20d='M5%2015c-1.143-1.012-2-2.547-2-4.25C3%207.798%205.91%205%209.5%205s6.5%202.798%206.5%205.75S13.09%2016.5%209.5%2016.5c-.517%200-1.02-.057-1.5-.165L5%2018l.8-2.4'/%3e%3cpath%20d='M16.5%208.5c2.485%200%204.5%201.79%204.5%204s-2.015%204-4.5%204c-.275%200-.544-.02-.805-.06L14%2018l.6-1.8'/%3e%3c/svg%3e";function Dh(){const{signInWithWeChatPopup:r,signInAnonymously:n}=uo();return d.jsxs("div",{className:"container py-5",children:[d.jsx("h1",{className:"h5 mb-4 text-center",children:"Sign In"}),d.jsxs("div",{className:"d-grid gap-3",children:[d.jsxs("button",{className:"btn btn-success d-flex align-items-center justify-content-center gap-2",onClick:r,children:[d.jsx("img",{src:Ya,alt:"WeChat",style:{width:20,height:20}}),d.jsx("span",{children:"Continue with WeChat"})]}),d.jsx("button",{className:"btn btn-outline-secondary",onClick:n,children:"Continue as Guest"})]})]})}const de={success:(r,n={})=>Gt.success(r,{icon:"âœ…",duration:3e3,style:{background:"#F0FDF4",color:"#15803D",border:"1px solid #22C55E",borderRadius:"12px",padding:"16px"},...n}),error:(r,n={})=>Gt.error(r,{icon:"âŒ",duration:4e3,style:{background:"#FEF2F2",color:"#DC2626",border:"1px solid #EF4444",borderRadius:"12px",padding:"16px"},...n}),info:(r,n={})=>Gt(r,{icon:"â„¹ï¸",duration:3500,style:{background:"#EFF6FF",color:"#1D4ED8",border:"1px solid #3B82F6",borderRadius:"12px",padding:"16px"},...n}),warning:(r,n={})=>Gt(r,{icon:"âš ï¸",duration:4e3,style:{background:"#FEF3C7",color:"#92400E",border:"1px solid #F59E0B",borderRadius:"12px",padding:"16px"},...n}),cart:(r,n={})=>Gt.success(r,{icon:"ðŸ›’",duration:3e3,style:{background:"#F0F9FF",color:"#0C4A6E",border:"1px solid #0EA5E9",borderRadius:"12px",padding:"16px"},...n}),loading:(r,n={})=>Gt.loading(r,{style:{background:"#F9FAFB",color:"#374151",border:"1px solid #D1D5DB",borderRadius:"12px",padding:"16px"},...n})},kh=()=>{const[r]=Xs(),n=Kt(),e=Er(),[t,a]=w.useState("processing");return w.useEffect(()=>{(async()=>{try{const s=r.get("code"),i=r.get("state"),c=r.get("error");if(console.log("WeChat callback received:",{code:s,state:i,error:c}),c)throw new Error(`WeChat OAuth error: ${c}`);if(!s)throw new Error("Authorization code not received from WeChat");if(s==="dev_mock_code"){console.log("ðŸ§ª Processing development mode authentication");const f=localStorage.getItem("wechat_auth_user");if(f){const p=JSON.parse(f);console.log("âœ… Dev authentication successful:",p),n({type:"auth/authenticateWithWeChat/fulfilled",payload:p}),a("success"),de.success(`Welcome ${p.name}! (Dev Mode)`),sessionStorage.getItem("wechat_pending_cart_action")==="true"?(sessionStorage.removeItem("wechat_pending_cart_action"),de.info("You can now add items to your cart"),setTimeout(()=>e("/foods",{replace:!0}),1500)):setTimeout(()=>e("/foods",{replace:!0}),1500);return}}a("processing");const l=await n(Xr(s)).unwrap();console.log("âœ… WeChat authentication successful:",l),a("success"),de.success(`Welcome ${l.name||"User"}!`),sessionStorage.getItem("wechat_pending_cart_action")==="true"?(sessionStorage.removeItem("wechat_pending_cart_action"),de.info("You can now add items to your cart!"),setTimeout(()=>{window.history.back()||e("/foods")},1500)):setTimeout(()=>{e("/")},1500)}catch(s){console.error("âŒ WeChat authentication failed:",s),a("error"),de.error(s.message||"Authentication failed"),setTimeout(()=>{e("/")},3e3)}})()},[r,n,e]),d.jsx("div",{className:"wechat-callback-page",children:d.jsx("div",{className:"container py-5",children:d.jsxs("div",{className:"text-center",children:[t==="processing"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"spinner-border text-success mb-3",role:"status",children:d.jsx("span",{className:"visually-hidden",children:"Loading..."})}),d.jsx("h2",{children:"Processing WeChat Authentication..."}),d.jsx("p",{className:"text-muted",children:"Please wait while we sign you in."})]}),t==="success"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-success mb-3",children:d.jsx("svg",{width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",children:d.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}),d.jsx("h2",{children:"Authentication Successful!"}),d.jsx("p",{className:"text-muted",children:"Redirecting you now..."})]}),t==="error"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-danger mb-3",children:d.jsxs("svg",{width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",children:[d.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),d.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),d.jsx("h2",{children:"Authentication Failed"}),d.jsx("p",{className:"text-muted",children:"Something went wrong. Redirecting to home..."})]})]})})})};var xc={exports:{}};(function(r,n){(function(e,t){r.exports=t()})(gl,function(){var e=1e3,t=6e4,a=36e5,o="millisecond",s="second",i="minute",c="hour",l="day",u="week",f="month",p="quarter",h="year",g="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var N=["th","st","nd","rd"],_=F%100;return"["+F+(N[(_-20)%10]||N[_]||N[0])+"]"}},R=function(F,N,_){var M=String(F);return!M||M.length>=N?F:""+Array(N+1-M.length).join(_)+F},b={s:R,z:function(F){var N=-F.utcOffset(),_=Math.abs(N),M=Math.floor(_/60),D=_%60;return(N<=0?"+":"-")+R(M,2,"0")+":"+R(D,2,"0")},m:function F(N,_){if(N.date()<_.date())return-F(_,N);var M=12*(_.year()-N.year())+(_.month()-N.month()),D=N.clone().add(M,f),I=_-D<0,j=N.clone().add(M+(I?-1:1),f);return+(-(M+(_-D)/(I?D-j:j-D))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:f,y:h,w:u,d:l,D:g,h:c,m:i,s,ms:o,Q:p}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},k="en",S={};S[k]=x;var T="$isDayjsObject",O=function(F){return F instanceof L||!(!F||!F[T])},C=function F(N,_,M){var D;if(!N)return k;if(typeof N=="string"){var I=N.toLowerCase();S[I]&&(D=I),_&&(S[I]=_,D=I);var j=N.split("-");if(!D&&j.length>1)return F(j[0])}else{var W=N.name;S[W]=N,D=W}return!M&&D&&(k=D),D||!M&&k},P=function(F,N){if(O(F))return F.clone();var _=typeof N=="object"?N:{};return _.date=F,_.args=arguments,new L(_)},A=b;A.l=C,A.i=O,A.w=function(F,N){return P(F,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var L=function(){function F(_){this.$L=C(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[T]=!0}var N=F.prototype;return N.parse=function(_){this.$d=function(M){var D=M.date,I=M.utc;if(D===null)return new Date(NaN);if(A.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var j=D.match(m);if(j){var W=j[2]-1||0,z=(j[7]||"0").substring(0,3);return I?new Date(Date.UTC(j[1],W,j[3]||1,j[4]||0,j[5]||0,j[6]||0,z)):new Date(j[1],W,j[3]||1,j[4]||0,j[5]||0,j[6]||0,z)}}return new Date(D)}(_),this.init()},N.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},N.$utils=function(){return A},N.isValid=function(){return this.$d.toString()!==y},N.isSame=function(_,M){var D=P(_);return this.startOf(M)<=D&&D<=this.endOf(M)},N.isAfter=function(_,M){return P(_)<this.startOf(M)},N.isBefore=function(_,M){return this.endOf(M)<P(_)},N.$g=function(_,M,D){return A.u(_)?this[M]:this.set(D,_)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(_,M){var D=this,I=!!A.u(M)||M,j=A.p(_),W=function(re,ne){var _e=A.w(D.$u?Date.UTC(D.$y,ne,re):new Date(D.$y,ne,re),D);return I?_e:_e.endOf(l)},z=function(re,ne){return A.w(D.toDate()[re].apply(D.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ne)),D)},X=this.$W,Y=this.$M,V=this.$D,Xe="set"+(this.$u?"UTC":"");switch(j){case h:return I?W(1,0):W(31,11);case f:return I?W(1,Y):W(0,Y+1);case u:var ft=this.$locale().weekStart||0,q=(X<ft?X+7:X)-ft;return W(I?V-q:V+(6-q),Y);case l:case g:return z(Xe+"Hours",0);case c:return z(Xe+"Minutes",1);case i:return z(Xe+"Seconds",2);case s:return z(Xe+"Milliseconds",3);default:return this.clone()}},N.endOf=function(_){return this.startOf(_,!1)},N.$set=function(_,M){var D,I=A.p(_),j="set"+(this.$u?"UTC":""),W=(D={},D[l]=j+"Date",D[g]=j+"Date",D[f]=j+"Month",D[h]=j+"FullYear",D[c]=j+"Hours",D[i]=j+"Minutes",D[s]=j+"Seconds",D[o]=j+"Milliseconds",D)[I],z=I===l?this.$D+(M-this.$W):M;if(I===f||I===h){var X=this.clone().set(g,1);X.$d[W](z),X.init(),this.$d=X.set(g,Math.min(this.$D,X.daysInMonth())).$d}else W&&this.$d[W](z);return this.init(),this},N.set=function(_,M){return this.clone().$set(_,M)},N.get=function(_){return this[A.p(_)]()},N.add=function(_,M){var D,I=this;_=Number(_);var j=A.p(M),W=function(Y){var V=P(I);return A.w(V.date(V.date()+Math.round(Y*_)),I)};if(j===f)return this.set(f,this.$M+_);if(j===h)return this.set(h,this.$y+_);if(j===l)return W(1);if(j===u)return W(7);var z=(D={},D[i]=t,D[c]=a,D[s]=e,D)[j]||1,X=this.$d.getTime()+_*z;return A.w(X,this)},N.subtract=function(_,M){return this.add(-1*_,M)},N.format=function(_){var M=this,D=this.$locale();if(!this.isValid())return D.invalidDate||y;var I=_||"YYYY-MM-DDTHH:mm:ssZ",j=A.z(this),W=this.$H,z=this.$m,X=this.$M,Y=D.weekdays,V=D.months,Xe=D.meridiem,ft=function(ne,_e,Ct,Ze){return ne&&(ne[_e]||ne(M,I))||Ct[_e].slice(0,Ze)},q=function(ne){return A.s(W%12||12,ne,"0")},re=Xe||function(ne,_e,Ct){var Ze=ne<12?"AM":"PM";return Ct?Ze.toLowerCase():Ze};return I.replace(v,function(ne,_e){return _e||function(Ct){switch(Ct){case"YY":return String(M.$y).slice(-2);case"YYYY":return A.s(M.$y,4,"0");case"M":return X+1;case"MM":return A.s(X+1,2,"0");case"MMM":return ft(D.monthsShort,X,V,3);case"MMMM":return ft(V,X);case"D":return M.$D;case"DD":return A.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return ft(D.weekdaysMin,M.$W,Y,2);case"ddd":return ft(D.weekdaysShort,M.$W,Y,3);case"dddd":return Y[M.$W];case"H":return String(W);case"HH":return A.s(W,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return re(W,z,!0);case"A":return re(W,z,!1);case"m":return String(z);case"mm":return A.s(z,2,"0");case"s":return String(M.$s);case"ss":return A.s(M.$s,2,"0");case"SSS":return A.s(M.$ms,3,"0");case"Z":return j}return null}(ne)||j.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(_,M,D){var I,j=this,W=A.p(M),z=P(_),X=(z.utcOffset()-this.utcOffset())*t,Y=this-z,V=function(){return A.m(j,z)};switch(W){case h:I=V()/12;break;case f:I=V();break;case p:I=V()/3;break;case u:I=(Y-X)/6048e5;break;case l:I=(Y-X)/864e5;break;case c:I=Y/a;break;case i:I=Y/t;break;case s:I=Y/e;break;default:I=Y}return D?I:A.a(I)},N.daysInMonth=function(){return this.endOf(f).$D},N.$locale=function(){return S[this.$L]},N.locale=function(_,M){if(!_)return this.$L;var D=this.clone(),I=C(_,M,!0);return I&&(D.$L=I),D},N.clone=function(){return A.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},F}(),H=L.prototype;return P.prototype=H,[["$ms",o],["$s",s],["$m",i],["$H",c],["$W",l],["$M",f],["$y",h],["$D",g]].forEach(function(F){H[F[1]]=function(N){return this.$g(N,F[0],F[1])}}),P.extend=function(F,N){return F.$i||(F(N,L,P),F.$i=!0),P},P.locale=C,P.isDayjs=O,P.unix=function(F){return P(1e3*F)},P.en=S[k],P.Ls=S,P.p={},P})})(xc);var Ch=xc.exports;const Ce=vl(Ch);function Dc(r){const[n,e]=w.useState(null),[t,a]=w.useState([]),[o,s]=w.useState(!0),[i,c]=w.useState(null);return w.useEffect(()=>{async function l(){if(!r){s(!1);return}console.log(`[useKitchenWithFoods] Fetching kitchen: ${r}`);try{s(!0),c(null);const{kitchen:u,foods:f}=await eh(r);e(u),a(f),console.log(`[useKitchenWithFoods] Loaded kitchen with ${f.length} foods`)}catch(u){console.error("[useKitchenWithFoods] Error:",u),c(u.message)}finally{s(!1)}}l()},[r]),{kitchen:n,foods:t,loading:o,error:i,hasData:!!n&&t.length>0}}function Sh(r=10){const[n,e]=w.useState([]),[t,a]=w.useState(!0),[o,s]=w.useState(null);w.useEffect(()=>{async function l(){console.log(`[useAllKitchensWithFoods] Fetching up to ${r} kitchens`);try{a(!0),s(null);const u=await th(r);e(u);const f=u.reduce((p,h)=>p+h.foods.length,0);console.log(`[useAllKitchensWithFoods] Loaded ${u.length} kitchens with ${f} total foods`)}catch(u){console.error("[useAllKitchensWithFoods] Error:",u),s(u.message)}finally{a(!1)}}l()},[r]);const i=n.reduce((l,u)=>[...l,...u.foods],[]),c=n.length>0?n[0].kitchen:null;return{kitchensData:n,allFoods:i,primaryKitchen:c,loading:t,error:o,hasData:n.length>0,totalKitchens:n.length,totalFoods:i.length}}const _h="modulepreload",Eh=function(r){return"/"+r},is={},kc=function(n,e,t){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(e.map(c=>{if(c=Eh(c),c in is)return;is[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":_h,l||(f.as="script"),f.crossOrigin="",f.href=c,i&&f.setAttribute("nonce",i),document.head.appendChild(f),l)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return a.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return n().catch(o)})},Cc=(r,{foodId:n,selectedDate:e,specialInstructions:t=""})=>r.find(a=>a.foodId===n&&a.selectedDate===e&&(a.specialInstructions||"").trim()===t.trim()),Ph=(r,n,e=null)=>r.filter(t=>t.foodId===n&&(!e||t.selectedDate===e)).reduce((t,a)=>t+a.quantity,0),Sc=async({food:r,kitchen:n,quantity:e=1,selectedDate:t=null,specialInstructions:a="",isPreOrder:o=!1,pickupDetails:s=null},i,c,l,u=null)=>{try{const f=Cc(l,{foodId:r.id,selectedDate:t,specialInstructions:a});if(f){const y=f.quantity+e,m=`Updated ${r.name} in cart (quantity: ${f.quantity} â†’ ${y})`;try{if(u)await i(u({cartItemId:f.id,quantity:y,specialInstructions:a.trim()}));else{const{updateCartItem:v}=await kc(async()=>{const{updateCartItem:x}=await Promise.resolve().then(()=>hc);return{updateCartItem:x}},void 0);await i(v({cartItemId:f.id,quantity:y,specialInstructions:a.trim()}))}return de.success(m),{success:!0,isExisting:!0,existingQuantity:f.quantity,newQuantity:y,message:m}}catch(v){console.warn("Failed to update existing item, adding as new item:",v)}}const p=s||Rh(t,o),h={foodId:r.id,kitchenId:r.kitchenId||(n==null?void 0:n.id),quantity:e,selectedDate:t,specialInstructions:a.trim(),orderType:o?"PRE_ORDER":"GO_GRAB",food:{id:r.id,name:r.name,cost:r.cost,price:r.price||r.cost,imageUrl:r.imageUrl,description:r.description||"This dish features tender, juicy flavors",...r},kitchen:{id:(n==null?void 0:n.id)||r.kitchenId,name:(n==null?void 0:n.name)||r.kitchenName||"Unknown Kitchen",address:n==null?void 0:n.address,...n},pickupDetails:p},g=await i(c(h));return de.cart(`Added ${r.name} to cart!`),{success:!0,isExisting:!1,message:`Added ${r.name} to cart!`,result:g}}catch(f){console.error("Error adding to cart:",f);const p=f.message||"Failed to add item to cart";return de.error(p),{success:!1,isExisting:!1,message:p,error:f}}},_c=async({food:r,selectedDate:n=null,specialInstructions:e="",quantity:t=1},a,o,s)=>{try{const i=Cc(s,{foodId:r.id,selectedDate:n,specialInstructions:e});if(!i)throw new Error("Item not found in cart");if(t>0&&i.quantity>t){const{updateCartItem:c}=await kc(async()=>{const{updateCartItem:u}=await Promise.resolve().then(()=>hc);return{updateCartItem:u}},void 0),l=i.quantity-t;return await a(c({cartItemId:i.id,quantity:l,specialInstructions:i.specialInstructions})),de.info(`Removed ${t} ${r.name} from cart`),{success:!0,message:`Removed ${t} ${r.name} from cart`}}else return await a(o(i.id)),de.info(`Removed ${r.name} from cart`),{success:!0,message:`Removed ${r.name} from cart`}}catch(i){console.error("Error removing from cart:",i);const c=i.message||"Failed to remove item from cart";return de.error(c),{success:!1,message:c,error:i}}},Rh=(r=null,n=!1)=>{if(!n||!r){const e=new Date,t=new Date(e.getTime()+30*60*1e3);return{date:e.toISOString().split("T")[0],time:t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),display:"Pick up today",orderType:"GO_GRAB"}}else{const e=new Date(r),t=new Date;t.setHours(0,0,0,0),e.setHours(0,0,0,0);const a=e.getTime()===t.getTime(),o=e.getTime()===t.getTime()+24*60*60*1e3;let s;return a?s="Pick up today":o?s="Pick up tomorrow":s=`Pick up ${e.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}`,{date:r,time:"6:30 PM",display:s,orderType:"PRE_ORDER"}}},Mh=async({food:r,kitchen:n,newQuantity:e,currentQuantity:t,selectedDate:a=null,specialInstructions:o="",isPreOrder:s=!1},i,c,l,u,f=null)=>{try{if(e>t){const p=e-t;return await Sc({food:r,kitchen:n,quantity:p,selectedDate:a,specialInstructions:o,isPreOrder:s},i,c,u,f)}else if(e<t){const p=t-e;return await _c({food:r,selectedDate:a,specialInstructions:o,quantity:p},i,l,u)}return{success:!0,message:"Quantity unchanged"}}catch(p){return console.error("Error changing quantity:",p),{success:!1,message:p.message||"Failed to update quantity",error:p}}},Ec=()=>{const r=Kt(),n=je(i=>i.cart.items),e=je(i=>i.auth.isAuthenticated);return{cartItems:n,isAuthenticated:e,getCartQuantity:(i,c=null)=>Ph(n,i,c),addToCartWithCheck:async i=>e?await Sc(i,r,vt,n,bn):{success:!1,message:"Please sign in with WeChat to add items to cart",requiresAuth:!0},removeFromCartGeneric:async i=>await _c(i,r,At,n),handleQuantityChange:async i=>e?await Mh(i,r,vt,At,n,bn):{success:!1,message:"Please sign in with WeChat to modify cart",requiresAuth:!0},dispatch:r,addToCart:vt,removeFromCart:At}},kr="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.16675%201.66699H7.50008C3.33341%201.66699%201.66675%203.33366%201.66675%207.50033V12.5003C1.66675%2016.667%203.33341%2018.3337%207.50008%2018.3337H12.5001C16.6667%2018.3337%2018.3334%2016.667%2018.3334%2012.5003V10.8337'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3668%202.51639L6.80014%209.08306C6.55014%209.33306%206.30014%209.82472%206.25014%2010.1831L5.89181%2012.6914C5.75848%2013.5997%206.40014%2014.2331%207.30848%2014.1081L9.81681%2013.7497C10.1668%2013.6997%2010.6585%2013.4497%2010.9168%2013.1997L17.4835%206.63306C18.6168%205.49972%2019.1501%204.18306%2017.4835%202.51639C15.8168%200.849722%2014.5001%201.38306%2013.3668%202.51639Z'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.425%203.45801C12.9834%205.44967%2014.5417%207.00801%2016.5417%207.57467'%20stroke='%233FC045'%20stroke-width='1.25'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Cr=({food:r=null,kitchen:n=null,selectedDate:e=null,initialQuantity:t=1,maxQuantity:a=99,minQuantity:o=1,onQuantityChange:s=()=>{},onAvailabilityChange:i=()=>{},onError:c=()=>{},onWarning:l=()=>{},showAvailabilityInfo:u=!0,showErrorMessages:f=!0,size:p="medium",className:h="",disabled:g=!1})=>{console.log("QuantitySelector render params:",{showAvailabilityInfo:u,showErrorMessages:f});const[y,m]=w.useState(t),[v,x]=w.useState({isAvailable:!0,maxAvailable:a,orderType:e?"PRE_ORDER":"GO_GRAB",message:null,warning:null,actualCheckingDate:e}),R=w.useCallback(()=>{var P,A,L,H,F,N;if(console.log("ðŸ” AVAILABILITY CALCULATION START"),console.log("DEBUG - Availability calculation:",{foodId:r==null?void 0:r.id,foodName:r==null?void 0:r.name,kitchenId:n==null?void 0:n.id,kitchenName:n==null?void 0:n.name,selectedDate:e,hasFood:!!r,hasKitchen:!!n,hasPreorderSchedule:!!((P=n==null?void 0:n.preorderSchedule)!=null&&P.dates)}),!r)return console.log("DEBUG - No food object"),{isAvailable:!1,maxAvailable:0,orderType:e?"PRE_ORDER":"GO_GRAB",message:"Food item not found",warning:null,actualCheckingDate:e};const C=Ce().startOf("day");if(e){console.log("ðŸš€ ~ QuantitySelector ~ selectedDate received:",e),console.log("ðŸš€ ~ QuantitySelector ~ selectedDate type:",typeof e);const _=Ce(e).startOf("day");if(console.log("ðŸš€ ~ QuantitySelector ~ orderDate:",_.format()),console.log("ðŸš€ ~ QuantitySelector ~ today:",C.format()),console.log("ðŸš€ ~ QuantitySelector ~ orderDate > today:",_.isAfter(C)),console.log("ðŸš€ ~ QuantitySelector ~ orderDate === today:",_.isSame(C,"day")),console.log("ðŸš€ ~ QuantitySelector ~ orderDate < today (isPast):",_.isBefore(C,"day")),_.isAfter(C)){const M="PRE_ORDER";if(console.log("DEBUG - Future date PRE_ORDER case"),!((A=n==null?void 0:n.preorderSchedule)!=null&&A.dates))return console.log("DEBUG - No preorder schedule"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Pre-orders not available for this kitchen",warning:null,actualCheckingDate:e};const D=e.includes("-")?e:Ce(e).format("YYYY-MM-DD");console.log("ðŸš€ ~ QuantitySelector ~ dateKey:",D),console.log("ðŸš€ ~ QuantitySelector ~ selectedDate:",e),console.log("ðŸš€ ~ QuantitySelector ~ kitchen.preorderSchedule.dates:",n.preorderSchedule.dates),console.log("ðŸš€ ~ QuantitySelector ~ Available dates:",Object.keys(n.preorderSchedule.dates));const I=n.preorderSchedule.dates[D];if(console.log("DEBUG - Date lookup:",{dateKey:D,hasScheduleForDate:!!I,scheduleForDate:I,availableDates:Object.keys(n.preorderSchedule.dates)}),!I||!Array.isArray(I))return console.log("DEBUG - No schedule found for date"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Not available for pre-order on selected date",warning:null};const j=I.find(W=>W.foodItemId===r.id);if(console.log("ðŸš€ ~ QuantitySelector ~ foodSchedule:",j),console.log("ðŸš€ ~ QuantitySelector ~ food.id:",r.id),console.log("ðŸš€ ~ QuantitySelector ~ food object:",r),console.log("DEBUG - Food schedule lookup:",{foodId:r.id,foodSchedule:j,allItemsInSchedule:I.map(W=>({id:W.foodItemId,name:W.nameOfFood}))}),!j)return console.log("DEBUG - Food not found in schedule"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"This item is not available for pre-order on selected date",warning:null};if(console.log("DEBUG - Food schedule details:",{isLimitedOrder:j.isLimitedOrder,numOfAvailableItems:j.numOfAvailableItems,availableTimes:j.availableTimes}),j.isLimitedOrder===!1){const W=j.numOfAvailableItems||0;return console.log("DEBUG - Limited order case:",{availableItems:W}),W<=0?{isAvailable:!1,maxAvailable:0,orderType:M,message:"Sold out for pre-order on selected date",warning:null}:(console.log("Math.min(availableItems, maxQuantity)",Math.min(W,a)),{isAvailable:!0,maxAvailable:Math.min(W,a),orderType:M,message:null,warning:W<5?`Only ${W} left for pre-order`:null})}else return console.log("DEBUG - Unlimited order case"),{isAvailable:!0,maxAvailable:a,orderType:M,message:null,warning:null}}else if(_.isSame(C,"day")){if(console.log("DEBUG - Today's date - checking both GO_GRAB and PRE_ORDER"),(L=n==null?void 0:n.preorderSchedule)!=null&&L.dates){const I=e.includes("-")?e:Ce(e).format("YYYY-MM-DD");console.log("DEBUG - Today's date - dateKey:",I);const j=n.preorderSchedule.dates[I];if(j&&Array.isArray(j)){const W=j.find(z=>z.foodItemId===r.id);if(console.log("DEBUG - Today's date - foodSchedule found:",!!W,W),W){console.log("DEBUG - Today's date found in preorder schedule - using PRE_ORDER logic");const z="PRE_ORDER";if(W.isLimitedOrder===!1){const X=W.numOfAvailableItems||0;return console.log("DEBUG - Today PRE_ORDER limited case:",{availableItems:X}),X<=0?{isAvailable:!1,maxAvailable:0,orderType:z,message:"Sold out for today",warning:null}:{isAvailable:!0,maxAvailable:Math.min(X,a),orderType:z,message:null,warning:X<5?`Only ${X} left`:null}}else return console.log("DEBUG - Today PRE_ORDER unlimited case"),{isAvailable:!0,maxAvailable:a,orderType:z,message:null,warning:null}}}}console.log("DEBUG - Today's date - no preorder schedule, falling back to GO_GRAB");const M="GO_GRAB",D=((H=r.availability)==null?void 0:H.numAvailable)||r.numAvailable||0;return console.log("DEBUG - Today's date GO_GRAB fallback:",{numAvailable:D}),D<=0?{isAvailable:!1,maxAvailable:0,orderType:M,message:"Not available",warning:null}:{isAvailable:!0,maxAvailable:Math.min(D,a),orderType:M,message:null,warning:D<5?`Only ${D} left`:null}}else{console.log("ðŸš¨ PAST PRE-ORDER DATE DETECTED! ðŸš¨"),console.log("DEBUG - Past pre-order date, checking current date in preorder schedule"),console.log("DEBUG - Selected date was:",e,"which is",_.format()),console.log("DEBUG - Current date is:",C.format()),console.log("DEBUG - Days difference:",C.diff(_,"day"),"days in the past"),console.log("DEBUG - Since selectedDate provided, maintaining PRE_ORDER type and checking today's preorder schedule");const M="PRE_ORDER",D=C.format("YYYY-MM-DD");if(console.log("DEBUG - Looking for today's date in preorder schedule:",D),!((F=n==null?void 0:n.preorderSchedule)!=null&&F.dates))return console.log("âŒ DEBUG - No preorder schedule available"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Sold Out",warning:null,actualCheckingDate:D};const I=n.preorderSchedule.dates[D];if(console.log("DEBUG - Today's preorder schedule:",I),!I||!Array.isArray(I))return console.log("âŒ DEBUG - No preorder schedule for today, item sold out"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Sold Out",warning:null,actualCheckingDate:D};const j=I.find(W=>W.foodItemId===r.id);if(console.log("DEBUG - Food found in today's preorder schedule:",!!j,j),!j)return console.log("âŒ DEBUG - Food not available in today's preorder schedule"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Sold Out",warning:null,actualCheckingDate:D};if(j.isLimitedOrder===!1){const W=j.numOfAvailableItems||0;return console.log("DEBUG - Past date, today's limited preorder case:",{availableItems:W}),W<=0?(console.log("âŒ DEBUG - Past pre-order date: Item SOLD OUT for current date in preorder schedule"),{isAvailable:!1,maxAvailable:0,orderType:M,message:"Sold Out",warning:null,actualCheckingDate:D}):(console.log("âœ… DEBUG - Past pre-order date: Item AVAILABLE for current date in preorder schedule, quantity:",W),{isAvailable:!0,maxAvailable:Math.min(W,a),orderType:M,message:null,warning:W<5?`Only ${W} left`:null,actualCheckingDate:D})}else return console.log("âœ… DEBUG - Past pre-order date: Item AVAILABLE (unlimited) for current date in preorder schedule"),{isAvailable:!0,maxAvailable:a,orderType:M,message:null,warning:null,actualCheckingDate:D}}}else{const _="GO_GRAB",M=((N=r.availability)==null?void 0:N.numAvailable)||r.numAvailable||0;return console.log("DEBUG - No date GO_GRAB:",{numAvailable:M}),M<=0?{isAvailable:!1,maxAvailable:0,orderType:_,message:"Sold Out",warning:null,actualCheckingDate:null}:{isAvailable:!0,maxAvailable:Math.min(M,a),orderType:_,message:null,warning:M<5?`Only ${M} left`:null,actualCheckingDate:null}}},[r,n,e,a]),b=w.useMemo(()=>R(),[R]);console.log("DEBUG - Current availability:",b),w.useEffect(()=>{(b.isAvailable!==v.isAvailable||b.maxAvailable!==v.maxAvailable||b.orderType!==v.orderType||b.message!==v.message||b.warning!==v.warning||b.actualCheckingDate!==v.actualCheckingDate)&&x(b)},[b,v]);const k=w.useCallback(C=>{console.log("ðŸ”¥ QuantitySelector handleQuantityChange called with:",C),console.log("ðŸ”¥ Current state:",{quantity:y,minQuantity:o,maxAvailable:v.maxAvailable});const P=Math.max(o,Math.min(C,v.maxAvailable));if(console.log("ðŸ”¥ Valid quantity calculated:",P),P!==y){if(console.log("ðŸ”¥ Setting new quantity:",P),m(P),console.log("ðŸ”¥ Calling parent onQuantityChange with:",P),s(P),C>v.maxAvailable){const A=`Maximum available quantity is ${v.maxAvailable}`;c(A)}else if(C<o){const A=`Minimum quantity is ${o}`;c(A)}}else console.log("ðŸ”¥ Quantity unchanged, skipping update")},[y,v.maxAvailable,o,s,c]);w.useEffect(()=>{i(v),v.warning&&l(v.warning),v.message&&!v.isAvailable&&c(v.message)},[v,i,l,c]),w.useEffect(()=>{t!==y&&t>=o&&y===1&&(console.log("ðŸ”¥ INITIAL QUANTITY EFFECT: Setting quantity to:",t),m(t))},[t,o]);const S=w.useCallback(()=>{console.log("ðŸ”¥ INCREMENT CLICKED!",{disabled:g,availabilityStatus:v.isAvailable,quantity:y}),!g&&v.isAvailable?(console.log("ðŸ”¥ INCREMENT: Calling handleQuantityChange with:",y+1),k(y+1)):console.log("ðŸ”¥ INCREMENT BLOCKED:",{disabled:g,isAvailable:v.isAvailable})},[g,v.isAvailable,y,k]),T=w.useCallback(()=>{console.log("ðŸ”¥ DECREMENT CLICKED!",{disabled:g,quantity:y,minQuantity:o}),!g&&y>o?(console.log("ðŸ”¥ DECREMENT: Calling handleQuantityChange with:",y-1),k(y-1)):console.log("ðŸ”¥ DECREMENT BLOCKED:",{disabled:g,quantity:y,minQuantity:o})},[g,y,o,k]),O=["quantity-selector",`quantity-selector--${p}`,h,g&&"quantity-selector--disabled",!v.isAvailable&&"quantity-selector--unavailable"].filter(Boolean).join(" ");return d.jsx("div",{className:O,children:d.jsxs("div",{className:"quantity-selector__controls",children:[d.jsx("div",{className:"quantity-selector__display",children:d.jsx("span",{className:"quantity-number",children:y})}),d.jsxs("div",{className:"quantity-selector__buttons",children:[d.jsx("button",{type:"button",className:"quantity-btn quantity-btn--decrement",onClick:T,disabled:g||y<=o,"aria-label":"Decrease quantity",children:d.jsx("svg",{width:"13",height:"2",viewBox:"0 0 13 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("rect",{x:"0.887695",width:"11.6854",height:"1.46067",fill:"currentColor"})})}),d.jsx("button",{type:"button",className:"quantity-btn quantity-btn--increment",onClick:S,disabled:g||!v.isAvailable||y>=v.maxAvailable,"aria-label":"Increase quantity",children:d.jsxs("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M0.707673 5.27007H12.3931V6.73075H0.707673V5.27007Z",fill:"currentColor"}),d.jsx("path",{d:"M7.28071 0.157715L7.28071 11.8431H5.82003L5.82003 0.157715L7.28071 0.157715Z",fill:"currentColor"})]})})]})]})})};function Pc({isLoading:r=!0,text:n="Loading...",overlay:e=!0,size:t="medium"}){if(!r)return null;const a={small:"spinner-sm",medium:"spinner-md",large:"spinner-lg"},o=()=>d.jsx("div",{className:`mobile-loader-content ${e?"overlay":"inline"}`,children:d.jsxs("div",{className:"loader-spinner-wrapper",children:[d.jsxs("div",{className:`custom-spinner ${a[t]}`,children:[d.jsx("div",{className:"spinner-ring"}),d.jsx("div",{className:"spinner-ring"}),d.jsx("div",{className:"spinner-ring"})]}),n&&d.jsx("p",{className:"loader-text",children:n})]})});return e?d.jsx("div",{className:"mobile-loader-overlay",children:d.jsx(o,{})}):d.jsx(o,{})}function cs(){var x,R;const r=Er(),n=Qa(),{kitchenId:e}=yl(),t=((R=(x=n.state)==null?void 0:x.from)==null?void 0:R.pathname)||"/",{cartItems:a,getCartQuantity:o,handleQuantityChange:s}=Ec(),{allFoods:i}=Sh(10),c=e||(i.length>0?i[0].kitchenId:null),{kitchen:l,foods:u,loading:f,error:p}=Dc(c);console.log("ðŸš€ ~ ListingPage ~ foods:",u),w.useEffect(()=>{l&&u.length>0&&(console.log("[ListingPage] Kitchen data:",l),console.log("[ListingPage] Foods data:",u),console.log("[ListingPage] Preorder schedule:",l.preorderSchedule))},[l,u]);const h=()=>{var C;if(!((C=l==null?void 0:l.preorderSchedule)!=null&&C.dates))return[];const b=Ce(),k=b.format("YYYY-MM-DD");console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Using dayjs - Current date (today):",k),console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Raw dayjs object:",b.toString());const S=[];for(let P=1;P<=2;P++){const L=b.add(P,"day").format("YYYY-MM-DD");S.push(L)}console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Next 2 days after today (should be 2025-08-23, 2025-08-24):",S),console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] All dates in preorder schedule:",Object.keys(l.preorderSchedule.dates));const T=S.filter(P=>{const A=l.preorderSchedule.dates[P],L=P!==k;return console.log(`ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Date ${P}: has schedule=${!!A}, is not today=${L}, today is=${k}`),A&&L});console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Final available preorder dates (should only be 23 & 24):",T);const O=T.map(P=>{const L=Ce(P).format("ddd, MMM D");return console.log(`ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Mapping ${P} to display: ${L}`),{dateString:P,displayDate:L}});return console.log("ðŸ”¥ðŸ”¥ðŸ”¥ [PREORDER DATES DEBUG] Final result returned:",O),O},{goGrabItems:g,preOrderItems:y}=w.useMemo(()=>{var T;if(!u.length)return{goGrabItems:[],preOrderItems:[]};const b=u.filter(O=>O.kitchenId===c);console.log("[ListingPage] All foods for current kitchen:",b);const k=b.filter(O=>{var P,A;const C=((P=O.availability)==null?void 0:P.numAvailable)||O.numAvailable||0;return console.log(`[ListingPage] ${O.name} - numAvailable: ${C} (from ${(A=O.availability)!=null&&A.numAvailable?"availability":"direct"})`),C>0});let S=[];if((T=l==null?void 0:l.preorderSchedule)!=null&&T.dates){const O=l.preorderSchedule.dates,C=new Set;Object.values(O).flat().forEach(P=>{C.add(P.foodItemId)}),console.log("[ListingPage] Preorder food IDs from schedule:",Array.from(C)),S=b.filter(P=>{const A=C.has(P.id);return console.log(`[ListingPage] ${P.name} (${P.id}) - in preorder: ${A}`),A})}return console.log(`[ListingPage] Kitchen: ${c}, Total Foods: ${b.length}, Go&Grab: ${k.length}, Pre-order: ${S.length}`),console.log("[ListingPage] Go&Grab items:",k.map(O=>{var C;return{id:O.id,name:O.name,numAvailable:((C=O.availability)==null?void 0:C.numAvailable)||O.numAvailable}})),console.log("[ListingPage] Pre-order items:",S.map(O=>({id:O.id,name:O.name}))),{goGrabItems:k,preOrderItems:S}},[u,l,c]);console.log("ðŸš€ ~ ListingPage ~ goGrabItems:",g),console.log("ðŸš€ ~ ListingPage ~ preOrderItems:",y);const m=b=>{var S,T;return(T=(S=l==null?void 0:l.preorderSchedule)==null?void 0:S.dates)!=null&&T[b]?l.preorderSchedule.dates[b].map(O=>{const C=y.find(P=>P.id===O.foodItemId);return C?{...C,scheduleItem:O}:null}).filter(Boolean):[]},v=h();return f?d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsx(Pc,{isLoading:f,text:"Loading food details...",overlay:!0,size:"medium"})})}):p?d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsx("div",{className:"padding-20",children:d.jsxs("div",{className:"text-center py-5 text-danger",children:["Error: ",p]})})})}):d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsxs("div",{className:"padding-20",children:[d.jsxs("div",{className:"back-link-title",children:[d.jsx(Yt,{className:"back-link",to:t,children:d.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),d.jsx("div",{className:"title",children:"More offers from HomeFresh"})]}),d.jsx("h2",{className:"small-title mb-2",children:(l==null?void 0:l.name)||"Coco&apos;s Kitchen"}),g.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"small-title mb-20",children:"Grab & Go"}),d.jsx("div",{className:"menu-listing",children:g.map(b=>{const k=o(b.id);return d.jsxs("div",{className:"menu-list",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"image",children:d.jsx("img",{src:b.imageUrl||"/src/assets/images/product.png",alt:b.name,onError:S=>{S.target.src="/src/assets/images/product.png"}})}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"title",children:b.name}),d.jsx("div",{className:"text",children:b.description||"This dish features tender, juicy flavors"}),d.jsxs("div",{className:"price",children:["$ ",b.cost]})]})]}),d.jsxs("div",{className:"quantity-warpper",children:[d.jsx("div",{className:"right mb-1",children:d.jsx(Cr,{food:b,kitchen:l,selectedDate:null,size:"small",initialQuantity:k,onQuantityChange:async S=>{const T=o(b.id);await s({food:b,kitchen:l,newQuantity:S,currentQuantity:T,selectedDate:null,specialInstructions:"",isPreOrder:!1})}})}),d.jsx("div",{className:"title",children:"Pick up today"}),d.jsxs("div",{className:"bottom",children:[d.jsx("div",{className:"time",children:"6:22 PM"}),d.jsx("div",{className:"icon",children:d.jsx("img",{src:kr,alt:""})})]})]})]},b.id)})})]}),v.map(b=>{const k=m(b.dateString);return k.length===0?null:d.jsxs("div",{children:[d.jsxs("h2",{className:"small-title mb-16",children:["Pre-order for ",b.displayDate]}),d.jsx("div",{className:"menu-listing",children:k.map(S=>{var C;const T=o(S.id,b.dateString),O=((C=S.scheduleItem)==null?void 0:C.availableTimes)||["6:22 PM"];return d.jsxs("div",{className:"menu-list",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"image",children:d.jsx("img",{src:S.imageUrl||"/src/assets/images/product.png",alt:S.name,onError:P=>{P.target.src="/src/assets/images/product.png"}})}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"title",children:S.name}),d.jsx("div",{className:"text",children:S.description||"This dish features tender, juicy flavors"}),d.jsxs("div",{className:"price",children:["$ ",S.cost]})]})]}),d.jsxs("div",{className:"quantity-warpper",children:[d.jsx("div",{className:"right mb-1",children:d.jsx(Cr,{food:S,kitchen:l,selectedDate:b.dateString,size:"small",initialQuantity:T,onQuantityChange:async P=>{const A=o(S.id,b.dateString);await s({food:S,kitchen:l,newQuantity:P,currentQuantity:A,selectedDate:b.dateString,specialInstructions:"",isPreOrder:!0})}})}),d.jsxs("div",{className:"title",children:["Pick up ",b.displayDate]}),d.jsxs("div",{className:"bottom",children:[d.jsx("div",{className:"time",children:O[0]}),d.jsx("div",{className:"icon",children:d.jsx("img",{src:kr,alt:""})})]})]})]},`${S.id}-${b.dateString}`)})})]},b.dateString)}),a.length>0&&d.jsx("button",{className:"action-button mb-16",onClick:()=>r("/order"),children:"Continue to View Cart"}),d.jsxs("div",{className:"scanner-bottom mb-16",children:[d.jsx("div",{className:"text",children:"Full menus from your local home kitchens can be found in the HomeFresh app, available in the iOS App Store."}),d.jsx("div",{className:"qr",children:d.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{width:"80",height:"80",rx:"12",fill:"#F7F7FA"}),d.jsx("rect",{x:"10",y:"10",width:"18",height:"18",rx:"3",fill:"#191A26"}),d.jsx("rect",{x:"52",y:"10",width:"18",height:"18",rx:"3",fill:"#191A26"}),d.jsx("rect",{x:"10",y:"52",width:"18",height:"18",rx:"3",fill:"#191A26"}),d.jsx("rect",{x:"52",y:"52",width:"18",height:"18",rx:"3",fill:"#191A26"}),d.jsx("rect",{x:"32",y:"32",width:"16",height:"16",rx:"2",fill:"#191A26"}),d.jsx("rect",{x:"20",y:"20",width:"4",height:"4",fill:"#3FC045"}),d.jsx("rect",{x:"56",y:"20",width:"4",height:"4",fill:"#3FC045"}),d.jsx("rect",{x:"20",y:"56",width:"4",height:"4",fill:"#3FC045"}),d.jsx("rect",{x:"56",y:"56",width:"4",height:"4",fill:"#3FC045"})]})})]})]})})})}const Oh=()=>{const r=Kt(),n=Er();return{logout:w.useCallback(async()=>{try{const t=de.loading("Logging out...");await r(wc()).unwrap(),de.success("Successfully logged out!"),n("/login",{replace:!0})}catch(t){console.error("âŒ Logout failed:",t),de.error("Logout failed, but redirecting anyway"),n("/login",{replace:!0})}},[r,n])}};function Th(){const[r,n]=w.useState(new Date),[e,t]=w.useState(""),a="Enjoy delicious meal from your favorite chef.";console.log("Deployed Version 3");const{user:o,isAuthenticated:s}=je(f=>f.auth),{items:i,totalItems:c}=je(f=>f.cart),{logout:l}=Oh();w.useEffect(()=>{const f=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(f)},[]),w.useEffect(()=>{let f=0;const p=setInterval(()=>{f<a.length?(t(a.slice(0,f+1)),f++):clearInterval(p)},50);return()=>clearInterval(p)},[]);const u=f=>f.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"});return d.jsxs("div",{className:"landing-page",children:[d.jsxs("div",{className:"background-animation",children:[d.jsx("div",{className:"floating-food food-1",children:"ðŸ¥˜"}),d.jsx("div",{className:"floating-food food-2",children:"ðŸœ"}),d.jsx("div",{className:"floating-food food-3",children:"ðŸ¥—"}),d.jsx("div",{className:"floating-food food-4",children:"ðŸ²"}),d.jsx("div",{className:"floating-food food-5",children:"ðŸ¥™"}),d.jsx("div",{className:"floating-food food-6",children:"ðŸ±"})]}),d.jsxs("div",{className:"landing-content",children:[d.jsxs("div",{className:"logo-section",children:[d.jsx("div",{className:"logo-circle",children:d.jsx("span",{className:"logo-icon",children:"ðŸ "})}),d.jsxs("h1",{className:"brand-name",children:["Home",d.jsx("span",{className:"accent-text",children:"Fresh"})]})]}),d.jsxs("div",{className:"coming-soon-section",children:[d.jsxs("h2",{className:"coming-soon-title",children:["Welcome to ",d.jsx("span",{className:"gradient-text",children:"HomeFresh!"})]}),d.jsxs("p",{className:"subtitle",children:[e,d.jsx("span",{className:"cursor",children:"|"})]}),d.jsxs("div",{className:"feature-grid",children:[d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"ðŸ‘¨â€ðŸ³"}),d.jsx("h3",{children:"Home Chefs"}),d.jsx("p",{children:"Local talented chefs cooking with love"})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"ðŸš€"}),d.jsx("h3",{children:"Fresh Experience"}),d.jsx("p",{children:"Fast and reliable taste you can trust"})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"ðŸ’"}),d.jsx("h3",{children:"Made with Love"}),d.jsx("p",{children:"Every meal crafted with care and passion"})]})]}),d.jsxs("div",{className:"live-clock",children:[d.jsx("span",{className:"clock-icon",children:"â°"}),d.jsx("span",{className:"time-display",children:u(r)})]}),d.jsxs("div",{className:"cta-section",children:[d.jsx("p",{className:"launch-text",children:"We're putting the finishing touches on something special!"}),d.jsxs(Yt,{to:"/foods",className:"explore-btn",children:[d.jsx("span",{children:"Explore Preview"}),d.jsx("div",{className:"btn-arrow",children:"â†’"})]})]}),d.jsxs("div",{className:"progress-container",children:[d.jsx("div",{className:"progress-label",children:"Launch Progress"}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill"})}),d.jsx("div",{className:"progress-text",children:"95% Complete"})]})]}),d.jsxs("footer",{className:"landing-footer",children:[d.jsx("p",{children:"Get ready for a culinary revolution ðŸŒŸ"}),d.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(0,0,0,0.1)",borderRadius:"8px",fontSize:"12px"},children:[d.jsx("h4",{children:"ðŸ”§ Debug Panel (Persistence Test)"}),d.jsxs("p",{children:[d.jsx("strong",{children:"User:"})," ",s?(o==null?void 0:o.name)||"Authenticated":"Not logged in"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Cart Items:"})," ",c," items"]}),d.jsxs("div",{style:{marginTop:"10px"},children:[d.jsx("button",{onClick:l,style:{padding:"8px 16px",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"ðŸšª Test Logout (Clear All Data)"}),d.jsx(Yt,{to:"/foods",style:{padding:"8px 16px",backgroundColor:"#44ff44",color:"white",textDecoration:"none",borderRadius:"4px"},children:"ðŸ›’ Go to Foods (Test Cart)"})]})]})]})]})]})}const Rc="/assets/product-BvDHopBm.png",Nh="/assets/user1-DLLHbfvd.svg",Ih=(r,n)=>{const e=Kt(),{user:t,isAuthenticated:a}=je(q=>q.auth),{currentFood:o,currentKitchen:s,currentReviews:i,currentReviewStats:c,currentLikes:l,loading:u,error:f,likedFoods:p}=je(q=>q.food),{kitchenStats:h,kitchenReviews:g,statsLoading:y,reviewsLoading:m}=je(q=>q.kitchen),{foodReviews:v,foodReviewsLoading:x,submissionLoading:R}=je(q=>q.reviews),{items:b,loading:k}=je(q=>q.cart),S=h[n],T=g[n],O=v[r],C=x[r],P=y[n],A=m[n],L=p.includes(r),H=b.filter(q=>q.foodId===r&&q.kitchenId===n).reduce((q,re)=>q+re.quantity,0),F=w.useCallback(q=>b.find(re=>re.foodId===r&&re.kitchenId===n&&re.selectedDate===q.selectedDate&&re.specialInstructions===(q.specialInstructions||"")),[b,r,n]),N=w.useCallback(()=>{r&&n&&e(wr({foodId:r,kitchenId:n}))},[e,r,n]),_=w.useCallback(()=>{n&&!S&&!P&&e(Zr(n))},[e,n,S,P]),M=w.useCallback(()=>{n&&!T&&!A&&e(Jr({kitchenId:n,limit:10}))},[e,n,T,A]),D=w.useCallback(()=>{r&&!O&&!C&&e(en({foodId:r,kitchenId:n,limit:10}))},[e,r,n,O,C]),I=w.useCallback(()=>{if(!a){console.warn("User must be logged in to like food");return}e(nh(r)),e(La(r))},[e,r,a]),j=w.useCallback((q=null)=>{const re=Ce();if(q){const ne=Ce(q),_e=ne.isSame(re,"day"),Ct=ne.isSame(re.add(1,"day"),"day");let Ze;return _e?Ze="Pick up today":Ct?Ze="Pick up tomorrow":Ze=`Pick up ${ne.format("MMM D ddd")}`,{pickupDate:ne.format("YYYY-MM-DD"),pickupTime:"6:30 PM",displayPickupTime:Ze,displayPickupClock:"6:30 PM",orderType:"pre-order"}}else{const ne=re.add(30,"minutes");return{pickupDate:re.format("YYYY-MM-DD"),pickupTime:ne.format("h:mm A"),displayPickupTime:"Pick up today",displayPickupClock:ne.format("h:mm A"),orderType:"grab-and-go"}}},[]),W=w.useCallback(q=>{if(!a)return console.warn("User must be logged in to add to cart"),{success:!1,message:"User must be logged in to add to cart",requiresAuth:!0};const re=F(q);if(re)return console.log("Item already exists with same quantity:",re.quantity),e(br({cartItemId:re.id,quantity:q.quantity})),{success:!1,message:"This item already exists in the cart with the same quantity and specifications",existingQuantity:re.quantity};const ne=j(q.selectedDate),_e={foodId:r,kitchenId:n,quantity:q.quantity,orderType:q.orderType,selectedDate:q.selectedDate,specialInstructions:q.specialInstructions||"",pickupDetails:ne,food:o?{id:o.id,name:o.name,cost:o.cost,price:o.price||o.cost,imageUrl:o.imageUrl,image:o.image||o.imageUrl,description:o.description,category:o.category,isAvailable:o.isAvailable,kitchenName:o.kitchenName,maxQuantity:o.maxQuantity,totalQuantity:o.totalQuantity,availableQuantity:o.availableQuantity,isPreOrder:o.isPreOrder,...o}:null,kitchen:s?{id:s.id,name:s.name,address:s.address,rating:s.rating,ratingCount:s.ratingCount,...s}:null};return console.log("Adding new item to cart:",_e),e(vt(_e)),{success:!0,message:"Item added to cart successfully"}},[e,r,n,a,F,br,o,s,j]),z=w.useCallback(q=>{if(!a){console.warn("User must be logged in to update cart");return}const re=b.find(ne=>ne.foodId===r&&ne.kitchenId===n);re&&(console.log("Updating cart item quantity:",{cartItemId:re.id,quantity:q}),e(br({cartItemId:re.id,quantity:q})))},[e,r,n,a,b]),X=w.useCallback(q=>{if(!a){console.warn("User must be logged in to add review");return}return e(tn({foodId:r,kitchenId:n,reviewData:q}))},[e,r,n,a]),Y=w.useCallback(()=>{e(rh())},[e]);return w.useEffect(()=>(N(),_(),D(),()=>{}),[N,_,D]),{food:o,kitchen:s,reviews:i||[],reviewStats:c||S,kitchenStats:S,likes:l,isLiked:L,cartQuantity:H,loading:u||P,reviewsLoading:C,kitchenStatsLoading:P,kitchenReviewsLoading:A,reviewSubmissionLoading:R,cartLoading:k,error:f,user:t,isAuthenticated:a,toggleLike:I,addToCartAction:W,updateCartItemQuantity:z,addReview:X,loadFoodDetail:N,loadKitchenStats:_,loadKitchenReviews:M,loadFoodReviews:D,clearData:Y}},Ah=({src:r,alt:n,fallbackSrc:e=Rc,className:t=""})=>{const[a,o]=w.useState(null),[s,i]=w.useState(),[c,l]=w.useState(!1),[u,f]=w.useState(!1),p=w.useRef(),h=w.useCallback(m=>{p.current&&p.current.disconnect(),p.current=new IntersectionObserver(v=>{v.forEach(x=>{x.isIntersecting&&(o(r),p.current.disconnect())})},{threshold:.1,rootMargin:"50px"}),m&&p.current.observe(m),i(m)},[r]),g=()=>{l(!0)},y=()=>{f(!0),o(e),l(!0)};return d.jsxs("div",{className:"lazy-image-container",style:{position:"relative"},children:[!c&&d.jsx("div",{className:"image-placeholder",children:d.jsx("div",{className:"image-skeleton"})}),d.jsx("img",{ref:h,src:a||e,alt:n,className:`${t} ${c?"loaded":"loading"}`,onLoad:g,onError:y,loading:"lazy",style:{opacity:c?1:0,transition:"opacity 0.3s ease-in-out"}}),u&&d.jsx("div",{className:"image-error-indicator",children:d.jsx("small",{children:"Using fallback image"})})]})},ls=({rating:r=0,maxStars:n=5,size:e="small",showRating:t=!1,reviewCount:a=null,className:o=""})=>{const s=Math.max(0,Math.min(r,n)),i={small:{width:12,height:12,gap:"2px"},medium:{width:16,height:17,gap:"3px"},large:{width:20,height:21,gap:"4px"}},{width:c,height:l,gap:u}=i[e]||i.small,f=()=>{const p=[];for(let h=1;h<=n;h++){const g=Math.max(0,Math.min(1,s-(h-1)));p.push(d.jsxs("div",{className:"star-container",style:{position:"relative"},children:[d.jsx("svg",{width:c,height:l,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"star-empty",children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.8542 1.20117C5.80112 1.20117 5.67045 1.21576 5.60103 1.35459L4.53587 3.48434C4.36728 3.82092 4.04237 4.05484 3.6667 4.10851L1.28203 4.45209C1.12453 4.47484 1.07087 4.59151 1.05453 4.6405C1.03995 4.68776 1.01662 4.80792 1.12512 4.91176L2.84945 6.56842C3.1242 6.83267 3.24903 7.21359 3.1837 7.58634L2.7777 9.9255C2.75262 10.0719 2.8442 10.1571 2.88503 10.1863C2.9282 10.2189 3.0437 10.2837 3.18662 10.209L5.3187 9.10359C5.6547 8.93034 6.05487 8.93034 6.3897 9.10359L8.5212 10.2084C8.6647 10.2825 8.7802 10.2178 8.82395 10.1863C8.86478 10.1571 8.95637 10.0719 8.93128 9.9255L8.52412 7.58634C8.45878 7.21359 8.58362 6.83267 8.85837 6.56842L10.5827 4.91176C10.6918 4.80792 10.6684 4.68717 10.6533 4.6405C10.6375 4.59151 10.5839 4.47484 10.4264 4.45209L8.0417 4.10851C7.66662 4.05484 7.3417 3.82092 7.17312 3.48376L6.10678 1.35459C6.03795 1.21576 5.90728 1.20117 5.8542 1.20117Z",fill:"#E5E7EB",stroke:"#E5E7EB",strokeWidth:"0.2"})}),g>0&&d.jsx("div",{className:"star-filled",style:{position:"absolute",top:0,left:0,width:`${g*100}%`,overflow:"hidden"},children:d.jsx("svg",{width:c,height:l,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M9.45251 6.92967C9.30143 7.07609 9.23201 7.28784 9.26643 7.4955L9.78502 10.3655C9.82876 10.6088 9.7261 10.8549 9.52251 10.9955C9.32301 11.1413 9.0576 11.1588 8.84001 11.0422L6.25643 9.69467C6.1666 9.64684 6.06685 9.62117 5.96476 9.61825H5.80668C5.75185 9.62642 5.69818 9.64392 5.64918 9.67075L3.06501 11.0247C2.93726 11.0888 2.7926 11.1116 2.65085 11.0888C2.30551 11.0235 2.0751 10.6945 2.13168 10.3474L2.65085 7.47742C2.68526 7.268 2.61585 7.05509 2.46476 6.90633L0.358348 4.86467C0.182181 4.69375 0.120931 4.43709 0.201431 4.2055C0.279598 3.9745 0.479098 3.80592 0.720015 3.768L3.61918 3.34742C3.83968 3.32467 4.03335 3.1905 4.13251 2.99217L5.41001 0.373001C5.44035 0.314668 5.47943 0.261001 5.52668 0.215501L5.57918 0.174668C5.6066 0.144335 5.6381 0.119251 5.6731 0.0988346L5.73668 0.0755013L5.83585 0.034668H6.08143C6.30076 0.057418 6.49385 0.188668 6.59476 0.384668L7.88918 2.99217C7.98251 3.18292 8.16393 3.31533 8.37335 3.34742L11.2725 3.768C11.5175 3.803 11.7223 3.97217 11.8033 4.2055C11.8798 4.43942 11.8138 4.69608 11.6342 4.86467L9.45251 6.92967Z",fill:"#FF981F"})})})]},h))}return p};return d.jsxs("div",{className:`star-rating ${e} ${o}`,children:[d.jsx("div",{className:"stars-container",style:{gap:u},children:f()}),(t||a)&&d.jsxs("div",{className:"rating-info",children:[t&&d.jsx("span",{className:"rating-value",children:d.jsx("strong",{children:s.toFixed(1)})}),a&&d.jsxs("span",{className:"review-count",children:["(",a>1e3?`${(a/1e3).toFixed(1)}k`:a,"+ reviews)"]})]})]})},jh=({onClose:r})=>{console.log("ðŸš€ WeChatAuthDialog rendered!");const n=async()=>{try{const t=qo(),a=Ko();console.log("ðŸ” Auth context:",{isMobile:t,isWeChat:a}),sessionStorage.setItem("wechat_pending_cart_action","true");const o=Qo();console.log("ðŸ”— Generated auth URL:",o),a?(console.log("ðŸ“± WeChat browser detected - direct redirect"),window.location.href=o):t?(console.log("ðŸ“± Mobile device - attempting WeChat authentication"),window.location.href=o):(console.log("ðŸ–¥ï¸ Desktop - direct redirect"),window.location.href=o)}catch(t){console.error("âŒ Error in WeChat authentication:",t);const a=Qo();window.location.href=a}},e=t=>{t.target===t.currentTarget&&r()};return d.jsx("div",{className:"wechat-auth-dialog-overlay",onClick:e,children:d.jsxs("div",{className:"wechat-auth-dialog",children:[d.jsxs("div",{className:"wechat-auth-header",children:[d.jsx("h3",{children:"Sign in to Continue"}),d.jsx("button",{className:"wechat-auth-close",onClick:r,"aria-label":"Close dialog",children:"Ã—"})]}),d.jsxs("div",{className:"wechat-auth-content",children:[d.jsx("div",{className:"wechat-auth-icon",children:d.jsx("img",{src:Ya,alt:"WeChat"})}),d.jsx("p",{className:"wechat-auth-message",children:"Please sign in with WeChat to add items to your cart"}),d.jsxs("button",{className:"wechat-auth-button",onClick:n,children:[d.jsx("img",{src:Ya,alt:"WeChat"}),"Continue with WeChat"]}),d.jsx("p",{className:"wechat-auth-note",children:qo()&&!Ko()?"This will open WeChat app for secure authentication":"We'll redirect you to WeChat for secure authentication"})]})]})})};function us(){const[r]=Xs(),n=Qa(),e=Er(),t=()=>{if(console.log("ðŸ” [FoodDetailPage] Current pathname:",n.pathname),console.log("ðŸ” [FoodDetailPage] Search params:",r.toString()),n.pathname==="/share"||n.pathname==="/share/"){const Y={kitchenId:r.get("kitchenId"),foodId:r.get("foodId"),selectedDate:r.get("date")};return console.log("ðŸ” [FoodDetailPage] Extracted params:",Y),Y}return console.log("ðŸ” [FoodDetailPage] Using fallback params (pathname not /share)"),{kitchenId:null,foodId:null,selectedDate:null}},{kitchenId:a,foodId:o,selectedDate:s}=t();if(!a||!o)return d.jsx("div",{className:"mobile-container",children:d.jsx("div",{className:"padding-20",children:d.jsxs("div",{className:"alert alert-danger",role:"alert",children:[d.jsx("h4",{children:"Invalid URL"}),d.jsx("p",{children:"Missing required parameters. Please check your link and try again."}),d.jsxs("small",{className:"text-muted",children:["Expected: kitchenId and foodId"," ",n.pathname==="/share"?"as query parameters":"as URL parameters"]})]})})});const[i,c]=w.useState("reviews"),[l,u]=w.useState(1),[f,p]=w.useState(""),[h,g]=w.useState(!1);w.useEffect(()=>{console.log("ðŸ” showWeChatDialog state changed to:",h)},[h]);const[y,m]=w.useState({isAvailable:!0,quantity:1,orderType:"GO_GRAB"}),{food:v,kitchen:x,likes:R,reviews:b,reviewStats:k,loading:S,error:T,isLiked:O,cartQuantity:C,toggleLike:P,addToCartAction:A,updateCartItemQuantity:L}=Ih(o,a);console.log("FoodDetailPage data:",{food:v,kitchen:x,likes:R,reviews:b,reviewStats:k,loading:S,error:T,selectedDate:s,urlPattern:n.pathname,extractedParams:{kitchenId:a,foodId:o,selectedDate:s}});const H=w.useCallback(Y=>{console.log(`[FoodDetailPage] Quantity changed to: ${Y}`),u(Y),C>0&&(console.log(`[FoodDetailPage] Updating cart quantity to: ${Y}`),L(Y))},[C,L]),F=w.useCallback(Y=>{m(Y)},[]),N=w.useCallback(Y=>{console.error(`[FoodDetailPage] Quantity error: ${Y}`),de.error(Y)},[]),_=w.useCallback(Y=>{console.warn(`[FoodDetailPage] Quantity warning: ${Y}`),de.warning(Y)},[]),M=w.useCallback(()=>{if(console.log("[FoodDetailPage] Add to Cart button clicked!"),console.log("[FoodDetailPage] Availability status:",y),console.log("[FoodDetailPage] Selected quantity:",l),console.log("[FoodDetailPage] Special instructions:",f),!y.isAvailable){de.error("This item is currently unavailable");return}const Y={quantity:l,orderType:y.orderType,selectedDate:s,specialInstructions:f.trim()};console.log(`Adding ${l} items to cart`,{foodId:o,kitchenId:a,selectedDate:s,orderType:y.orderType,quantity:l,specialInstructions:f.trim()}),console.log("[FoodDetailPage] Calling addToCartAction with:",Y);const V=A(Y);if(V){if(V.requiresAuth){console.log("ðŸ”’ Authentication required - showing WeChat dialog"),console.log("ðŸ”’ Setting showWeChatDialog to true"),g(!0),console.log("ðŸ”’ showWeChatDialog state should now be true");return}V.success?(console.log("âœ… Success:",V.message),de.cart(V.message),e("/foods",{replace:!0})):(console.log("â„¹ï¸ Info:",V.message),de.warning(V.message))}},[y,l,f,o,a,s,A,e,g]),D=w.useCallback(()=>{g(!1)},[]);w.useEffect(()=>{C>0&&u(C)},[C]),w.useEffect(()=>{(async()=>{console.log("=== DEBUGGING REVIEWS ==="),console.log("URL params - foodId:",o,"kitchenId:",a,"selectedDate:",s);const V=await zp();if(console.log("Connection test:",V),o){const Xe=await Qp(o);console.log("Debug reviews result:",Xe)}})()},[o,a,s]),console.log("ðŸš€ ~ FoodDetailPage ~ reviewStats:",k);const I=(k==null?void 0:k.averageRating)||4.5,j=(k==null?void 0:k.totalReviews)||0,W=(k==null?void 0:k.ratingPercentages)||{5:90,4:70,3:40,2:20,1:8},z=(b==null?void 0:b.length)>0?b.map(Y=>({id:Y.id,image:Y.userProfile||Nh,date:Y.timeStamp?(()=>{try{let V;return typeof Y.timeStamp=="string"?Y.timeStamp.includes(" at ")?V=new Date(Y.timeStamp.replace(" at "," ").replace(" UTC+5","")):V=new Date(Y.timeStamp):Y.timeStamp.seconds?V=new Date(Y.timeStamp.seconds*1e3):V=new Date(Y.timeStamp),V.toLocaleDateString()}catch(V){return console.warn("Error parsing timestamp:",Y.timeStamp),"Unknown date"}})():"Unknown date",name:Y.userName||"Anonymous User",rating:Y.rating||5,description:Y.message||"No comment provided"})):[],X=w.useCallback(()=>{P(),console.log(`[FoodDetailPage] Food ${O?"unliked":"liked"}`)},[P,O]);return S?d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsx(Pc,{isLoading:S,text:"Loading food details...",overlay:!0,size:"medium"})})}):d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"mobile-container",children:d.jsxs("div",{className:"product-detail",children:[d.jsxs("div",{className:"padding-20",children:[d.jsx("h2",{className:"title text-center",children:v==null?void 0:v.name}),d.jsxs("h2",{className:"text text-center",children:["By ",v==null?void 0:v.kitchenName]}),d.jsxs("div",{className:"review-info",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{children:d.jsx("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7499 4.80322L9.97336 4.26881L8.28761 0.940677C8.12458 0.667862 7.82468 0.5 7.50028 0.5C7.17588 0.5 6.87597 0.667862 6.71295 0.940677L5.02719 4.26966L1.25064 4.80322C0.920725 4.84924 0.64636 5.07363 0.543084 5.38188C0.439808 5.69013 0.525567 6.02868 0.764246 6.25497L3.49628 8.84616L2.85154 12.5053C2.79531 12.8246 2.93026 13.1472 3.19965 13.3375C3.46905 13.5279 3.82617 13.553 4.12089 13.4022L7.50028 11.6739L10.8779 13.4005C11.1726 13.5513 11.5298 13.5262 11.7992 13.3358C12.0685 13.1455 12.2035 12.8229 12.1473 12.5036L11.5025 8.84446L14.2363 6.25497C14.4744 6.02885 14.56 5.69094 14.4572 5.38312C14.3543 5.0753 14.0809 4.85087 13.7517 4.80407L13.7499 4.80322Z",fill:"#FBBC04"})})}),d.jsxs("div",{className:"text",children:[d.jsx("strong",{children:x!=null&&x.rating&&(x!=null&&x.ratingCount)?parseFloat(parseInt(x==null?void 0:x.rating)/parseInt(x==null?void 0:x.ratingCount)).toFixed(1):"No ratings yet"}),` ${x==null?void 0:x.ratingCount}+ reviews`]})]}),d.jsx("div",{className:"line"}),d.jsxs("div",{className:"left",children:[d.jsx("div",{children:d.jsxs("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M10.1667 6.00016C10.1667 6.92063 9.42051 7.66683 8.50004 7.66683C7.57957 7.66683 6.83337 6.92063 6.83337 6.00016C6.83337 5.07969 7.57957 4.3335 8.50004 4.3335C9.42051 4.3335 10.1667 5.07969 10.1667 6.00016Z",stroke:"#3FC045"}),d.jsx("path",{d:"M12.6481 11.3335C13.5778 12.6592 14.0225 13.3652 13.7576 13.9334C13.731 13.9904 13.6999 14.0454 13.6646 14.098C13.2816 14.6668 12.2916 14.6668 10.3118 14.6668H6.68811C4.7083 14.6668 3.71839 14.6668 3.33536 14.098C3.29999 14.0454 3.26888 13.9904 3.24232 13.9334C2.97742 13.3652 3.42213 12.6592 4.35181 11.3335",stroke:"#3FC045","stroke-linecap":"round","stroke-linejoin":"round"}),d.jsx("path",{d:"M9.33831 11.6626C9.11344 11.8791 8.81291 12.0002 8.50017 12.0002C8.18737 12.0002 7.88684 11.8791 7.66197 11.6626C5.60291 9.66736 2.8435 7.4385 4.18918 4.20265C4.91677 2.45304 6.66333 1.3335 8.50017 1.3335C10.337 1.3335 12.0835 2.45305 12.8111 4.20265C14.1551 7.43443 11.4024 9.67423 9.33831 11.6626Z",stroke:"#3FC045"})]})}),d.jsx("div",{className:"text",children:(x==null?void 0:x.address)||"Unknown location"})]})]}),d.jsxs("div",{className:"product-image",children:[d.jsx("div",{className:`icon heart-icon ${O?"liked":""}`,onClick:X,children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M9.80568 16.3852C9.53252 16.4816 9.08261 16.4816 8.80945 16.3852C6.47955 15.5898 1.27344 12.2717 1.27344 6.64781C1.27344 4.16527 3.27393 2.15674 5.74041 2.15674C7.20262 2.15674 8.49612 2.86374 9.30756 3.95638C10.119 2.86374 11.4205 2.15674 12.8747 2.15674C15.3412 2.15674 17.3417 4.16527 17.3417 6.64781C17.3417 12.2717 12.1356 15.5898 9.80568 16.3852Z",stroke:"#FF5555",fill:O?"#FF5555":"transparent",strokeWidth:"1.20512",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx(Ah,{src:v==null?void 0:v.imageUrl,alt:(v==null?void 0:v.name)||"Product",fallbackSrc:Rc,className:""})]}),d.jsxs("div",{className:"quantity-warpper",children:[d.jsxs("div",{className:"price",children:[d.jsx("sup",{children:"$"}),(v==null?void 0:v.cost)&&parseFloat(v==null?void 0:v.cost).toFixed(2)]}),d.jsx(Cr,{food:v,kitchen:x,selectedDate:s,initialQuantity:Math.max(C,1),onQuantityChange:H,onAvailabilityChange:F,onError:N,onWarning:_,showAvailabilityInfo:!1,showErrorMessages:!0,size:"large",className:"food-detail-quantity"})]}),s&&d.jsxs("div",{className:"pickup-details",children:[d.jsxs("div",{className:"pickup-field",children:[d.jsx("label",{className:"pickup-label",children:"Pick up date:"}),d.jsx("div",{className:"pickup-value date-value",children:y!=null&&y.actualCheckingDate&&y.actualCheckingDate!==s?d.jsx(d.Fragment,{children:new Date(y.actualCheckingDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}):new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),d.jsxs("div",{className:"pickup-field",children:[d.jsx("label",{className:"pickup-label",children:"Pick up time:"}),d.jsxs("div",{className:"pickup-value time-value",children:["6:22 PM",d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7zm0 12.5c-3.04 0-5.5-2.46-5.5-5.5S4.96 2.5 8 2.5s5.5 2.46 5.5 5.5-2.46 5.5-5.5 5.5z",fill:"#4CAF50"}),d.jsx("path",{d:"M8.5 4.5h-1v4.25l3.5 2.08.5-.83L8.5 7.92V4.5z",fill:"#4CAF50"})]})]})]})]})]}),d.jsx("div",{className:"hr"}),d.jsxs("div",{className:"padding-20",children:[d.jsx("h3",{className:"small-title mb-8",children:"Special Instruction"}),d.jsx("p",{className:"body-text mb-16",children:"Please let us know if you are allergic to anything or if we need to avoid anything."}),d.jsx("textarea",{className:"special-instructions-input",placeholder:"Enter your special instructions here...",value:f,onChange:Y=>p(Y.target.value),rows:3,style:{width:"100%",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",marginBottom:"16px"}}),d.jsxs("div",{className:"custom-accordian",children:[d.jsx("button",{className:`button${i==="description"?" active":""}`,onClick:()=>c("description"),children:"Description"}),d.jsx("button",{className:`button${i==="reviews"?" active":""}`,onClick:()=>c("reviews"),children:"Reviews"})]}),d.jsxs("div",{className:"accordian-content",children:[i==="description"&&d.jsx("div",{className:"description-content",children:(v==null?void 0:v.description)||"No description available."}),i==="reviews"&&d.jsxs("div",{className:"reviews-content",children:[d.jsxs("div",{className:"overall-reviews",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"bold",children:I>0?I.toFixed(1):"No ratings yet"}),d.jsx(ls,{rating:I,size:"small",showRating:!1}),d.jsxs("div",{className:"body-text",children:["(",j,"+ reviews)"]})]}),d.jsx("div",{className:"line"}),d.jsx("div",{className:"right",children:[5,4,3,2,1].map(Y=>d.jsxs("div",{className:"review",children:[d.jsx("div",{className:"text",children:Y}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"fill",style:{width:`${W[Y]}%`}})})]},Y))})]}),d.jsx("div",{className:"reviews-list",children:z.map((Y,V)=>d.jsxs("div",{className:"review-item",children:[d.jsxs("div",{className:"header",children:[d.jsxs("div",{className:"profile",children:[d.jsx("img",{src:Y.image,alt:Y.name,className:"image"}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"name",children:Y.name}),d.jsx("div",{className:"rating",children:d.jsx(ls,{rating:Y.rating||5,size:"small",showRating:!1})}),d.jsx("div",{className:"date",children:Y.date})]})]}),d.jsx("div",{className:"icon"})]}),d.jsx("div",{className:"description",children:Y.description})]},Y.id||V))})]})]}),d.jsxs("div",{className:"add-to-cart-action",children:[d.jsx("button",{className:`button ${y.isAvailable?"":"sold-out"}`,onClick:Y=>{console.log("ðŸ”¥ BUTTON CLICKED! Event:",Y),console.log("ðŸ”¥ handleAddToCart type:",typeof M),M(Y)},disabled:!y.isAvailable,style:{pointerEvents:"auto",zIndex:1e3},children:y.isAvailable?"Add to Cart":"Sold Out"}),d.jsx("div",{className:"icon",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e("/foods",{replace:!0}),children:[d.jsx("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d.jsx("path",{d:"M3 6H21",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d.jsx("path",{d:"M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})]})]})]})}),h&&d.jsx(jh,{onClose:D})]})}function Fh(){const r=Er(),n=Kt(),e=je(m=>m.cart.items),{handleQuantityChange:t}=Ec(),a=e.length>0?e[0].kitchenId:null,{kitchen:o,foods:s,loading:i}=Dc(a);console.log("OrderPage - Kitchen data:",{kitchenId:a,hasKitchen:!!o,foodsCount:s.length,kitchenLoading:i});const c=w.useMemo(()=>{const m=new Map;return s.forEach(v=>{m.set(v.id,v)}),m},[s]),l=m=>{var R,b,k,S;const v=c.get(m.foodId);if(console.log(`OrderPage - Getting food data for ${m.foodId}:`,{hasFullData:!!v,fullFoodData:v?{id:v.id,name:v.name,availability:v.availability,numAvailable:v.numAvailable}:null}),v)return v;const x={id:m.foodId,name:(R=m.food)==null?void 0:R.name,cost:(b=m.food)==null?void 0:b.cost,imageUrl:(k=m.food)==null?void 0:k.imageUrl,kitchenId:m.kitchenId,description:(S=m.food)==null?void 0:S.description,availability:{numAvailable:99},numAvailable:99};return console.log(`OrderPage - Using fallback data for ${m.foodId}:`,x),x},u=w.useMemo(()=>{const m={grabAndGo:[],preOrders:{}};e.forEach(x=>{var b,k,S,T,O,C,P,A;const R=((b=x.pickupDetails)==null?void 0:b.orderType)||x.orderType||(x.isPreOrder?"PRE_ORDER":"GO_GRAB");if(R==="GO_GRAB")m.grabAndGo.push({...x,displayPickupTime:((k=x.pickupDetails)==null?void 0:k.display)||"Pick up today",displayPickupClock:((S=x.pickupDetails)==null?void 0:S.time)||Ce().add(30,"minutes").format("h:mm A")});else if(R==="PRE_ORDER"||x.isPreOrder||x.selectedDate){const L=x.selectedDate||((T=x.pickupDetails)==null?void 0:T.date);L&&(m.preOrders[L]||(m.preOrders[L]=[]),m.preOrders[L].push({...x,displayPickupTime:((O=x.pickupDetails)==null?void 0:O.display)||`Pick up ${Ce(L).format("MMM D ddd")}`,displayPickupClock:((C=x.pickupDetails)==null?void 0:C.time)||"6:30 PM"}))}else m.grabAndGo.push({...x,displayPickupTime:((P=x.pickupDetails)==null?void 0:P.display)||"Pick up today",displayPickupClock:((A=x.pickupDetails)==null?void 0:A.time)||Ce().add(30,"minutes").format("h:mm A")})});const v={};return Object.keys(m.preOrders).sort((x,R)=>Ce(x).diff(Ce(R))).forEach(x=>{v[x]=m.preOrders[x]}),m.preOrders=v,m},[e]),f=w.useMemo(()=>{const m=e.reduce((R,b)=>{var O,C,P;const k=c.get(b.foodId),S=(k==null?void 0:k.cost)||((O=b.food)==null?void 0:O.cost)||0,T=typeof S=="string"?parseFloat(S):S;return console.log(`OrderPage - Pricing calculation for ${b.foodId}:`,{itemName:(C=b.food)==null?void 0:C.name,quantity:b.quantity,originalCost:(P=b.food)==null?void 0:P.cost,enrichedCost:k==null?void 0:k.cost,finalCost:T,lineTotal:T*b.quantity}),R+T*b.quantity},0),v=m*.0725,x=m+v;return console.log("OrderPage - Total calculation:",{subtotal:m.toFixed(2),tax:v.toFixed(2),total:x.toFixed(2),cartItemsCount:e.length}),{subtotal:m.toFixed(2),tax:v.toFixed(2),total:x.toFixed(2)}},[e,c]),p=(m,v=null)=>e.filter(x=>x.foodId===m&&(!v||x.selectedDate===v)).reduce((x,R)=>x+R.quantity,0),h=()=>{n(lo()),de.info("Cart cleared successfully")},g=m=>Ce(m).format("MMM D ddd"),y=e.reduce((m,v)=>m+v.quantity,0);return d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsxs("div",{className:"padding-20",children:[d.jsxs("div",{className:"back-link-title",children:[d.jsx(Yt,{className:"back-link",to:"/foods",children:d.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),d.jsxs("div",{className:"title",children:["Order (",y," Item",y!==1?"s":"",")"]})]}),e.length>0&&e[0].kitchen&&d.jsx("h2",{className:"small-title mb-2",children:e[0].kitchen.name}),e.length===0?d.jsxs("div",{className:"text-center py-5",children:[d.jsx("p",{children:"Your cart is empty"}),d.jsx(Yt,{to:"/foods",className:"action-button",style:{textDecoration:"none",display:"inline-block",padding:"12px 24px",marginTop:"16px"},children:"Continue Shopping"})]}):d.jsxs(d.Fragment,{children:[u.grabAndGo.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"small-title mb-20",children:"Go&Grab"}),d.jsx("div",{className:"menu-listing",children:u.grabAndGo.map((m,v)=>{var R,b,k,S,T;const x=p(m.foodId);return d.jsxs("div",{className:"menu-list",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"image",children:d.jsx("img",{src:((R=m.food)==null?void 0:R.imageUrl)||"/src/assets/images/product.png",alt:((b=m.food)==null?void 0:b.name)||"Food item",onError:O=>{O.target.src="/src/assets/images/product.png"}})}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"title",children:((k=m.food)==null?void 0:k.name)||"Unknown Item"}),d.jsx("div",{className:"text",children:((S=m.food)==null?void 0:S.description)||"This dish features tender, juicy flavors"}),d.jsxs("div",{className:"price",children:["$ ",((T=m.food)==null?void 0:T.cost)||"0.00"]})]})]}),d.jsxs("div",{className:"quantity-warpper",children:[d.jsx("div",{className:"right mb-1",children:d.jsx(Cr,{food:l(m),kitchen:o||m.kitchen,selectedDate:null,size:"small",initialQuantity:x,onQuantityChange:async O=>{const C=p(m.foodId),P=l(m);await t({food:P,kitchen:o||m.kitchen,newQuantity:O,currentQuantity:C,selectedDate:null,specialInstructions:m.specialInstructions||"",isPreOrder:!1})}})}),d.jsx("div",{className:"title",children:m.displayPickupTime}),d.jsxs("div",{className:"bottom",children:[d.jsx("div",{className:"time",children:m.displayPickupClock}),d.jsx("div",{className:"icon",children:d.jsx("img",{src:kr,alt:""})})]})]})]},`grab-${m.foodId}-${v}`)})})]}),Object.entries(u.preOrders).map(([m,v])=>d.jsxs("div",{children:[d.jsxs("h2",{className:"small-title mb-16",children:["Pre-order for ",g(m)]}),d.jsx("div",{className:"menu-listing",children:v.map((x,R)=>{var k,S,T,O,C;const b=p(x.foodId,m);return d.jsxs("div",{className:"menu-list",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"image",children:d.jsx("img",{src:((k=x.food)==null?void 0:k.imageUrl)||"/src/assets/images/product.png",alt:((S=x.food)==null?void 0:S.name)||"Food item",onError:P=>{P.target.src="/src/assets/images/product.png"}})}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"title",children:((T=x.food)==null?void 0:T.name)||"Unknown Item"}),d.jsx("div",{className:"text",children:((O=x.food)==null?void 0:O.description)||"This dish features tender, juicy flavors"}),d.jsxs("div",{className:"price",children:["$ ",((C=x.food)==null?void 0:C.cost)||"0.00"]})]})]}),d.jsxs("div",{className:"quantity-warpper",children:[d.jsx("div",{className:"right mb-1",children:d.jsx(Cr,{food:l(x),kitchen:o||x.kitchen,selectedDate:m,size:"small",initialQuantity:b,onQuantityChange:async P=>{const A=p(x.foodId,m),L=l(x);await t({food:L,kitchen:o||x.kitchen,newQuantity:P,currentQuantity:A,selectedDate:m,specialInstructions:x.specialInstructions||"",isPreOrder:!0})}})}),d.jsx("div",{className:"title",children:x.displayPickupTime}),d.jsxs("div",{className:"bottom",children:[d.jsx("div",{className:"time",children:x.displayPickupClock}),d.jsx("div",{className:"icon",children:d.jsx("img",{src:kr,alt:""})})]})]})]},`preorder-${x.foodId}-${m}-${R}`)})})]},m)),d.jsxs("div",{className:"order-summary",style:{backgroundColor:"#f8f9fa",padding:"16px",borderRadius:"8px",marginTop:"24px",marginBottom:"16px"},children:[d.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[d.jsxs("span",{children:["Subtotal (",y," item",y!==1?"s":"","):"]}),d.jsxs("span",{children:["$",f.subtotal]})]}),d.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[d.jsx("span",{children:"Tax (7.25%):"}),d.jsxs("span",{children:["$",f.tax]})]}),d.jsxs("div",{className:"summary-row",style:{display:"flex",justifyContent:"space-between",fontWeight:"600",fontSize:"16px",borderTop:"1px solid #dee2e6",paddingTop:"8px"},children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",f.total]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"16px"},children:[d.jsx("button",{onClick:h,style:{flex:"1",padding:"12px 16px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",color:"#6c757d",cursor:"pointer"},children:"Clear Cart"}),d.jsx("button",{className:"action-button",onClick:()=>r("/checkout"),style:{flex:"2"},children:"Check Out"})]})]})]})})})}const Lh="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%201.6665V4.1665'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.91675%207.5752H17.0834'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.08317V14.1665C17.5%2016.6665%2016.25%2018.3332%2013.3333%2018.3332H6.66667C3.75%2018.3332%202.5%2016.6665%202.5%2014.1665V7.08317C2.5%204.58317%203.75%202.9165%206.66667%202.9165H13.3333C16.25%202.9165%2017.5%204.58317%2017.5%207.08317Z'%20stroke='%233FC045'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99632%2011.4167H10.0038'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2011.4167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.91185%2013.9167H6.91933'%20stroke='%233FC045'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Yh="/assets/map-D7B-IPhe.png";var $h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wh=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bh=(r,n)=>{const e=w.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:i,...c},l)=>w.createElement("svg",{ref:l,...$h,width:a,height:a,stroke:t,strokeWidth:s?Number(o)*24/Number(a):o,className:`lucide lucide-${Wh(r)}`,...c},[...n.map(([u,f])=>w.createElement(u,f)),...(Array.isArray(i)?i:[i])||[]]));return e.displayName=`${r}`,e};var Uh=Bh;const ds=Uh("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function Mc(r){var n,e,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(n=0;n<a;n++)r[n]&&(e=Mc(r[n]))&&(t&&(t+=" "),t+=e)}else for(e in r)r[e]&&(t&&(t+=" "),t+=e);return t}function ye(){for(var r,n,e=0,t="",a=arguments.length;e<a;e++)(r=arguments[e])&&(n=Mc(r))&&(t&&(t+=" "),t+=n);return t}const Oc=6048e5,Hh=864e5,Kn=6e4,Qn=36e5,qh=1e3,fs=Symbol.for("constructDateFrom");function te(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&fs in r?r[fs](n):r instanceof Date?new r.constructor(n):new Date(n)}function U(r,n){return te(n||r,r)}function Le(r,n,e){const t=U(r,e==null?void 0:e.in);return isNaN(n)?te((e==null?void 0:e.in)||r,NaN):(n&&t.setDate(t.getDate()+n),t)}function Ye(r,n,e){const t=U(r,e==null?void 0:e.in);if(isNaN(n))return te(r,NaN);if(!n)return t;const a=t.getDate(),o=te(r,t.getTime());o.setMonth(t.getMonth()+n+1,0);const s=o.getDate();return a>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),a),t)}function Tc(r,n,e){return te(r,+U(r)+n)}function Kh(r,n,e){return Tc(r,n*Qn)}let Qh={};function Qt(){return Qh}function ut(r,n){var i,c,l,u,f,p,h,g;const e=Qt(),t=(g=(h=(u=(l=n==null?void 0:n.weekStartsOn)!=null?l:(c=(i=n==null?void 0:n.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)!=null?u:e.weekStartsOn)!=null?h:(p=(f=e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)!=null?g:0,a=U(r,n==null?void 0:n.in),o=a.getDay(),s=(o<t?7:0)+o-t;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function tr(r,n){return ut(r,{...n,weekStartsOn:1})}function Nc(r,n){const e=U(r,n==null?void 0:n.in),t=e.getFullYear(),a=te(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const o=tr(a),s=te(e,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const i=tr(s);return e.getTime()>=o.getTime()?t+1:e.getTime()>=i.getTime()?t:t-1}function xn(r){const n=U(r),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+r-+e}function dt(r,...n){const e=te.bind(null,n.find(t=>typeof t=="object"));return n.map(e)}function Ht(r,n){const e=U(r,n==null?void 0:n.in);return e.setHours(0,0,0,0),e}function rr(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n),o=Ht(t),s=Ht(a),i=+o-xn(o),c=+s-xn(s);return Math.round((i-c)/Hh)}function Gh(r,n){const e=Nc(r,n),t=te(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),tr(t)}function $a(r,n,e){const t=U(r,e==null?void 0:e.in);return t.setTime(t.getTime()+n*Kn),t}function fo(r,n,e){return Ye(r,n*3,e)}function zh(r,n,e){return Tc(r,n*1e3)}function Dn(r,n,e){return Le(r,n*7,e)}function nt(r,n,e){return Ye(r,n*12,e)}function ps(r,n){let e,t=n==null?void 0:n.in;return r.forEach(a=>{!t&&typeof a=="object"&&(t=te.bind(null,a));const o=U(a,t);(!e||e<o||isNaN(+o))&&(e=o)}),te(t,e||NaN)}function hs(r,n){let e,t=n==null?void 0:n.in;return r.forEach(a=>{!t&&typeof a=="object"&&(t=te.bind(null,a));const o=U(a,t);(!e||e>o||isNaN(+o))&&(e=o)}),te(t,e||NaN)}function Vh(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n);return+Ht(t)==+Ht(a)}function at(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function kn(r){return!(!at(r)&&typeof r!="number"||isNaN(+U(r)))}function Cn(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n),o=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();return o*12+s}function jt(r,n){const e=U(r,n==null?void 0:n.in);return Math.trunc(e.getMonth()/3)+1}function Sn(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n),o=t.getFullYear()-a.getFullYear(),s=jt(t)-jt(a);return o*4+s}function _n(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n);return t.getFullYear()-a.getFullYear()}function Xh(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n),o=ms(t,a),s=Math.abs(rr(t,a));t.setDate(t.getDate()-o*s);const i=+(ms(t,a)===-o),c=o*(s-i);return c===0?0:c}function ms(r,n){const e=r.getFullYear()-n.getFullYear()||r.getMonth()-n.getMonth()||r.getDate()-n.getDate()||r.getHours()-n.getHours()||r.getMinutes()-n.getMinutes()||r.getSeconds()-n.getSeconds()||r.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function Ic(r,n){const e=U(r,n==null?void 0:n.in);return e.setHours(23,59,59,999),e}function Ac(r,n){const e=U(r,n==null?void 0:n.in),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Wa(r,n){const e=U(r,n==null?void 0:n.in),t=e.getMonth(),a=t-t%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function jc(r,n){const e=U(r,n==null?void 0:n.in);return e.setDate(1),e.setHours(0,0,0,0),e}function Fc(r,n){const e=U(r,n==null?void 0:n.in),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function Gn(r,n){const e=U(r,n==null?void 0:n.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Zh(r,n){var i,c,l,u;const e=Qt(),t=(u=(l=e.weekStartsOn)!=null?l:(c=(i=e.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)!=null?u:0,a=U(r,n==null?void 0:n.in),o=a.getDay(),s=(o<t?-7:0)+6-(o-t);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const Jh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},em=(r,n,e)=>{let t;const a=Jh[r];return typeof a=="string"?t=a:n===1?t=a.one:t=a.other.replace("{{count}}",n.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function ha(r){return(n={})=>{const e=n.width?String(n.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const tm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},am={date:ha({formats:tm,defaultWidth:"full"}),time:ha({formats:rm,defaultWidth:"full"}),dateTime:ha({formats:nm,defaultWidth:"full"})},om={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sm=(r,n,e,t)=>om[r];function lr(r){return(n,e)=>{const t=e!=null&&e.context?String(e.context):"standalone";let a;if(t==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,i=e!=null&&e.width?String(e.width):s;a=r.formattingValues[i]||r.formattingValues[s]}else{const s=r.defaultWidth,i=e!=null&&e.width?String(e.width):r.defaultWidth;a=r.values[i]||r.values[s]}const o=r.argumentCallback?r.argumentCallback(n):n;return a[o]}}const im={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},um={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pm=(r,n)=>{const e=Number(r),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},hm={ordinalNumber:pm,era:lr({values:im,defaultWidth:"wide"}),quarter:lr({values:cm,defaultWidth:"wide",argumentCallback:r=>r-1}),month:lr({values:lm,defaultWidth:"wide"}),day:lr({values:um,defaultWidth:"wide"}),dayPeriod:lr({values:dm,defaultWidth:"wide",formattingValues:fm,defaultFormattingWidth:"wide"})};function ur(r){return(n,e={})=>{const t=e.width,a=t&&r.matchPatterns[t]||r.matchPatterns[r.defaultMatchWidth],o=n.match(a);if(!o)return null;const s=o[0],i=t&&r.parsePatterns[t]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(i)?gm(i,f=>f.test(s)):mm(i,f=>f.test(s));let l;l=r.valueCallback?r.valueCallback(c):c,l=e.valueCallback?e.valueCallback(l):l;const u=n.slice(s.length);return{value:l,rest:u}}}function mm(r,n){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&n(r[e]))return e}function gm(r,n){for(let e=0;e<r.length;e++)if(n(r[e]))return e}function vm(r){return(n,e={})=>{const t=n.match(r.matchPattern);if(!t)return null;const a=t[0],o=n.match(r.parsePattern);if(!o)return null;let s=r.valueCallback?r.valueCallback(o[0]):o[0];s=e.valueCallback?e.valueCallback(s):s;const i=n.slice(a.length);return{value:s,rest:i}}}const ym=/^(\d+)(th|st|nd|rd)?/i,wm=/\d+/i,bm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xm={any:[/^b/i,/^(a|c)/i]},Dm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},km={any:[/1/i,/2/i,/3/i,/4/i]},Cm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Em={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mm={ordinalNumber:vm({matchPattern:ym,parsePattern:wm,valueCallback:r=>parseInt(r,10)}),era:ur({matchPatterns:bm,defaultMatchWidth:"wide",parsePatterns:xm,defaultParseWidth:"any"}),quarter:ur({matchPatterns:Dm,defaultMatchWidth:"wide",parsePatterns:km,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ur({matchPatterns:Cm,defaultMatchWidth:"wide",parsePatterns:Sm,defaultParseWidth:"any"}),day:ur({matchPatterns:_m,defaultMatchWidth:"wide",parsePatterns:Em,defaultParseWidth:"any"}),dayPeriod:ur({matchPatterns:Pm,defaultMatchWidth:"any",parsePatterns:Rm,defaultParseWidth:"any"})},Lc={code:"en-US",formatDistance:em,formatLong:am,formatRelative:sm,localize:hm,match:Mm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Om(r,n){const e=U(r,n==null?void 0:n.in);return rr(e,Gn(e))+1}function po(r,n){const e=U(r,n==null?void 0:n.in),t=+tr(e)-+Gh(e);return Math.round(t/Oc)+1}function ho(r,n){var u,f,p,h,g,y,m,v;const e=U(r,n==null?void 0:n.in),t=e.getFullYear(),a=Qt(),o=(v=(m=(h=(p=n==null?void 0:n.firstWeekContainsDate)!=null?p:(f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)!=null?h:a.firstWeekContainsDate)!=null?m:(y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)!=null?v:1,s=te((n==null?void 0:n.in)||r,0);s.setFullYear(t+1,0,o),s.setHours(0,0,0,0);const i=ut(s,n),c=te((n==null?void 0:n.in)||r,0);c.setFullYear(t,0,o),c.setHours(0,0,0,0);const l=ut(c,n);return+e>=+i?t+1:+e>=+l?t:t-1}function Tm(r,n){var i,c,l,u,f,p,h,g;const e=Qt(),t=(g=(h=(u=(l=n==null?void 0:n.firstWeekContainsDate)!=null?l:(c=(i=n==null?void 0:n.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)!=null?u:e.firstWeekContainsDate)!=null?h:(p=(f=e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)!=null?g:1,a=ho(r,n),o=te((n==null?void 0:n.in)||r,0);return o.setFullYear(a,0,t),o.setHours(0,0,0,0),ut(o,n)}function Yc(r,n){const e=U(r,n==null?void 0:n.in),t=+ut(e,n)-+Tm(e,n);return Math.round(t/Oc)+1}function ee(r,n){const e=r<0?"-":"",t=Math.abs(r).toString().padStart(n,"0");return e+t}const pt={y(r,n){const e=r.getFullYear(),t=e>0?e:1-e;return ee(n==="yy"?t%100:t,n.length)},M(r,n){const e=r.getMonth();return n==="M"?String(e+1):ee(e+1,2)},d(r,n){return ee(r.getDate(),n.length)},a(r,n){const e=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,n){return ee(r.getHours()%12||12,n.length)},H(r,n){return ee(r.getHours(),n.length)},m(r,n){return ee(r.getMinutes(),n.length)},s(r,n){return ee(r.getSeconds(),n.length)},S(r,n){const e=n.length,t=r.getMilliseconds(),a=Math.trunc(t*Math.pow(10,e-3));return ee(a,n.length)}},zt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gs={G:function(r,n,e){const t=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(t,{width:"abbreviated"});case"GGGGG":return e.era(t,{width:"narrow"});case"GGGG":default:return e.era(t,{width:"wide"})}},y:function(r,n,e){if(n==="yo"){const t=r.getFullYear(),a=t>0?t:1-t;return e.ordinalNumber(a,{unit:"year"})}return pt.y(r,n)},Y:function(r,n,e,t){const a=ho(r,t),o=a>0?a:1-a;if(n==="YY"){const s=o%100;return ee(s,2)}return n==="Yo"?e.ordinalNumber(o,{unit:"year"}):ee(o,n.length)},R:function(r,n){const e=Nc(r);return ee(e,n.length)},u:function(r,n){const e=r.getFullYear();return ee(e,n.length)},Q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(t);case"QQ":return ee(t,2);case"Qo":return e.ordinalNumber(t,{unit:"quarter"});case"QQQ":return e.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(t,{width:"wide",context:"formatting"})}},q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(t);case"qq":return ee(t,2);case"qo":return e.ordinalNumber(t,{unit:"quarter"});case"qqq":return e.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(t,{width:"wide",context:"standalone"})}},M:function(r,n,e){const t=r.getMonth();switch(n){case"M":case"MM":return pt.M(r,n);case"Mo":return e.ordinalNumber(t+1,{unit:"month"});case"MMM":return e.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(t,{width:"wide",context:"formatting"})}},L:function(r,n,e){const t=r.getMonth();switch(n){case"L":return String(t+1);case"LL":return ee(t+1,2);case"Lo":return e.ordinalNumber(t+1,{unit:"month"});case"LLL":return e.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(t,{width:"wide",context:"standalone"})}},w:function(r,n,e,t){const a=Yc(r,t);return n==="wo"?e.ordinalNumber(a,{unit:"week"}):ee(a,n.length)},I:function(r,n,e){const t=po(r);return n==="Io"?e.ordinalNumber(t,{unit:"week"}):ee(t,n.length)},d:function(r,n,e){return n==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):pt.d(r,n)},D:function(r,n,e){const t=Om(r);return n==="Do"?e.ordinalNumber(t,{unit:"dayOfYear"}):ee(t,n.length)},E:function(r,n,e){const t=r.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(t,{width:"short",context:"formatting"});case"EEEE":default:return e.day(t,{width:"wide",context:"formatting"})}},e:function(r,n,e,t){const a=r.getDay(),o=(a-t.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return ee(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(r,n,e,t){const a=r.getDay(),o=(a-t.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return ee(o,n.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(r,n,e){const t=r.getDay(),a=t===0?7:t;switch(n){case"i":return String(a);case"ii":return ee(a,n.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(t,{width:"short",context:"formatting"});case"iiii":default:return e.day(t,{width:"wide",context:"formatting"})}},a:function(r,n,e){const a=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,n,e){const t=r.getHours();let a;switch(t===12?a=zt.noon:t===0?a=zt.midnight:a=t/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,n,e){const t=r.getHours();let a;switch(t>=17?a=zt.evening:t>=12?a=zt.afternoon:t>=4?a=zt.morning:a=zt.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,n,e){if(n==="ho"){let t=r.getHours()%12;return t===0&&(t=12),e.ordinalNumber(t,{unit:"hour"})}return pt.h(r,n)},H:function(r,n,e){return n==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):pt.H(r,n)},K:function(r,n,e){const t=r.getHours()%12;return n==="Ko"?e.ordinalNumber(t,{unit:"hour"}):ee(t,n.length)},k:function(r,n,e){let t=r.getHours();return t===0&&(t=24),n==="ko"?e.ordinalNumber(t,{unit:"hour"}):ee(t,n.length)},m:function(r,n,e){return n==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):pt.m(r,n)},s:function(r,n,e){return n==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):pt.s(r,n)},S:function(r,n){return pt.S(r,n)},X:function(r,n,e){const t=r.getTimezoneOffset();if(t===0)return"Z";switch(n){case"X":return ys(t);case"XXXX":case"XX":return _t(t);case"XXXXX":case"XXX":default:return _t(t,":")}},x:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"x":return ys(t);case"xxxx":case"xx":return _t(t);case"xxxxx":case"xxx":default:return _t(t,":")}},O:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+vs(t,":");case"OOOO":default:return"GMT"+_t(t,":")}},z:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+vs(t,":");case"zzzz":default:return"GMT"+_t(t,":")}},t:function(r,n,e){const t=Math.trunc(+r/1e3);return ee(t,n.length)},T:function(r,n,e){return ee(+r,n.length)}};function vs(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=Math.trunc(t/60),o=t%60;return o===0?e+String(a):e+String(a)+n+ee(o,2)}function ys(r,n){return r%60===0?(r>0?"-":"+")+ee(Math.abs(r)/60,2):_t(r,n)}function _t(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=ee(Math.trunc(t/60),2),o=ee(t%60,2);return e+a+n+o}const ws=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},$c=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Nm=(r,n)=>{const e=r.match(/(P+)(p+)?/)||[],t=e[1],a=e[2];if(!a)return ws(r,n);let o;switch(t){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",ws(t,n)).replace("{{time}}",$c(a,n))},Ba={p:$c,P:Nm},Im=/^D+$/,Am=/^Y+$/,jm=["D","DD","YY","YYYY"];function Fm(r){return Im.test(r)}function Lm(r){return Am.test(r)}function Ym(r,n,e){const t=$m(r,n,e);if(console.warn(t),jm.includes(r))throw new RangeError(t)}function $m(r,n,e){const t=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${t} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Um=/^'([^]*?)'?$/,Hm=/''/g,qm=/[a-zA-Z]/;function bs(r,n,e){var u,f,p,h,g,y,m,v,x,R,b,k,S,T,O,C,P,A;const t=Qt(),a=(f=(u=e==null?void 0:e.locale)!=null?u:t.locale)!=null?f:Lc,o=(R=(x=(y=(g=e==null?void 0:e.firstWeekContainsDate)!=null?g:(h=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)!=null?y:t.firstWeekContainsDate)!=null?x:(v=(m=t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)!=null?R:1,s=(A=(P=(T=(S=e==null?void 0:e.weekStartsOn)!=null?S:(k=(b=e==null?void 0:e.locale)==null?void 0:b.options)==null?void 0:k.weekStartsOn)!=null?T:t.weekStartsOn)!=null?P:(C=(O=t.locale)==null?void 0:O.options)==null?void 0:C.weekStartsOn)!=null?A:0,i=U(r,e==null?void 0:e.in);if(!kn(i))throw new RangeError("Invalid time value");let c=n.match(Bm).map(L=>{const H=L[0];if(H==="p"||H==="P"){const F=Ba[H];return F(L,a.formatLong)}return L}).join("").match(Wm).map(L=>{if(L==="''")return{isToken:!1,value:"'"};const H=L[0];if(H==="'")return{isToken:!1,value:Km(L)};if(gs[H])return{isToken:!0,value:L};if(H.match(qm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:L}});a.localize.preprocessor&&(c=a.localize.preprocessor(i,c));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:a};return c.map(L=>{if(!L.isToken)return L.value;const H=L.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Lm(H)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Fm(H))&&Ym(H,n,String(r));const F=gs[H[0]];return F(i,H,a.localize,l)}).join("")}function Km(r){const n=r.match(Um);return n?n[1].replace(Hm,"'"):r}function xs(r,n){return U(r,n==null?void 0:n.in).getDate()}function Qm(r,n){return U(r,n==null?void 0:n.in).getDay()}function Gm(r,n){const e=U(r,n==null?void 0:n.in),t=e.getFullYear(),a=e.getMonth(),o=te(e,0);return o.setFullYear(t,a+1,0),o.setHours(0,0,0,0),o.getDate()}function zm(){return Object.assign({},Qt())}function ot(r,n){return U(r,n==null?void 0:n.in).getHours()}function Vm(r,n){const e=U(r,n==null?void 0:n.in).getDay();return e===0?7:e}function st(r,n){return U(r,n==null?void 0:n.in).getMinutes()}function be(r,n){return U(r,n==null?void 0:n.in).getMonth()}function yt(r){return U(r).getSeconds()}function Ua(r){return+U(r)}function K(r,n){return U(r,n==null?void 0:n.in).getFullYear()}function xt(r,n){return+U(r)>+U(n)}function Ke(r,n){return+U(r)<+U(n)}function Xm(r,n){return+U(r)==+U(n)}function Zm(r,n){const e=Jm(n)?new n(0):te(n,0);return e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),e.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e}function Jm(r){var n;return typeof r=="function"&&((n=r.prototype)==null?void 0:n.constructor)===r}const eg=10;class Wc{constructor(){B(this,"subPriority",0)}validate(n,e){return!0}}class tg extends Wc{constructor(n,e,t,a,o){super(),this.value=n,this.validateValue=e,this.setValue=t,this.priority=a,o&&(this.subPriority=o)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,t){return this.setValue(n,e,this.value,t)}}class rg extends Wc{constructor(e,t){super();B(this,"priority",eg);B(this,"subPriority",-1);this.context=e||(a=>te(t,a))}set(e,t){return t.timestampIsSet?e:te(e,Zm(e,this.context))}}class Z{run(n,e,t,a){const o=this.parse(n,e,t,a);return o?{setter:new tg(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(n,e,t){return!0}}class ng extends Z{constructor(){super(...arguments);B(this,"priority",140);B(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const le={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Be={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ue(r,n){return r&&{value:n(r.value),rest:r.rest}}function se(r,n){const e=n.match(r);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function Ue(r,n){const e=n.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const t=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:t*(a*Qn+o*Kn+s*qh),rest:n.slice(e[0].length)}}function Bc(r){return se(le.anyDigitsSigned,r)}function ie(r,n){switch(r){case 1:return se(le.singleDigit,n);case 2:return se(le.twoDigits,n);case 3:return se(le.threeDigits,n);case 4:return se(le.fourDigits,n);default:return se(new RegExp("^\\d{1,"+r+"}"),n)}}function En(r,n){switch(r){case 1:return se(le.singleDigitSigned,n);case 2:return se(le.twoDigitsSigned,n);case 3:return se(le.threeDigitsSigned,n);case 4:return se(le.fourDigitsSigned,n);default:return se(new RegExp("^-?\\d{1,"+r+"}"),n)}}function mo(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Uc(r,n){const e=n>0,t=e?n:1-n;let a;if(t<=50)a=r||100;else{const o=t+50,s=Math.trunc(o/100)*100,i=r>=o%100;a=r+s-(i?100:0)}return e?a:1-a}function Hc(r){return r%400===0||r%4===0&&r%100!==0}class ag extends Z{constructor(){super(...arguments);B(this,"priority",130);B(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const o=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return ue(ie(4,e),o);case"yo":return ue(a.ordinalNumber(e,{unit:"year"}),o);default:return ue(ie(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const o=e.getFullYear();if(a.isTwoDigitYear){const i=Uc(a.year,o);return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class og extends Z{constructor(){super(...arguments);B(this,"priority",130);B(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const o=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return ue(ie(4,e),o);case"Yo":return ue(a.ordinalNumber(e,{unit:"year"}),o);default:return ue(ie(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,o){const s=ho(e,o);if(a.isTwoDigitYear){const c=Uc(a.year,s);return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ut(e,o)}const i=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(i,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ut(e,o)}}class sg extends Z{constructor(){super(...arguments);B(this,"priority",130);B(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return En(t==="R"?4:t.length,e)}set(e,t,a){const o=te(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),tr(o)}}class ig extends Z{constructor(){super(...arguments);B(this,"priority",130);B(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return En(t==="u"?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class cg extends Z{constructor(){super(...arguments);B(this,"priority",120);B(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return ie(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class lg extends Z{constructor(){super(...arguments);B(this,"priority",120);B(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return ie(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class ug extends Z{constructor(){super(...arguments);B(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);B(this,"priority",110)}parse(e,t,a){const o=s=>s-1;switch(t){case"M":return ue(se(le.month,e),o);case"MM":return ue(ie(2,e),o);case"Mo":return ue(a.ordinalNumber(e,{unit:"month"}),o);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class dg extends Z{constructor(){super(...arguments);B(this,"priority",110);B(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const o=s=>s-1;switch(t){case"L":return ue(se(le.month,e),o);case"LL":return ue(ie(2,e),o);case"Lo":return ue(a.ordinalNumber(e,{unit:"month"}),o);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function fg(r,n,e){const t=U(r,e==null?void 0:e.in),a=Yc(t,e)-n;return t.setDate(t.getDate()-a*7),U(t,e==null?void 0:e.in)}class pg extends Z{constructor(){super(...arguments);B(this,"priority",100);B(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return se(le.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return ie(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,o){return ut(fg(e,a,o),o)}}function hg(r,n,e){const t=U(r,e==null?void 0:e.in),a=po(t,e)-n;return t.setDate(t.getDate()-a*7),t}class mg extends Z{constructor(){super(...arguments);B(this,"priority",100);B(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return se(le.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return ie(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return tr(hg(e,a))}}const gg=[31,28,31,30,31,30,31,31,30,31,30,31],vg=[31,29,31,30,31,30,31,31,30,31,30,31];class yg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"subPriority",1);B(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return se(le.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return ie(t.length,e)}}validate(e,t){const a=e.getFullYear(),o=Hc(a),s=e.getMonth();return o?t>=1&&t<=vg[s]:t>=1&&t<=gg[s]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class wg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"subpriority",1);B(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return se(le.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return ie(t.length,e)}}validate(e,t){const a=e.getFullYear();return Hc(a)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function go(r,n,e){var f,p,h,g,y,m,v,x;const t=Qt(),a=(x=(v=(g=(h=e==null?void 0:e.weekStartsOn)!=null?h:(p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)!=null?g:t.weekStartsOn)!=null?v:(m=(y=t.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)!=null?x:0,o=U(r,e==null?void 0:e.in),s=o.getDay(),c=(n%7+7)%7,l=7-a,u=n<0||n>6?n-(s+l)%7:(c+l)%7-(s+l)%7;return Le(o,u,e)}class bg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,o){return e=go(e,a,o),e.setHours(0,0,0,0),e}}class xg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,o){const s=i=>{const c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return ue(ie(t.length,e),s);case"eo":return ue(a.ordinalNumber(e,{unit:"day"}),s);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,o){return e=go(e,a,o),e.setHours(0,0,0,0),e}}class Dg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,o){const s=i=>{const c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return ue(ie(t.length,e),s);case"co":return ue(a.ordinalNumber(e,{unit:"day"}),s);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,o){return e=go(e,a,o),e.setHours(0,0,0,0),e}}function kg(r,n,e){const t=U(r,e==null?void 0:e.in),a=Vm(t,e),o=n-a;return Le(t,o,e)}class Cg extends Z{constructor(){super(...arguments);B(this,"priority",90);B(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const o=s=>s===0?7:s;switch(t){case"i":case"ii":return ie(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return ue(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return ue(a.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ue(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ue(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return e=kg(e,a),e.setHours(0,0,0,0),e}}class Sg extends Z{constructor(){super(...arguments);B(this,"priority",80);B(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(mo(a),0,0,0),e}}class _g extends Z{constructor(){super(...arguments);B(this,"priority",80);B(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(mo(a),0,0,0),e}}class Eg extends Z{constructor(){super(...arguments);B(this,"priority",80);B(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(mo(a),0,0,0),e}}class Pg extends Z{constructor(){super(...arguments);B(this,"priority",70);B(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return se(le.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return ie(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const o=e.getHours()>=12;return o&&a<12?e.setHours(a+12,0,0,0):!o&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class Rg extends Z{constructor(){super(...arguments);B(this,"priority",70);B(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return se(le.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return ie(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}}class Mg extends Z{constructor(){super(...arguments);B(this,"priority",70);B(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return se(le.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return ie(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class Og extends Z{constructor(){super(...arguments);B(this,"priority",70);B(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return se(le.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return ie(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const o=a<=24?a%24:a;return e.setHours(o,0,0,0),e}}class Tg extends Z{constructor(){super(...arguments);B(this,"priority",60);B(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return se(le.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return ie(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}}class Ng extends Z{constructor(){super(...arguments);B(this,"priority",50);B(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return se(le.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return ie(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}}class Ig extends Z{constructor(){super(...arguments);B(this,"priority",30);B(this,"incompatibleTokens",["t","T"])}parse(e,t){const a=o=>Math.trunc(o*Math.pow(10,-t.length+3));return ue(ie(t.length,e),a)}set(e,t,a){return e.setMilliseconds(a),e}}class Ag extends Z{constructor(){super(...arguments);B(this,"priority",10);B(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Ue(Be.basicOptionalMinutes,e);case"XX":return Ue(Be.basic,e);case"XXXX":return Ue(Be.basicOptionalSeconds,e);case"XXXXX":return Ue(Be.extendedOptionalSeconds,e);case"XXX":default:return Ue(Be.extended,e)}}set(e,t,a){return t.timestampIsSet?e:te(e,e.getTime()-xn(e)-a)}}class jg extends Z{constructor(){super(...arguments);B(this,"priority",10);B(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Ue(Be.basicOptionalMinutes,e);case"xx":return Ue(Be.basic,e);case"xxxx":return Ue(Be.basicOptionalSeconds,e);case"xxxxx":return Ue(Be.extendedOptionalSeconds,e);case"xxx":default:return Ue(Be.extended,e)}}set(e,t,a){return t.timestampIsSet?e:te(e,e.getTime()-xn(e)-a)}}class Fg extends Z{constructor(){super(...arguments);B(this,"priority",40);B(this,"incompatibleTokens","*")}parse(e){return Bc(e)}set(e,t,a){return[te(e,a*1e3),{timestampIsSet:!0}]}}class Lg extends Z{constructor(){super(...arguments);B(this,"priority",20);B(this,"incompatibleTokens","*")}parse(e){return Bc(e)}set(e,t,a){return[te(e,a),{timestampIsSet:!0}]}}const Yg={G:new ng,y:new ag,Y:new og,R:new sg,u:new ig,Q:new cg,q:new lg,M:new ug,L:new dg,w:new pg,I:new mg,d:new yg,D:new wg,E:new bg,e:new xg,c:new Dg,i:new Cg,a:new Sg,b:new _g,B:new Eg,h:new Pg,H:new Rg,K:new Mg,k:new Og,m:new Tg,s:new Ng,S:new Ig,X:new Ag,x:new jg,t:new Fg,T:new Lg},$g=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bg=/^'([^]*?)'?$/,Ug=/''/g,Hg=/\S/,qg=/[a-zA-Z]/;function Kg(r,n,e,t){var m,v,x,R,b,k,S,T,O,C,P,A,L,H,F,N,_,M;const a=()=>te((t==null?void 0:t.in)||e,NaN),o=zm(),s=(v=(m=t==null?void 0:t.locale)!=null?m:o.locale)!=null?v:Lc,i=(C=(O=(k=(b=t==null?void 0:t.firstWeekContainsDate)!=null?b:(R=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:R.firstWeekContainsDate)!=null?k:o.firstWeekContainsDate)!=null?O:(T=(S=o.locale)==null?void 0:S.options)==null?void 0:T.firstWeekContainsDate)!=null?C:1,c=(M=(_=(H=(L=t==null?void 0:t.weekStartsOn)!=null?L:(A=(P=t==null?void 0:t.locale)==null?void 0:P.options)==null?void 0:A.weekStartsOn)!=null?H:o.weekStartsOn)!=null?_:(N=(F=o.locale)==null?void 0:F.options)==null?void 0:N.weekStartsOn)!=null?M:0;if(!n)return r?a():U(e,t==null?void 0:t.in);const l={firstWeekContainsDate:i,weekStartsOn:c,locale:s},u=[new rg(t==null?void 0:t.in,e)],f=n.match(Wg).map(D=>{const I=D[0];if(I in Ba){const j=Ba[I];return j(D,s.formatLong)}return D}).join("").match($g),p=[];for(let D of f){const I=D[0],j=Yg[I];if(j){const{incompatibleTokens:W}=j;if(Array.isArray(W)){const X=p.find(Y=>W.includes(Y.token)||Y.token===I);if(X)throw new RangeError(`The format string mustn't contain \`${X.fullToken}\` and \`${D}\` at the same time`)}else if(j.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);p.push({token:I,fullToken:D});const z=j.run(r,D,s.match,l);if(!z)return a();u.push(z.setter),r=z.rest}else{if(I.match(qg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(D==="''"?D="'":I==="'"&&(D=Qg(D)),r.indexOf(D)===0)r=r.slice(D.length);else return a()}}if(r.length>0&&Hg.test(r))return a();const h=u.map(D=>D.priority).sort((D,I)=>I-D).filter((D,I,j)=>j.indexOf(D)===I).map(D=>u.filter(I=>I.priority===D).sort((I,j)=>j.subPriority-I.subPriority)).map(D=>D[0]);let g=U(e,t==null?void 0:t.in);if(isNaN(+g))return a();const y={};for(const D of h){if(!D.validate(g,l))return a();const I=D.set(g,y,l);Array.isArray(I)?(g=I[0],Object.assign(y,I[1])):g=I}return g}function Qg(r){return r.match(Bg)[1].replace(Ug,"'")}function Gg(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function zg(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n);return+Wa(t)==+Wa(a)}function Vg(r,n,e){const[t,a]=dt(e==null?void 0:e.in,r,n);return t.getFullYear()===a.getFullYear()}function Sr(r,n,e){const t=+U(r,e==null?void 0:e.in),[a,o]=[+U(n.start,e==null?void 0:e.in),+U(n.end,e==null?void 0:e.in)].sort((s,i)=>s-i);return t>=a&&t<=o}function Xg(r,n,e){return Le(r,-1,e)}function Zg(r,n){const e=()=>te(n==null?void 0:n.in,NaN),a=r0(r);let o;if(a.date){const l=n0(a.date,2);o=a0(l.restDateString,l.year)}if(!o||isNaN(+o))return e();const s=+o;let i=0,c;if(a.time&&(i=o0(a.time),isNaN(i)))return e();if(a.timezone){if(c=s0(a.timezone),isNaN(c))return e()}else{const l=new Date(s+i),u=U(0,n==null?void 0:n.in);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return U(s+i+c,n==null?void 0:n.in)}const Lr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jg=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e0=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,t0=/^([+-])(\d{2})(?::?(\d{2}))?$/;function r0(r){const n={},e=r.split(Lr.dateTimeDelimiter);let t;if(e.length>2)return n;if(/:/.test(e[0])?t=e[0]:(n.date=e[0],t=e[1],Lr.timeZoneDelimiter.test(n.date)&&(n.date=r.split(Lr.timeZoneDelimiter)[0],t=r.substr(n.date.length,r.length))),t){const a=Lr.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function n0(r,n){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),t=r.match(e);if(!t)return{year:NaN,restDateString:""};const a=t[1]?parseInt(t[1]):null,o=t[2]?parseInt(t[2]):null;return{year:o===null?a:o*100,restDateString:r.slice((t[1]||t[2]).length)}}function a0(r,n){if(n===null)return new Date(NaN);const e=r.match(Jg);if(!e)return new Date(NaN);const t=!!e[4],a=dr(e[1]),o=dr(e[2])-1,s=dr(e[3]),i=dr(e[4]),c=dr(e[5])-1;if(t)return d0(n,i,c)?i0(n,i,c):new Date(NaN);{const l=new Date(0);return!l0(n,o,s)||!u0(n,a)?new Date(NaN):(l.setUTCFullYear(n,o,Math.max(a,s)),l)}}function dr(r){return r?parseInt(r):1}function o0(r){const n=r.match(e0);if(!n)return NaN;const e=ma(n[1]),t=ma(n[2]),a=ma(n[3]);return f0(e,t,a)?e*Qn+t*Kn+a*1e3:NaN}function ma(r){return r&&parseFloat(r.replace(",","."))||0}function s0(r){if(r==="Z")return 0;const n=r.match(t0);if(!n)return 0;const e=n[1]==="+"?-1:1,t=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return p0(t,a)?e*(t*Qn+a*Kn):NaN}function i0(r,n,e){const t=new Date(0);t.setUTCFullYear(r,0,4);const a=t.getUTCDay()||7,o=(n-1)*7+e+1-a;return t.setUTCDate(t.getUTCDate()+o),t}const c0=[31,null,31,30,31,30,31,31,30,31,30,31];function qc(r){return r%400===0||r%4===0&&r%100!==0}function l0(r,n,e){return n>=0&&n<=11&&e>=1&&e<=(c0[n]||(qc(r)?29:28))}function u0(r,n){return n>=1&&n<=(qc(r)?366:365)}function d0(r,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function f0(r,n,e){return r===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&r>=0&&r<25}function p0(r,n){return n>=0&&n<=59}function Ne(r,n,e){const t=U(r,e==null?void 0:e.in),a=t.getFullYear(),o=t.getDate(),s=te(r,0);s.setFullYear(a,n,15),s.setHours(0,0,0,0);const i=Gm(s);return t.setMonth(n,Math.min(o,i)),t}function rn(r,n,e){const t=U(r,e==null?void 0:e.in);return t.setHours(n),t}function nn(r,n,e){const t=U(r,e==null?void 0:e.in);return t.setMinutes(n),t}function Vt(r,n,e){const t=U(r,e==null?void 0:e.in),a=Math.trunc(t.getMonth()/3)+1,o=n-a;return Ne(t,t.getMonth()+o*3)}function an(r,n,e){const t=U(r,e==null?void 0:e.in);return t.setSeconds(n),t}function $e(r,n,e){const t=U(r,e==null?void 0:e.in);return isNaN(+t)?te(r,NaN):(t.setFullYear(n),t)}function Ft(r,n,e){return Ye(r,-n,e)}function Kc(r,n,e){return fo(r,-1,e)}function Ds(r,n,e){return Dn(r,-1,e)}function nr(r,n,e){return nt(r,-n,e)}function zn(){return typeof window!="undefined"}function cr(r){return Qc(r)?(r.nodeName||"").toLowerCase():"#document"}function Pe(r){var n;return(r==null||(n=r.ownerDocument)==null?void 0:n.defaultView)||window}function Ve(r){var n;return(n=(Qc(r)?r.ownerDocument:r.document)||window.document)==null?void 0:n.documentElement}function Qc(r){return zn()?r instanceof Node||r instanceof Pe(r).Node:!1}function De(r){return zn()?r instanceof Element||r instanceof Pe(r).Element:!1}function ze(r){return zn()?r instanceof HTMLElement||r instanceof Pe(r).HTMLElement:!1}function ks(r){return!zn()||typeof ShadowRoot=="undefined"?!1:r instanceof ShadowRoot||r instanceof Pe(r).ShadowRoot}const h0=new Set(["inline","contents"]);function Or(r){const{overflow:n,overflowX:e,overflowY:t,display:a}=Ae(r);return/auto|scroll|overlay|hidden|clip/.test(n+t+e)&&!h0.has(a)}const m0=new Set(["table","td","th"]);function g0(r){return m0.has(cr(r))}const v0=[":popover-open",":modal"];function Vn(r){return v0.some(n=>{try{return r.matches(n)}catch(e){return!1}})}const y0=["transform","translate","scale","rotate","perspective"],w0=["transform","translate","scale","rotate","perspective","filter"],b0=["paint","layout","strict","content"];function vo(r){const n=yo(),e=De(r)?Ae(r):r;return y0.some(t=>e[t]?e[t]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!n&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!n&&(e.filter?e.filter!=="none":!1)||w0.some(t=>(e.willChange||"").includes(t))||b0.some(t=>(e.contain||"").includes(t))}function x0(r){let n=Dt(r);for(;ze(n)&&!ar(n);){if(vo(n))return n;if(Vn(n))return null;n=Dt(n)}return null}function yo(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const D0=new Set(["html","body","#document"]);function ar(r){return D0.has(cr(r))}function Ae(r){return Pe(r).getComputedStyle(r)}function Xn(r){return De(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Dt(r){if(cr(r)==="html")return r;const n=r.assignedSlot||r.parentNode||ks(r)&&r.host||Ve(r);return ks(n)?n.host:n}function Gc(r){const n=Dt(r);return ar(n)?r.ownerDocument?r.ownerDocument.body:r.body:ze(n)&&Or(n)?n:Gc(n)}function _r(r,n,e){var t;n===void 0&&(n=[]),e===void 0&&(e=!0);const a=Gc(r),o=a===((t=r.ownerDocument)==null?void 0:t.body),s=Pe(a);if(o){const i=Ha(s);return n.concat(s,s.visualViewport||[],Or(a)?a:[],i&&e?_r(i):[])}return n.concat(a,_r(a,[],e))}function Ha(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const or=Math.min,Lt=Math.max,Pn=Math.round,Yr=Math.floor,Ge=r=>({x:r,y:r}),k0={left:"right",right:"left",bottom:"top",top:"bottom"},C0={start:"end",end:"start"};function S0(r,n,e){return Lt(r,or(n,e))}function Zn(r,n){return typeof r=="function"?r(n):r}function sr(r){return r.split("-")[0]}function Tr(r){return r.split("-")[1]}function _0(r){return r==="x"?"y":"x"}function wo(r){return r==="y"?"height":"width"}const E0=new Set(["top","bottom"]);function Ot(r){return E0.has(sr(r))?"y":"x"}function bo(r){return _0(Ot(r))}function P0(r,n,e){e===void 0&&(e=!1);const t=Tr(r),a=bo(r),o=wo(a);let s=a==="x"?t===(e?"end":"start")?"right":"left":t==="start"?"bottom":"top";return n.reference[o]>n.floating[o]&&(s=Rn(s)),[s,Rn(s)]}function R0(r){const n=Rn(r);return[qa(r),n,qa(n)]}function qa(r){return r.replace(/start|end/g,n=>C0[n])}const Cs=["left","right"],Ss=["right","left"],M0=["top","bottom"],O0=["bottom","top"];function T0(r,n,e){switch(r){case"top":case"bottom":return e?n?Ss:Cs:n?Cs:Ss;case"left":case"right":return n?M0:O0;default:return[]}}function N0(r,n,e,t){const a=Tr(r);let o=T0(sr(r),e==="start",t);return a&&(o=o.map(s=>s+"-"+a),n&&(o=o.concat(o.map(qa)))),o}function Rn(r){return r.replace(/left|right|bottom|top/g,n=>k0[n])}function I0(r){return{top:0,right:0,bottom:0,left:0,...r}}function zc(r){return typeof r!="number"?I0(r):{top:r,right:r,bottom:r,left:r}}function Mn(r){const{x:n,y:e,width:t,height:a}=r;return{width:t,height:a,top:e,left:n,right:n+t,bottom:e+a,x:n,y:e}}var A0=typeof document!="undefined",j0=function(){},On=A0?w.useLayoutEffect:j0;const F0={...Zs},L0=F0.useInsertionEffect,Y0=L0||(r=>r());function $0(r){const n=w.useRef(()=>{});return Y0(()=>{n.current=r}),w.useCallback(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.current==null?void 0:n.current(...t)},[])}function _s(r,n,e){let{reference:t,floating:a}=r;const o=Ot(n),s=bo(n),i=wo(s),c=sr(n),l=o==="y",u=t.x+t.width/2-a.width/2,f=t.y+t.height/2-a.height/2,p=t[i]/2-a[i]/2;let h;switch(c){case"top":h={x:u,y:t.y-a.height};break;case"bottom":h={x:u,y:t.y+t.height};break;case"right":h={x:t.x+t.width,y:f};break;case"left":h={x:t.x-a.width,y:f};break;default:h={x:t.x,y:t.y}}switch(Tr(n)){case"start":h[s]-=p*(e&&l?-1:1);break;case"end":h[s]+=p*(e&&l?-1:1);break}return h}const W0=async(r,n,e)=>{const{placement:t="bottom",strategy:a="absolute",middleware:o=[],platform:s}=e,i=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(n));let l=await s.getElementRects({reference:r,floating:n,strategy:a}),{x:u,y:f}=_s(l,t,c),p=t,h={},g=0;for(let y=0;y<i.length;y++){const{name:m,fn:v}=i[y],{x,y:R,data:b,reset:k}=await v({x:u,y:f,initialPlacement:t,placement:p,strategy:a,middlewareData:h,rects:l,platform:s,elements:{reference:r,floating:n}});u=x!=null?x:u,f=R!=null?R:f,h={...h,[m]:{...h[m],...b}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(l=k.rects===!0?await s.getElementRects({reference:r,floating:n,strategy:a}):k.rects),{x:u,y:f}=_s(l,p,c)),y=-1)}return{x:u,y:f,placement:p,strategy:a,middlewareData:h}};async function B0(r,n){var e;n===void 0&&(n={});const{x:t,y:a,platform:o,rects:s,elements:i,strategy:c}=r,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Zn(n,r),g=zc(h),m=i[p?f==="floating"?"reference":"floating":f],v=Mn(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(m)))==null||e?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:l,rootBoundary:u,strategy:c})),x=f==="floating"?{x:t,y:a,width:s.floating.width,height:s.floating.height}:s.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),b=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},k=Mn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:R,strategy:c}):x);return{top:(v.top-k.top+g.top)/b.y,bottom:(k.bottom-v.bottom+g.bottom)/b.y,left:(v.left-k.left+g.left)/b.x,right:(k.right-v.right+g.right)/b.x}}const U0=r=>({name:"arrow",options:r,async fn(n){const{x:e,y:t,placement:a,rects:o,platform:s,elements:i,middlewareData:c}=n,{element:l,padding:u=0}=Zn(r,n)||{};if(l==null)return{};const f=zc(u),p={x:e,y:t},h=bo(a),g=wo(h),y=await s.getDimensions(l),m=h==="y",v=m?"top":"left",x=m?"bottom":"right",R=m?"clientHeight":"clientWidth",b=o.reference[g]+o.reference[h]-p[h]-o.floating[g],k=p[h]-o.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let T=S?S[R]:0;(!T||!await(s.isElement==null?void 0:s.isElement(S)))&&(T=i.floating[R]||o.floating[g]);const O=b/2-k/2,C=T/2-y[g]/2-1,P=or(f[v],C),A=or(f[x],C),L=P,H=T-y[g]-A,F=T/2-y[g]/2+O,N=S0(L,F,H),_=!c.arrow&&Tr(a)!=null&&F!==N&&o.reference[g]/2-(F<L?P:A)-y[g]/2<0,M=_?F<L?F-L:F-H:0;return{[h]:p[h]+M,data:{[h]:N,centerOffset:F-N-M,..._&&{alignmentOffset:M}},reset:_}}}),H0=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(n){var e,t;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:c,elements:l}=n,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=Zn(r,n);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const v=sr(a),x=Ot(i),R=sr(i)===i,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),k=p||(R||!y?[Rn(i)]:R0(i)),S=g!=="none";!p&&S&&k.push(...N0(i,y,g,b));const T=[i,...k],O=await B0(n,m),C=[];let P=((t=o.flip)==null?void 0:t.overflows)||[];if(u&&C.push(O[v]),f){const F=P0(a,s,b);C.push(O[F[0]],O[F[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every(F=>F<=0)){var A,L;const F=(((A=o.flip)==null?void 0:A.index)||0)+1,N=T[F];if(N&&(!(f==="alignment"?x!==Ot(N):!1)||P.every(D=>Ot(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:F,overflows:P},reset:{placement:N}};let _=(L=P.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!_)switch(h){case"bestFit":{var H;const M=(H=P.filter(D=>{if(S){const I=Ot(D.placement);return I===x||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,j)=>I+j,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:H[0];M&&(_=M);break}case"initialPlacement":_=i;break}if(a!==_)return{reset:{placement:_}}}return{}}}},q0=new Set(["left","top"]);async function K0(r,n){const{placement:e,platform:t,elements:a}=r,o=await(t.isRTL==null?void 0:t.isRTL(a.floating)),s=sr(e),i=Tr(e),c=Ot(e)==="y",l=q0.has(s)?-1:1,u=o&&c?-1:1,f=Zn(n,r);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof g=="number"&&(h=i==="end"?g*-1:g),c?{x:h*u,y:p*l}:{x:p*l,y:h*u}}const Q0=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(n){var e,t;const{x:a,y:o,placement:s,middlewareData:i}=n,c=await K0(n,r);return s===((e=i.offset)==null?void 0:e.placement)&&(t=i.arrow)!=null&&t.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:s}}}}};function Vc(r){const n=Ae(r);let e=parseFloat(n.width)||0,t=parseFloat(n.height)||0;const a=ze(r),o=a?r.offsetWidth:e,s=a?r.offsetHeight:t,i=Pn(e)!==o||Pn(t)!==s;return i&&(e=o,t=s),{width:e,height:t,$:i}}function xo(r){return De(r)?r:r.contextElement}function Zt(r){const n=xo(r);if(!ze(n))return Ge(1);const e=n.getBoundingClientRect(),{width:t,height:a,$:o}=Vc(n);let s=(o?Pn(e.width):e.width)/t,i=(o?Pn(e.height):e.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const G0=Ge(0);function Xc(r){const n=Pe(r);return!yo()||!n.visualViewport?G0:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function z0(r,n,e){return n===void 0&&(n=!1),!e||n&&e!==Pe(r)?!1:n}function qt(r,n,e,t){n===void 0&&(n=!1),e===void 0&&(e=!1);const a=r.getBoundingClientRect(),o=xo(r);let s=Ge(1);n&&(t?De(t)&&(s=Zt(t)):s=Zt(r));const i=z0(o,e,t)?Xc(o):Ge(0);let c=(a.left+i.x)/s.x,l=(a.top+i.y)/s.y,u=a.width/s.x,f=a.height/s.y;if(o){const p=Pe(o),h=t&&De(t)?Pe(t):t;let g=p,y=Ha(g);for(;y&&t&&h!==g;){const m=Zt(y),v=y.getBoundingClientRect(),x=Ae(y),R=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,b=v.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,f*=m.y,c+=R,l+=b,g=Pe(y),y=Ha(g)}}return Mn({width:u,height:f,x:c,y:l})}function Jn(r,n){const e=Xn(r).scrollLeft;return n?n.left+e:qt(Ve(r)).left+e}function Zc(r,n){const e=r.getBoundingClientRect(),t=e.left+n.scrollLeft-Jn(r,e),a=e.top+n.scrollTop;return{x:t,y:a}}function V0(r){let{elements:n,rect:e,offsetParent:t,strategy:a}=r;const o=a==="fixed",s=Ve(t),i=n?Vn(n.floating):!1;if(t===s||i&&o)return e;let c={scrollLeft:0,scrollTop:0},l=Ge(1);const u=Ge(0),f=ze(t);if((f||!f&&!o)&&((cr(t)!=="body"||Or(s))&&(c=Xn(t)),ze(t))){const h=qt(t);l=Zt(t),u.x=h.x+t.clientLeft,u.y=h.y+t.clientTop}const p=s&&!f&&!o?Zc(s,c):Ge(0);return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:e.y*l.y-c.scrollTop*l.y+u.y+p.y}}function X0(r){return Array.from(r.getClientRects())}function Z0(r){const n=Ve(r),e=Xn(r),t=r.ownerDocument.body,a=Lt(n.scrollWidth,n.clientWidth,t.scrollWidth,t.clientWidth),o=Lt(n.scrollHeight,n.clientHeight,t.scrollHeight,t.clientHeight);let s=-e.scrollLeft+Jn(r);const i=-e.scrollTop;return Ae(t).direction==="rtl"&&(s+=Lt(n.clientWidth,t.clientWidth)-a),{width:a,height:o,x:s,y:i}}const Es=25;function J0(r,n){const e=Pe(r),t=Ve(r),a=e.visualViewport;let o=t.clientWidth,s=t.clientHeight,i=0,c=0;if(a){o=a.width,s=a.height;const u=yo();(!u||u&&n==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}const l=Jn(t);if(l<=0){const u=t.ownerDocument,f=u.body,p=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(t.clientWidth-f.clientWidth-h);g<=Es&&(o-=g)}else l<=Es&&(o+=l);return{width:o,height:s,x:i,y:c}}const ev=new Set(["absolute","fixed"]);function tv(r,n){const e=qt(r,!0,n==="fixed"),t=e.top+r.clientTop,a=e.left+r.clientLeft,o=ze(r)?Zt(r):Ge(1),s=r.clientWidth*o.x,i=r.clientHeight*o.y,c=a*o.x,l=t*o.y;return{width:s,height:i,x:c,y:l}}function Ps(r,n,e){let t;if(n==="viewport")t=J0(r,e);else if(n==="document")t=Z0(Ve(r));else if(De(n))t=tv(n,e);else{const a=Xc(r);t={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return Mn(t)}function Jc(r,n){const e=Dt(r);return e===n||!De(e)||ar(e)?!1:Ae(e).position==="fixed"||Jc(e,n)}function rv(r,n){const e=n.get(r);if(e)return e;let t=_r(r,[],!1).filter(i=>De(i)&&cr(i)!=="body"),a=null;const o=Ae(r).position==="fixed";let s=o?Dt(r):r;for(;De(s)&&!ar(s);){const i=Ae(s),c=vo(s);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&ev.has(a.position)||Or(s)&&!c&&Jc(r,s))?t=t.filter(u=>u!==s):a=i,s=Dt(s)}return n.set(r,t),t}function nv(r){let{element:n,boundary:e,rootBoundary:t,strategy:a}=r;const s=[...e==="clippingAncestors"?Vn(n)?[]:rv(n,this._c):[].concat(e),t],i=s[0],c=s.reduce((l,u)=>{const f=Ps(n,u,a);return l.top=Lt(f.top,l.top),l.right=or(f.right,l.right),l.bottom=or(f.bottom,l.bottom),l.left=Lt(f.left,l.left),l},Ps(n,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function av(r){const{width:n,height:e}=Vc(r);return{width:n,height:e}}function ov(r,n,e){const t=ze(n),a=Ve(n),o=e==="fixed",s=qt(r,!0,o,n);let i={scrollLeft:0,scrollTop:0};const c=Ge(0);function l(){c.x=Jn(a)}if(t||!t&&!o)if((cr(n)!=="body"||Or(a))&&(i=Xn(n)),t){const h=qt(n,!0,o,n);c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}else a&&l();o&&!t&&a&&l();const u=a&&!t&&!o?Zc(a,i):Ge(0),f=s.left+i.scrollLeft-c.x-u.x,p=s.top+i.scrollTop-c.y-u.y;return{x:f,y:p,width:s.width,height:s.height}}function ga(r){return Ae(r).position==="static"}function Rs(r,n){if(!ze(r)||Ae(r).position==="fixed")return null;if(n)return n(r);let e=r.offsetParent;return Ve(r)===e&&(e=e.ownerDocument.body),e}function el(r,n){const e=Pe(r);if(Vn(r))return e;if(!ze(r)){let a=Dt(r);for(;a&&!ar(a);){if(De(a)&&!ga(a))return a;a=Dt(a)}return e}let t=Rs(r,n);for(;t&&g0(t)&&ga(t);)t=Rs(t,n);return t&&ar(t)&&ga(t)&&!vo(t)?e:t||x0(r)||e}const sv=async function(r){const n=this.getOffsetParent||el,e=this.getDimensions,t=await e(r.floating);return{reference:ov(r.reference,await n(r.floating),r.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function iv(r){return Ae(r).direction==="rtl"}const cv={convertOffsetParentRelativeRectToViewportRelativeRect:V0,getDocumentElement:Ve,getClippingRect:nv,getOffsetParent:el,getElementRects:sv,getClientRects:X0,getDimensions:av,getScale:Zt,isElement:De,isRTL:iv};function tl(r,n){return r.x===n.x&&r.y===n.y&&r.width===n.width&&r.height===n.height}function lv(r,n){let e=null,t;const a=Ve(r);function o(){var i;clearTimeout(t),(i=e)==null||i.disconnect(),e=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const l=r.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=l;if(i||n(),!p||!h)return;const g=Yr(f),y=Yr(a.clientWidth-(u+p)),m=Yr(a.clientHeight-(f+h)),v=Yr(u),R={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:Lt(0,or(1,c))||1};let b=!0;function k(S){const T=S[0].intersectionRatio;if(T!==c){if(!b)return s();T?s(!1,T):t=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!tl(l,r.getBoundingClientRect())&&s(),b=!1}try{e=new IntersectionObserver(k,{...R,root:a.ownerDocument})}catch(S){e=new IntersectionObserver(k,R)}e.observe(r)}return s(!0),o}function uv(r,n,e,t){t===void 0&&(t={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=t,l=xo(r),u=a||o?[...l?_r(l):[],..._r(n)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",e,{passive:!0}),o&&v.addEventListener("resize",e)});const f=l&&i?lv(l,e):null;let p=-1,h=null;s&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===l&&h&&(h.unobserve(n),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=h)==null||R.observe(n)})),e()}),l&&!c&&h.observe(l),h.observe(n));let g,y=c?qt(r):null;c&&m();function m(){const v=qt(r);y&&!tl(y,v)&&e(),y=v,g=requestAnimationFrame(m)}return e(),()=>{var v;u.forEach(x=>{a&&x.removeEventListener("scroll",e),o&&x.removeEventListener("resize",e)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const dv=Q0,fv=H0,Ms=U0,pv=(r,n,e)=>{const t=new Map,a={platform:cv,...e},o={...a.platform,_c:t};return W0(r,n,{...a,platform:o})};var hv=typeof document!="undefined",mv=function(){},on=hv?w.useLayoutEffect:mv;function Tn(r,n){if(r===n)return!0;if(typeof r!=typeof n)return!1;if(typeof r=="function"&&r.toString()===n.toString())return!0;let e,t,a;if(r&&n&&typeof r=="object"){if(Array.isArray(r)){if(e=r.length,e!==n.length)return!1;for(t=e;t--!==0;)if(!Tn(r[t],n[t]))return!1;return!0}if(a=Object.keys(r),e=a.length,e!==Object.keys(n).length)return!1;for(t=e;t--!==0;)if(!{}.hasOwnProperty.call(n,a[t]))return!1;for(t=e;t--!==0;){const o=a[t];if(!(o==="_owner"&&r.$$typeof)&&!Tn(r[o],n[o]))return!1}return!0}return r!==r&&n!==n}function rl(r){return typeof window=="undefined"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Os(r,n){const e=rl(r);return Math.round(n*e)/e}function va(r){const n=w.useRef(r);return on(()=>{n.current=r}),n}function gv(r){r===void 0&&(r={});const{placement:n="bottom",strategy:e="absolute",middleware:t=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:c,open:l}=r,[u,f]=w.useState({x:0,y:0,strategy:e,placement:n,middlewareData:{},isPositioned:!1}),[p,h]=w.useState(t);Tn(p,t)||h(t);const[g,y]=w.useState(null),[m,v]=w.useState(null),x=w.useCallback(D=>{D!==S.current&&(S.current=D,y(D))},[]),R=w.useCallback(D=>{D!==T.current&&(T.current=D,v(D))},[]),b=o||g,k=s||m,S=w.useRef(null),T=w.useRef(null),O=w.useRef(u),C=c!=null,P=va(c),A=va(a),L=va(l),H=w.useCallback(()=>{if(!S.current||!T.current)return;const D={placement:n,strategy:e,middleware:p};A.current&&(D.platform=A.current),pv(S.current,T.current,D).then(I=>{const j={...I,isPositioned:L.current!==!1};F.current&&!Tn(O.current,j)&&(O.current=j,Vs.flushSync(()=>{f(j)}))})},[p,n,e,A,L]);on(()=>{l===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[l]);const F=w.useRef(!1);on(()=>(F.current=!0,()=>{F.current=!1}),[]),on(()=>{if(b&&(S.current=b),k&&(T.current=k),b&&k){if(P.current)return P.current(b,k,H);H()}},[b,k,H,P,C]);const N=w.useMemo(()=>({reference:S,floating:T,setReference:x,setFloating:R}),[x,R]),_=w.useMemo(()=>({reference:b,floating:k}),[b,k]),M=w.useMemo(()=>{const D={position:e,left:0,top:0};if(!_.floating)return D;const I=Os(_.floating,u.x),j=Os(_.floating,u.y);return i?{...D,transform:"translate("+I+"px, "+j+"px)",...rl(_.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:I,top:j}},[e,i,_.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:H,refs:N,elements:_,floatingStyles:M}),[u,H,N,_,M])}const vv=r=>{function n(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:r,fn(e){const{element:t,padding:a}=typeof r=="function"?r(e):r;return t&&n(t)?t.current!=null?Ms({element:t.current,padding:a}).fn(e):{}:t?Ms({element:t,padding:a}).fn(e):{}}}},yv=(r,n)=>({...dv(r),options:[r,n]}),wv=(r,n)=>({...fv(r),options:[r,n]}),bv=(r,n)=>({...vv(r),options:[r,n]}),xv={...Zs};let Ts=!1,Dv=0;const Ns=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Dv++;function kv(){const[r,n]=w.useState(()=>Ts?Ns():void 0);return On(()=>{r==null&&n(Ns())},[]),w.useEffect(()=>{Ts=!0},[]),r}const Cv=xv.useId,nl=Cv||kv,Sv=w.forwardRef(function(n,e){const{context:{placement:t,elements:{floating:a},middlewareData:{arrow:o,shift:s}},width:i=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:f,stroke:p,d:h,style:{transform:g,...y}={},...m}=n,v=nl(),[x,R]=w.useState(!1);if(On(()=>{if(!a)return;Ae(a).direction==="rtl"&&R(!0)},[a]),!a)return null;const[b,k]=t.split("-"),S=b==="top"||b==="bottom";let T=f;(S&&s!=null&&s.x||!S&&s!=null&&s.y)&&(T=null);const O=u*2,C=O/2,P=i/2*(l/-8+1),A=c/2*l/4,L=!!h,H=T&&k==="end"?"bottom":"top";let F=T&&k==="end"?"right":"left";T&&x&&(F=k==="end"?"left":"right");const N=(o==null?void 0:o.x)!=null?T||o.x:"",_=(o==null?void 0:o.y)!=null?T||o.y:"",M=h||"M0,0"+(" H"+i)+(" L"+(i-P)+","+(c-A))+(" Q"+i/2+","+c+" "+P+","+(c-A))+" Z",D={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[b];return d.jsxs("svg",{...m,"aria-hidden":!0,ref:e,width:L?i:i+O,height:i,viewBox:"0 0 "+i+" "+(c>i?c:i),style:{position:"absolute",pointerEvents:"none",[F]:N,[H]:_,[b]:S||L?"100%":"calc(100% - "+O/2+"px)",transform:[D,g].filter(I=>!!I).join(" "),...y},children:[O>0&&d.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:p,strokeWidth:O+(h?0:1),d:M}),d.jsx("path",{stroke:O&&!h?m.fill:"none",d:M}),d.jsx("clipPath",{id:v,children:d.jsx("rect",{x:-C,y:C*(L?-1:1),width:i+O,height:i})})]})});function _v(){const r=new Map;return{emit(n,e){var t;(t=r.get(n))==null||t.forEach(a=>a(e))},on(n,e){r.has(n)||r.set(n,new Set),r.get(n).add(e)},off(n,e){var t;(t=r.get(n))==null||t.delete(e)}}}const Ev=w.createContext(null),Pv=w.createContext(null),Rv=()=>{var r;return((r=w.useContext(Ev))==null?void 0:r.id)||null},Mv=()=>w.useContext(Pv);function Ov(r){const{open:n=!1,onOpenChange:e,elements:t}=r,a=nl(),o=w.useRef({}),[s]=w.useState(()=>_v()),i=Rv()!=null,[c,l]=w.useState(t.reference),u=$0((h,g,y)=>{o.current.openEvent=h?g:void 0,s.emit("openchange",{open:h,event:g,reason:y,nested:i}),e==null||e(h,g,y)}),f=w.useMemo(()=>({setPositionReference:l}),[]),p=w.useMemo(()=>({reference:c||t.reference||null,floating:t.floating||null,domReference:t.reference}),[c,t.reference,t.floating]);return w.useMemo(()=>({dataRef:o,open:n,onOpenChange:u,elements:p,events:s,floatingId:a,refs:f}),[n,u,p,s,a,f])}function Tv(r){r===void 0&&(r={});const{nodeId:n}=r,e=Ov({...r,elements:{reference:null,floating:null,...r.elements}}),t=r.rootContext||e,a=t.elements,[o,s]=w.useState(null),[i,c]=w.useState(null),u=(a==null?void 0:a.domReference)||o,f=w.useRef(null),p=Mv();On(()=>{u&&(f.current=u)},[u]);const h=gv({...r,elements:{...a,...i&&{reference:i}}}),g=w.useCallback(R=>{const b=De(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;c(b),h.refs.setReference(b)},[h.refs]),y=w.useCallback(R=>{(De(R)||R===null)&&(f.current=R,s(R)),(De(h.refs.reference.current)||h.refs.reference.current===null||R!==null&&!De(R))&&h.refs.setReference(R)},[h.refs]),m=w.useMemo(()=>({...h.refs,setReference:y,setPositionReference:g,domReference:f}),[h.refs,y,g]),v=w.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),x=w.useMemo(()=>({...h,...t,refs:m,elements:v,nodeId:n}),[h,m,v,n,t]);return On(()=>{t.dataRef.current.floatingContext=x;const R=p==null?void 0:p.nodesRef.current.find(b=>b.id===n);R&&(R.context=x)}),w.useMemo(()=>({...h,context:x,refs:m,elements:v}),[h,m,v,x])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ka=function(n,e){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])},Ka(n,e)};function we(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Ka(r,n);function e(){this.constructor=r}r.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var G=function(){return G=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},G.apply(this,arguments)};function Qe(r,n,e){if(e||arguments.length===2)for(var t=0,a=n.length,o;t<a;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return r.concat(o||Array.prototype.slice.call(n))}var Nv=function(r){var n=r.showTimeSelectOnly,e=n===void 0?!1:n,t=r.showTime,a=t===void 0?!1:t,o=r.className,s=r.children,i=e?"Choose Time":"Choose Date".concat(a?" and Time":"");return E.createElement("div",{className:o,role:"dialog","aria-label":i,"aria-modal":"true"},s)},Iv=function(r,n){var e=w.useRef(null),t=w.useRef(r);t.current=r;var a=w.useCallback(function(o){var s,i=o.composed&&o.composedPath&&o.composedPath().find(function(c){return c instanceof Node})||o.target;e.current&&!e.current.contains(i)&&(n&&i instanceof HTMLElement&&i.classList.contains(n)||(s=t.current)===null||s===void 0||s.call(t,o))},[n]);return w.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),e},ea=function(r){var n=r.children,e=r.onClickOutside,t=r.className,a=r.containerRef,o=r.style,s=r.ignoreClass,i=Iv(e,s);return E.createElement("div",{className:t,style:o,ref:function(c){i.current=c,a&&(a.current=c)}},n)},$;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})($||($={}));function al(){var r=typeof window!="undefined"?window:globalThis;return r}var Nr=12;function J(r){if(r==null)return new Date;var n=typeof r=="string"?Zg(r):U(r);return ta(n)?n:new Date}function ya(r,n,e,t,a){a===void 0&&(a=J());for(var o=ir(e)||ir(Do()),s=Array.isArray(n)?n:[n],i=0,c=s;i<c.length;i++){var l=c[i],u=Kg(r,l,a,{locale:o});if(ta(u)&&(!t||r===ae(u,l,e)))return u}return null}function ta(r,n){return kn(r)&&!Ke(r,new Date("1/1/1800"))}function ae(r,n,e){if(e==="en")return bs(r,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=e?ir(e):void 0;return e&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),t=t||ir(Do()),bs(r,n,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Te(r,n){var e=n.dateFormat,t=n.locale,a=Array.isArray(e)&&e.length>0?e[0]:e;return r&&ae(r,a,t)||""}var ol=" - ";function Av(r,n,e){if(!r&&!n)return"";var t=r?Te(r,e):"",a=n?Te(n,e):"",o=e.rangeSeparator||ol;return"".concat(t).concat(o).concat(a)}function jv(r,n){if(!(r!=null&&r.length))return"";var e=r[0]?Te(r[0],n):"";if(r.length===1)return e;if(r.length===2&&r[1]){var t=Te(r[1],n);return"".concat(e,", ").concat(t)}var a=r.length-1;return"".concat(e," (+").concat(a,")")}function wa(r,n){var e=n.hour,t=e===void 0?0:e,a=n.minute,o=a===void 0?0:a,s=n.second,i=s===void 0?0:s;return rn(nn(an(r,i),o),t)}function Fv(r){return po(r)}function Lv(r,n){return ae(r,"ddd",n)}function sn(r){return Ht(r)}function wt(r,n,e){var t=ir(n||Do());return ut(r,{locale:t,weekStartsOn:e})}function it(r){return jc(r)}function hr(r){return Gn(r)}function Is(r){return Wa(r)}function As(){return Ht(J())}function js(r){return Ic(r)}function Yv(r){return Zh(r)}function $v(r){return Ac(r)}function We(r,n){return r&&n?Vg(r,n):!r&&!n}function xe(r,n){return r&&n?Gg(r,n):!r&&!n}function Nn(r,n){return r&&n?zg(r,n):!r&&!n}function Q(r,n){return r&&n?Vh(r,n):!r&&!n}function Tt(r,n){return r&&n?Xm(r,n):!r&&!n}function Et(r,n,e){var t,a=Ht(n),o=Ic(e);try{t=Sr(r,{start:a,end:o})}catch(s){t=!1}return t}function Do(){var r=al();return r.__localeId__}function ir(r){if(typeof r=="string"){var n=al();return n.__localeData__?n.__localeData__[r]:void 0}else return r}function Wv(r,n,e){return n(ae(r,"EEEE",e))}function Bv(r,n){return ae(r,"EEEEEE",n)}function Uv(r,n){return ae(r,"EEE",n)}function ko(r,n){return ae(Ne(J(),r),"LLLL",n)}function sl(r,n){return ae(Ne(J(),r),"LLL",n)}function Hv(r,n){return ae(Vt(J(),r),"QQQ",n)}function Ie(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,o=e.excludeDates,s=e.excludeDateIntervals,i=e.includeDates,c=e.includeDateIntervals,l=e.filterDate;return Ir(r,{minDate:t,maxDate:a})||o&&o.some(function(u){return u instanceof Date?Q(r,u):Q(r,u.date)})||s&&s.some(function(u){var f=u.start,p=u.end;return Sr(r,{start:f,end:p})})||i&&!i.some(function(u){return Q(r,u)})||c&&!c.some(function(u){var f=u.start,p=u.end;return Sr(r,{start:f,end:p})})||l&&!l(J(r))||!1}function Co(r,n){var e=n===void 0?{}:n,t=e.excludeDates,a=e.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var s=o.start,i=o.end;return Sr(r,{start:s,end:i})}):t&&t.some(function(o){var s;return o instanceof Date?Q(r,o):Q(r,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function il(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,o=e.excludeDates,s=e.includeDates,i=e.filterDate;return Ir(r,{minDate:t?jc(t):void 0,maxDate:a?Ac(a):void 0})||(o==null?void 0:o.some(function(c){return xe(r,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return xe(r,c)})||i&&!i(J(r))||!1}function $r(r,n,e,t){var a=K(r),o=be(r),s=K(n),i=be(n),c=K(t);return a===s&&a===c?o<=e&&e<=i:a<s?c===a&&o<=e||c===s&&i>=e||c<s&&c>a:!1}function qv(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,o=e.excludeDates,s=e.includeDates;return Ir(r,{minDate:t,maxDate:a})||o&&o.some(function(i){return xe(i instanceof Date?i:i.date,r)})||s&&!s.some(function(i){return xe(i,r)})||!1}function Wr(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,o=e.excludeDates,s=e.includeDates,i=e.filterDate;return Ir(r,{minDate:t,maxDate:a})||(o==null?void 0:o.some(function(c){return Nn(r,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Nn(r,c)})||i&&!i(J(r))||!1}function Br(r,n,e){if(!n||!e||!kn(n)||!kn(e))return!1;var t=K(n),a=K(e);return t<=r&&a>=r}function cn(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,o=e.excludeDates,s=e.includeDates,i=e.filterDate,c=new Date(r,0,1);return Ir(c,{minDate:t?Gn(t):void 0,maxDate:a?Fc(a):void 0})||(o==null?void 0:o.some(function(l){return We(c,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return We(c,l)})||i&&!i(J(c))||!1}function Ur(r,n,e,t){var a=K(r),o=jt(r),s=K(n),i=jt(n),c=K(t);return a===s&&a===c?o<=e&&e<=i:a<s?c===a&&o<=e||c===s&&i>=e||c<s&&c>a:!1}function Ir(r,n){var e,t=n===void 0?{}:n,a=t.minDate,o=t.maxDate;return(e=a&&rr(r,a)<0||o&&rr(r,o)>0)!==null&&e!==void 0?e:!1}function Fs(r,n){return n.some(function(e){return ot(e)===ot(r)&&st(e)===st(r)&&yt(e)===yt(r)})}function Ls(r,n){var e=n===void 0?{}:n,t=e.excludeTimes,a=e.includeTimes,o=e.filterTime;return t&&Fs(r,t)||a&&!Fs(r,a)||o&&!o(r)||!1}function Ys(r,n){var e=n.minTime,t=n.maxTime;if(!e||!t)throw new Error("Both minTime and maxTime props required");var a=J();a=rn(a,ot(r)),a=nn(a,st(r)),a=an(a,yt(r));var o=J();o=rn(o,ot(e)),o=nn(o,st(e)),o=an(o,yt(e));var s=J();s=rn(s,ot(t)),s=nn(s,st(t)),s=an(s,yt(t));var i;try{i=!Sr(a,{start:o,end:s})}catch(c){i=!1}return i}function $s(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,o=Ft(r,1);return t&&Cn(t,o)>0||a&&a.every(function(s){return Cn(s,o)>0})||!1}function Ws(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,o=Ye(r,1);return t&&Cn(o,t)>0||a&&a.every(function(s){return Cn(o,s)>0})||!1}function Kv(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,o=Gn(r),s=Kc(o);return t&&Sn(t,s)>0||a&&a.every(function(i){return Sn(i,s)>0})||!1}function Qv(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,o=Fc(r),s=fo(o,1);return t&&Sn(s,t)>0||a&&a.every(function(i){return Sn(s,i)>0})||!1}function Bs(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,o=nr(r,1);return t&&_n(t,o)>0||a&&a.every(function(s){return _n(s,o)>0})||!1}function Gv(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.yearItemNumber,o=a===void 0?Nr:a,s=hr(nr(r,o)),i=tt(s,o).endPeriod,c=t&&K(t);return c&&c>i||!1}function Us(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,o=nt(r,1);return t&&_n(o,t)>0||a&&a.every(function(s){return _n(o,s)>0})||!1}function zv(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.yearItemNumber,o=a===void 0?Nr:a,s=nt(r,o),i=tt(s,o).startPeriod,c=t&&K(t);return c&&c<i||!1}function cl(r){var n=r.minDate,e=r.includeDates;if(e&&n){var t=e.filter(function(a){return rr(a,n)>=0});return hs(t)}else return e?hs(e):n}function ll(r){var n=r.maxDate,e=r.includeDates;if(e&&n){var t=e.filter(function(a){return rr(a,n)<=0});return ps(t)}else return e?ps(e):n}function Hs(r,n){var e;r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var t=new Map,a=0,o=r.length;a<o;a++){var s=r[a];if(at(s)){var i=ae(s,"MM.dd.yyyy"),c=t.get(i)||[];c.includes(n)||(c.push(n),t.set(i,c))}else if(typeof s=="object"){var l=Object.keys(s),u=(e=l[0])!==null&&e!==void 0?e:"",f=s[u];if(typeof u=="string"&&Array.isArray(f))for(var p=0,h=f.length;p<h;p++){var g=f[p];if(g){var i=ae(g,"MM.dd.yyyy"),c=t.get(i)||[];c.includes(u)||(c.push(u),t.set(i,c))}}}}return t}function Vv(r,n){return r.length!==n.length?!1:r.every(function(e,t){return e===n[t]})}function Xv(r,n){r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--holidays");var e=new Map;return r.forEach(function(t){var a=t.date,o=t.holidayName;if(at(a)){var s=ae(a,"MM.dd.yyyy"),i=e.get(s)||{className:"",holidayNames:[]};if(!("className"in i&&i.className===n&&Vv(i.holidayNames,[o]))){i.className=n;var c=i.holidayNames;i.holidayNames=c?Qe(Qe([],c,!0),[o],!1):[o],e.set(s,i)}}}),e}function Zv(r,n,e,t,a){for(var o=a.length,s=[],i=0;i<o;i++){var c=r,l=a[i];l&&(c=Kh(c,ot(l)),c=$a(c,st(l)),c=zh(c,yt(l)));var u=$a(r,(e+1)*t);xt(c,n)&&Ke(c,u)&&l!=null&&s.push(l)}return s}function qs(r){return r<10?"0".concat(r):"".concat(r)}function tt(r,n){n===void 0&&(n=Nr);var e=Math.ceil(K(r)/n)*n,t=e-(n-1);return{startPeriod:t,endPeriod:e}}function Jv(r){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+e-+n)/36e5)}function Ks(r){var n=r.getSeconds(),e=r.getMilliseconds();return U(r.getTime()-n*1e3-e)}function ey(r,n){return Ks(r).getTime()===Ks(n).getTime()}function Qs(r){if(!at(r))throw new Error("Invalid date");var n=new Date(r);return n.setHours(0,0,0,0),n}function ba(r,n){if(!at(r)||!at(n))throw new Error("Invalid date received");var e=Qs(r),t=Qs(n);return Ke(e,t)}function ul(r){return r.key===$.Space}var ty=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.inputRef=E.createRef(),t.onTimeChange=function(a){var o,s;t.setState({time:a});var i=t.props.date,c=i instanceof Date&&!isNaN(+i),l=c?i:new Date;if(a!=null&&a.includes(":")){var u=a.split(":"),f=u[0],p=u[1];l.setHours(Number(f)),l.setMinutes(Number(p))}(s=(o=t.props).onChange)===null||s===void 0||s.call(o,l)},t.renderTimeInput=function(){var a=t.state.time,o=t.props,s=o.date,i=o.timeString,c=o.customTimeInput;return c?w.cloneElement(c,{date:s,value:a,onChange:t.onTimeChange}):E.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var l;(l=t.inputRef.current)===null||l===void 0||l.focus()},required:!0,value:a,onChange:function(l){t.onTimeChange(l.target.value||i)}})},t.state={time:t.props.timeString},t}return n.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},n.prototype.render=function(){return E.createElement("div",{className:"react-datepicker__input-time-container"},E.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),E.createElement("div",{className:"react-datepicker-time__input-container"},E.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(w.Component),ry=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.dayEl=w.createRef(),e.handleClick=function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)},e.handleMouseEnter=function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.handleOnKeyDown=function(t){var a,o,s=t.key;s===$.Space&&(t.preventDefault(),t.key=$.Enter),(o=(a=e.props).handleOnKeyDown)===null||o===void 0||o.call(a,t)},e.isSameDay=function(t){return Q(e.props.day,t)},e.isKeyboardSelected=function(){var t;if(e.props.disabledKeyboardNavigation)return!1;var a=e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(s){return e.isSameDayOrWeek(s)}):e.isSameDayOrWeek(e.props.selected),o=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!a&&e.isSameDayOrWeek(e.props.preSelection)&&!o},e.isDisabled=function(t){return t===void 0&&(t=e.props.day),Ie(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return Co(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return Q(e.props.day,wt(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(t){return e.props.showWeekPicker&&Q(t,wt(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(t){return e.isSameDay(t)||e.isSameWeek(t)},e.getHighLightedClass=function(){var t=e.props,a=t.day,o=t.highlightDates;if(!o)return!1;var s=ae(a,"MM.dd.yyyy");return o.get(s)},e.getHolidaysClass=function(){var t,a=e.props,o=a.day,s=a.holidays;if(!s)return[void 0];var i=ae(o,"MM.dd.yyyy");return s.has(i)?[(t=s.get(i))===null||t===void 0?void 0:t.className]:[void 0]},e.isInRange=function(){var t=e.props,a=t.day,o=t.startDate,s=t.endDate;return!o||!s?!1:Et(a,o,s)},e.isInSelectingRange=function(){var t,a=e.props,o=a.day,s=a.selectsStart,i=a.selectsEnd,c=a.selectsRange,l=a.selectsDisabledDaysInRange,u=a.startDate,f=a.swapRange,p=a.endDate,h=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;if(!(s||i||c)||!h||!l&&e.isDisabled())return!1;if(s&&p&&(Ke(h,p)||Tt(h,p)))return Et(o,h,p);if(i&&u&&(xt(h,u)||Tt(h,u)))return Et(o,u,h);if(c&&u&&!p){if(Tt(h,u)||xt(h,u))return Et(o,u,h);if(f&&Ke(h,u))return Et(o,h,u)}return!1},e.isSelectingRangeStart=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,o=a.day,s=a.startDate,i=a.selectsStart,c=a.swapRange,l=a.selectsRange,u=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return i?Q(o,u):l&&c&&s&&u?Q(o,Ke(u,s)?u:s):Q(o,s)},e.isSelectingRangeEnd=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,o=a.day,s=a.endDate,i=a.selectsEnd,c=a.selectsRange,l=a.swapRange,u=a.startDate,f=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return i?Q(o,f):c&&l&&u&&f?Q(o,Ke(f,u)?u:f):c?Q(o,f):Q(o,s)},e.isRangeStart=function(){var t=e.props,a=t.day,o=t.startDate,s=t.endDate;return!o||!s?!1:Q(o,a)},e.isRangeEnd=function(){var t=e.props,a=t.day,o=t.startDate,s=t.endDate;return!o||!s?!1:Q(s,a)},e.isWeekend=function(){var t=Qm(e.props.day);return t===0||t===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===be(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&(be(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(J())},e.isSelected=function(){var t;return e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(a){return e.isSameDayOrWeek(a)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(t){var a=e.props.dayClassName?e.props.dayClassName(t):void 0;return ye("react-datepicker__day",a,"react-datepicker__day--"+Lv(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var t=e.props,a=t.day,o=t.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,i=t.ariaLabelPrefixWhenDisabled,c=i===void 0?"Not available":i,l=e.isDisabled()||e.isExcluded()?c:s;return"".concat(l," ").concat(ae(a,"PPPP",e.props.locale))},e.getTitle=function(){var t=e.props,a=t.day,o=t.holidays,s=o===void 0?new Map:o,i=t.excludeDates,c=ae(a,"MM.dd.yyyy"),l=[];return s.has(c)&&l.push.apply(l,s.get(c).holidayNames),e.isExcluded()&&l.push(i==null?void 0:i.filter(function(u){return u instanceof Date?Q(u,a):Q(u==null?void 0:u.date,a)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),l.join(", ")},e.getTabIndex=function(){var t=e.props.selected,a=e.props.preSelection,o=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(t)&&Q(a,t))?0:-1;return o},e.handleFocusDay=function(){var t;e.shouldFocusDay()&&((t=e.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(xs(e.props.day),e.props.day):xs(e.props.day)},e.render=function(){return E.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"gridcell",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&E.createElement("span",{className:"overlay"},e.getTitle()))},e}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},n.prototype.isDayActiveElement=function(){var e,t,a;return((t=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(w.Component),ny=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.weekNumberEl=w.createRef(),e.handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e.handleOnKeyDown=function(t){var a,o,s=t.key;s===$.Space&&(t.preventDefault(),t.key=$.Enter),(o=(a=e.props).handleOnKeyDown)===null||o===void 0||o.call(a,t)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Q(e.props.date,e.props.selected)&&Q(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Q(e.props.date,e.props.selected)&&Q(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(t){var a=!1;e.getTabIndex()===0&&!(t!=null&&t.isInputFocused)&&Q(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(a=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},n.prototype.render=function(){var e=this.props,t=e.weekNumber,a=e.isWeekDisabled,o=e.ariaLabelPrefix,s=o===void 0?n.defaultProps.ariaLabelPrefix:o,i=e.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!i&&!a,"react-datepicker__week-number--selected":!!i&&Q(this.props.date,this.props.selected)};return E.createElement("div",{ref:this.weekNumberEl,className:ye(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},n}(w.Component),ay=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.isDisabled=function(t){return Ie(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(t,a){e.props.onDayClick&&e.props.onDayClick(t,a)},e.handleDayMouseEnter=function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)},e.handleWeekClick=function(t,a,o){for(var s,i,c,l=new Date(t),u=0;u<7;u++){var f=new Date(t);f.setDate(f.getDate()+u);var p=!e.isDisabled(f);if(p){l=f;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(l,a,o),e.props.showWeekPicker&&e.handleDayClick(l,o),((s=e.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((c=(i=e.props).setOpen)===null||c===void 0||c.call(i,!1))},e.formatWeekNumber=function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):Fv(t)},e.isWeekDisabled=function(){for(var t=e.startOfWeek(),a=Le(t,6),o=new Date(t);o<=a;){if(!e.isDisabled(o))return!1;o=Le(o,1)}return!0},e.renderDays=function(){var t=e.startOfWeek(),a=[],o=e.formatWeekNumber(t);if(e.props.showWeekNumber){var s=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,t,o):void 0;a.push(E.createElement(ny,G({key:"W"},n.defaultProps,e.props,{weekNumber:o,isWeekDisabled:e.isWeekDisabled(),date:t,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map(function(i){var c=Le(t,i);return E.createElement(ry,G({},n.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:e.handleDayClick.bind(e,c),onMouseEnter:e.handleDayMouseEnter.bind(e,c)}))}))},e.startOfWeek=function(){return wt(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Q(e.startOfWeek(),e.props.selected)&&Q(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Q(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return E.createElement("div",{className:ye(e,t),role:"row"},this.renderDays())},n}(w.Component),fr,oy=6,Jt={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},xa=(fr={},fr[Jt.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},fr[Jt.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},fr[Jt.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},fr),Hr=1;function Gs(r,n){return r?Jt.FOUR_COLUMNS:n?Jt.TWO_COLUMNS:Jt.THREE_COLUMNS}var sy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.MONTH_REFS=Qe([],Array(12),!0).map(function(){return w.createRef()}),e.QUARTER_REFS=Qe([],Array(4),!0).map(function(){return w.createRef()}),e.isDisabled=function(t){return Ie(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(t){return Co(t,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(t,a){var o,s;(s=(o=e.props).onDayClick)===null||s===void 0||s.call(o,t,a,e.props.orderInDisplay)},e.handleDayMouseEnter=function(t){var a,o;(o=(a=e.props).onDayMouseEnter)===null||o===void 0||o.call(a,t)},e.handleMouseLeave=function(){var t,a;(a=(t=e.props).onMouseLeave)===null||a===void 0||a.call(t)},e.isRangeStartMonth=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate;return!s||!i?!1:xe(Ne(o,t),s)},e.isRangeStartQuarter=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate;return!s||!i?!1:Nn(Vt(o,t),s)},e.isRangeEndMonth=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate;return!s||!i?!1:xe(Ne(o,t),i)},e.isRangeEndQuarter=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate;return!s||!i?!1:Nn(Vt(o,t),i)},e.isInSelectingRangeMonth=function(t){var a,o=e.props,s=o.day,i=o.selectsStart,c=o.selectsEnd,l=o.selectsRange,u=o.startDate,f=o.endDate,p=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(i||c||l)||!p?!1:i&&f?$r(p,f,t,s):c&&u||l&&u&&!f?$r(u,p,t,s):!1},e.isSelectingMonthRangeStart=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var o=e.props,s=o.day,i=o.startDate,c=o.selectsStart,l=Ne(s,t),u=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return c?xe(l,u):xe(l,i)},e.isSelectingMonthRangeEnd=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var o=e.props,s=o.day,i=o.endDate,c=o.selectsEnd,l=o.selectsRange,u=Ne(s,t),f=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return c||l?xe(u,f):xe(u,i)},e.isInSelectingRangeQuarter=function(t){var a,o=e.props,s=o.day,i=o.selectsStart,c=o.selectsEnd,l=o.selectsRange,u=o.startDate,f=o.endDate,p=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(i||c||l)||!p?!1:i&&f?Ur(p,f,t,s):c&&u||l&&u&&!f?Ur(u,p,t,s):!1},e.isWeekInMonth=function(t){var a=e.props.day,o=Le(t,6);return xe(t,a)||xe(o,a)},e.isCurrentMonth=function(t,a){return K(t)===K(J())&&a===be(J())},e.isCurrentQuarter=function(t,a){return K(t)===K(J())&&a===jt(J())},e.isSelectedMonth=function(t,a,o){return be(o)===a&&K(t)===K(o)},e.isSelectMonthInList=function(t,a,o){return o.some(function(s){return e.isSelectedMonth(t,a,s)})},e.isSelectedQuarter=function(t,a,o){return jt(t)===a&&K(t)===K(o)},e.isMonthSelected=function(){var t=e.props,a=t.day,o=t.selected,s=t.selectedDates,i=t.selectsMultiple,c=be(a);return i?s==null?void 0:s.some(function(l){return e.isSelectedMonth(a,c,l)}):!!o&&e.isSelectedMonth(a,c,o)},e.renderWeeks=function(){for(var t=[],a=e.props.fixedHeight,o=0,s=!1,i=wt(it(e.props.day),e.props.locale,e.props.calendarStartDay),c=function(g){return e.props.showWeekPicker?wt(g,e.props.locale,e.props.calendarStartDay):e.props.preSelection},l=function(g){return e.props.showWeekPicker?wt(g,e.props.locale,e.props.calendarStartDay):e.props.selected},u=e.props.selected?l(e.props.selected):void 0,f=e.props.preSelection?c(e.props.preSelection):void 0;t.push(E.createElement(ay,G({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:o,day:i,month:be(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:u,preSelection:f,showWeekNumber:e.props.showWeekNumbers}))),!s;){o++,i=Dn(i,1);var p=a&&o>=oy,h=!a&&!e.isWeekInMonth(i);if(p||h)if(e.props.peekNextMonth)s=!0;else break}return t},e.onMonthClick=function(t,a){var o=e.isMonthDisabledForLabelDate(a),s=o.isDisabled,i=o.labelDate;s||e.handleDayClick(it(i),t)},e.onMonthMouseEnter=function(t){var a=e.isMonthDisabledForLabelDate(t),o=a.isDisabled,s=a.labelDate;o||e.handleDayMouseEnter(it(s))},e.handleMonthNavigation=function(t,a){var o,s,i,c;(s=(o=e.props).setPreSelection)===null||s===void 0||s.call(o,a),(c=(i=e.MONTH_REFS[t])===null||i===void 0?void 0:i.current)===null||c===void 0||c.focus()},e.handleKeyboardNavigation=function(t,a,o){var s,i=e.props,c=i.selected,l=i.preSelection,u=i.setPreSelection,f=i.minDate,p=i.maxDate,h=i.showFourColumnMonthYearPicker,g=i.showTwoColumnMonthYearPicker;if(l){var y=Gs(h,g),m=e.getVerticalOffset(y),v=(s=xa[y])===null||s===void 0?void 0:s.grid,x=function(T,O,C){var P,A,L=O,H=C;switch(T){case $.ArrowRight:L=Ye(O,Hr),H=C===11?0:C+Hr;break;case $.ArrowLeft:L=Ft(O,Hr),H=C===0?11:C-Hr;break;case $.ArrowUp:L=Ft(O,m),H=!((P=v==null?void 0:v[0])===null||P===void 0)&&P.includes(C)?C+12-m:C-m;break;case $.ArrowDown:L=Ye(O,m),H=!((A=v==null?void 0:v[v.length-1])===null||A===void 0)&&A.includes(C)?C-12+m:C+m;break}return{newCalculatedDate:L,newCalculatedMonth:H}},R=function(T,O,C){for(var P=40,A=T,L=!1,H=0,F=x(A,O,C),N=F.newCalculatedDate,_=F.newCalculatedMonth;!L;){if(H>=P){N=O,_=C;break}if(f&&N<f){A=$.ArrowRight;var M=x(A,N,_);N=M.newCalculatedDate,_=M.newCalculatedMonth}if(p&&N>p){A=$.ArrowLeft;var M=x(A,N,_);N=M.newCalculatedDate,_=M.newCalculatedMonth}if(qv(N,e.props)){var M=x(A,N,_);N=M.newCalculatedDate,_=M.newCalculatedMonth}else L=!0;H++}return{newCalculatedDate:N,newCalculatedMonth:_}};if(a===$.Enter){e.isMonthDisabled(o)||(e.onMonthClick(t,o),u==null||u(c));return}var b=R(a,l,o),k=b.newCalculatedDate,S=b.newCalculatedMonth;switch(a){case $.ArrowRight:case $.ArrowLeft:case $.ArrowUp:case $.ArrowDown:e.handleMonthNavigation(S,k);break}}},e.getVerticalOffset=function(t){var a,o;return(o=(a=xa[t])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},e.onMonthKeyDown=function(t,a){var o=e.props,s=o.disabledKeyboardNavigation,i=o.handleOnMonthKeyDown,c=t.key;c!==$.Tab&&t.preventDefault(),s||e.handleKeyboardNavigation(t,c,a),i&&i(t)},e.onQuarterClick=function(t,a){var o=Vt(e.props.day,a);Wr(o,e.props)||e.handleDayClick(Is(o),t)},e.onQuarterMouseEnter=function(t){var a=Vt(e.props.day,t);Wr(a,e.props)||e.handleDayMouseEnter(Is(a))},e.handleQuarterNavigation=function(t,a){var o,s,i,c;e.isDisabled(a)||e.isExcluded(a)||((s=(o=e.props).setPreSelection)===null||s===void 0||s.call(o,a),(c=(i=e.QUARTER_REFS[t-1])===null||i===void 0?void 0:i.current)===null||c===void 0||c.focus())},e.onQuarterKeyDown=function(t,a){var o,s,i=t.key;if(!e.props.disabledKeyboardNavigation)switch(i){case $.Enter:e.onQuarterClick(t,a),(s=(o=e.props).setPreSelection)===null||s===void 0||s.call(o,e.props.selected);break;case $.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===4?1:a+1,fo(e.props.preSelection,1));break;case $.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===1?4:a-1,Kc(e.props.preSelection));break}},e.isMonthDisabledForLabelDate=function(t){var a,o=e.props,s=o.day,i=o.minDate,c=o.maxDate,l=o.excludeDates,u=o.includeDates,f=Ne(s,t);return{isDisabled:(a=(i||c||l||u)&&il(f,e.props))!==null&&a!==void 0?a:!1,labelDate:f}},e.isMonthDisabled=function(t){var a=e.isMonthDisabledForLabelDate(t).isDisabled;return a},e.getMonthClassNames=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate,c=a.preSelection,l=a.monthClassName,u=l?l(Ne(o,t)):void 0,f=e.getSelection();return ye("react-datepicker__month-text","react-datepicker__month-".concat(t),u,{"react-datepicker__month-text--disabled":e.isMonthDisabled(t),"react-datepicker__month-text--selected":f?e.isSelectMonthInList(o,t,f):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&c&&e.isSelectedMonth(o,t,c)&&!e.isMonthSelected()&&!e.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":s&&i?$r(s,i,t,o):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(o,t)})},e.getTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=be(e.props.preSelection),o=e.isMonthDisabledForLabelDate(a).isDisabled,s=t===a&&!(o||e.props.disabledKeyboardNavigation)?"0":"-1";return s},e.getQuarterTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=jt(e.props.preSelection),o=Wr(e.props.day,e.props),s=t===a&&!(o||e.props.disabledKeyboardNavigation)?"0":"-1";return s},e.getAriaLabel=function(t){var a=e.props,o=a.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,i=a.disabledDayAriaLabelPrefix,c=i===void 0?"Not available":i,l=a.day,u=a.locale,f=Ne(l,t),p=e.isDisabled(f)||e.isExcluded(f)?c:s;return"".concat(p," ").concat(ae(f,"MMMM yyyy",u))},e.getQuarterClassNames=function(t){var a=e.props,o=a.day,s=a.startDate,i=a.endDate,c=a.selected,l=a.minDate,u=a.maxDate,f=a.excludeDates,p=a.includeDates,h=a.filterDate,g=a.preSelection,y=a.disabledKeyboardNavigation,m=(l||u||f||p||h)&&Wr(Vt(o,t),e.props);return ye("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":c?e.isSelectedQuarter(o,t,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&e.isSelectedQuarter(o,t,g)&&!m,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":s&&i?Ur(s,i,t,o):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":e.isCurrentQuarter(o,t)})},e.getMonthContent=function(t){var a=e.props,o=a.showFullMonthYearPicker,s=a.renderMonthContent,i=a.locale,c=a.day,l=sl(t,i),u=ko(t,i);return s?s(t,l,u,c):o?u:l},e.getQuarterContent=function(t){var a,o=e.props,s=o.renderQuarterContent,i=o.locale,c=Hv(t,i);return(a=s==null?void 0:s(t,c))!==null&&a!==void 0?a:c},e.renderMonths=function(){var t,a=e.props,o=a.showTwoColumnMonthYearPicker,s=a.showFourColumnMonthYearPicker,i=a.day,c=a.selected,l=(t=xa[Gs(s,o)])===null||t===void 0?void 0:t.grid;return l==null?void 0:l.map(function(u,f){return E.createElement("div",{className:"react-datepicker__month-wrapper",key:f},u.map(function(p,h){return E.createElement("div",{ref:e.MONTH_REFS[p],key:h,onClick:function(g){e.onMonthClick(g,p)},onKeyDown:function(g){ul(g)&&(g.preventDefault(),g.key=$.Enter),e.onMonthKeyDown(g,p)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(p)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(p)}:void 0,tabIndex:Number(e.getTabIndex(p)),className:e.getMonthClassNames(p),"aria-disabled":e.isMonthDisabled(p),role:"option","aria-label":e.getAriaLabel(p),"aria-current":e.isCurrentMonth(i,p)?"date":void 0,"aria-selected":c?e.isSelectedMonth(i,p,c):void 0},e.getMonthContent(p))}))})},e.renderQuarters=function(){var t=e.props,a=t.day,o=t.selected,s=[1,2,3,4];return E.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(i,c){return E.createElement("div",{key:c,ref:e.QUARTER_REFS[c],role:"option",onClick:function(l){e.onQuarterClick(l,i)},onKeyDown:function(l){e.onQuarterKeyDown(l,i)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(i)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(i)}:void 0,className:e.getQuarterClassNames(i),"aria-selected":o?e.isSelectedQuarter(a,i,o):void 0,tabIndex:Number(e.getQuarterTabIndex(i)),"aria-current":e.isCurrentQuarter(a,i)?"date":void 0},e.getQuarterContent(i))}))},e.getClassNames=function(){var t=e.props,a=t.selectingDate,o=t.selectsStart,s=t.selectsEnd,i=t.showMonthYearPicker,c=t.showQuarterYearPicker,l=t.showWeekPicker;return ye("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||s)},{"react-datepicker__monthPicker":i},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":l})},e}return n.prototype.getSelection=function(){var e=this.props,t=e.selected,a=e.selectedDates,o=e.selectsMultiple;if(o)return a;if(t)return[t]},n.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,a=e.showQuarterYearPicker,o=e.day,s=e.ariaLabelPrefix,i=s===void 0?"Month ":s,c=i?i.trim()+" ":"",l=t||a;return l?E.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(ae(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():this.renderQuarters()):E.createElement("div",{role:"table"},this.props.dayNamesHeader&&E.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),E.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(ae(o,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},n}(w.Component),iy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.monthOptionButtonsRef={},e.isSelectedMonth=function(t){return e.props.month===t},e.handleOptionKeyDown=function(t,a){var o;switch(a.key){case"Enter":a.preventDefault(),e.onChange(t);break;case"Escape":a.preventDefault(),e.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var s=(t+(a.key==="ArrowUp"?-1:1)+e.props.monthNames.length)%e.props.monthNames.length;(o=e.monthOptionButtonsRef[s])===null||o===void 0||o.focus();break}}},e.renderOptions=function(){return e.monthOptionButtonsRef={},e.props.monthNames.map(function(t,a){return E.createElement("div",{ref:function(o){e.monthOptionButtonsRef[a]=o,e.isSelectedMonth(a)&&(o==null||o.focus())},role:"button",tabIndex:0,className:e.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(e,a),onKeyDown:e.handleOptionKeyDown.bind(e,a),"aria-selected":e.isSelectedMonth(a)?"true":void 0},e.isSelectedMonth(a)?E.createElement("span",{className:"react-datepicker__month-option--selected"},"âœ“"):"",t)})},e.onChange=function(t){return e.props.onChange(t)},e.handleClickOutside=function(){return e.props.onCancel()},e}return n.prototype.render=function(){return E.createElement(ea,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(w.Component),cy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(t){return t.map(function(a,o){return E.createElement("option",{key:a,value:o},a)})},e.renderSelectMode=function(t){return E.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(a){return e.onChange(parseInt(a.target.value))}},e.renderSelectOptions(t))},e.renderReadView=function(t,a){return E.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},E.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),E.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[e.props.month]))},e.renderDropdown=function(t){return E.createElement(iy,G({key:"dropdown"},e.props,{monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(t){var a=e.state.dropdownVisible,o=[e.renderReadView(!a,t)];return a&&o.unshift(e.renderDropdown(t)),o},e.onChange=function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return n.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return sl(o,e.props.locale)}:function(o){return ko(o,e.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(t);break;case"select":a=this.renderSelectMode(t);break}return E.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},n}(w.Component);function ly(r,n){for(var e=[],t=it(r),a=it(n);!xt(t,a);)e.push(J(t)),t=Ye(t,1);return e}var uy=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(a){var o=Ua(a),s=We(t.props.date,a)&&xe(t.props.date,a);return E.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:t.onChange.bind(t,o),"aria-selected":s?"true":void 0},s?E.createElement("span",{className:"react-datepicker__month-year-option--selected"},"âœ“"):"",ae(a,t.props.dateFormat,t.props.locale))})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:ly(t.props.minDate,t.props.maxDate)},t}return n.prototype.render=function(){var e=ye({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return E.createElement(ea,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(w.Component),dy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=it(e.props.minDate),a=it(e.props.maxDate),o=[];!xt(t,a);){var s=Ua(t);o.push(E.createElement("option",{key:s,value:s},ae(t,e.props.dateFormat,e.props.locale))),t=Ye(t,1)}return o},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return E.createElement("select",{value:Ua(it(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){var a=ae(e.props.date,e.props.dateFormat,e.props.locale);return E.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},E.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),E.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},e.renderDropdown=function(){return E.createElement(uy,G({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown();var a=J(t);We(e.props.date,a)&&xe(e.props.date,a)||e.props.onChange(a)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return n.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return E.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},n}(w.Component),fy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,a,o;e.list&&(e.list.scrollTop=(o=e.centerLi&&n.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((a=(t=e.header)===null||t===void 0?void 0:t.clientHeight)!==null&&a!==void 0?a:0):e.list.clientHeight,e.centerLi))!==null&&o!==void 0?o:0)})},e.handleClick=function(t){var a,o;(e.props.minTime||e.props.maxTime)&&Ys(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Ls(t,e.props)||(o=(a=e.props).onChange)===null||o===void 0||o.call(a,t)},e.isSelectedTime=function(t){return e.props.selected&&ey(e.props.selected,t)},e.isDisabledTime=function(t){return(e.props.minTime||e.props.maxTime)&&Ys(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Ls(t,e.props)},e.liClasses=function(t){var a,o=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&o.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&o.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(ot(t)*3600+st(t)*60+yt(t))%(((a=e.props.intervals)!==null&&a!==void 0?a:n.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},e.handleOnKeyDown=function(t,a){var o,s;t.key===$.Space&&(t.preventDefault(),t.key=$.Enter),(t.key===$.ArrowUp||t.key===$.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===$.ArrowDown||t.key===$.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===$.Enter&&e.handleClick(a),(s=(o=e.props).handleOnKeyDown)===null||s===void 0||s.call(o,t)},e.renderTimes=function(){for(var t,a=[],o=typeof e.props.format=="string"?e.props.format:"p",s=(t=e.props.intervals)!==null&&t!==void 0?t:n.defaultProps.intervals,i=e.props.selected||e.props.openToDate||J(),c=sn(i),l=e.props.injectTimes&&e.props.injectTimes.sort(function(m,v){return m.getTime()-v.getTime()}),u=60*Jv(i),f=u/s,p=0;p<f;p++){var h=$a(c,p*s);if(a.push(h),l){var g=Zv(c,h,p,s,l);a=a.concat(g)}}var y=a.reduce(function(m,v){return v.getTime()<=i.getTime()?v:m},a[0]);return a.map(function(m){return E.createElement("li",{key:m.valueOf(),onClick:e.handleClick.bind(e,m),className:e.liClasses(m),ref:function(v){m===y&&(e.centerLi=v)},onKeyDown:function(v){e.handleOnKeyDown(v,m)},tabIndex:m===y?0:-1,role:"option","aria-selected":e.isSelectedTime(m)?"true":void 0,"aria-disabled":e.isDisabledTime(m)?"true":void 0},ae(m,o,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?E.createElement(E.Fragment,null):E.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},E.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var e=this,t,a=this.state.height;return E.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),E.createElement("div",{className:"react-datepicker__time"},E.createElement("div",{className:"react-datepicker__time-box"},E.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){e.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},n}(w.Component),zs=3,py=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.YEAR_REFS=Qe([],Array(t.props.yearItemNumber),!0).map(function(){return w.createRef()}),t.isDisabled=function(a){return Ie(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(a){return Co(a,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var a;return(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection},t.updateFocusOnPaginate=function(a){var o=function(){var s,i;(i=(s=t.YEAR_REFS[a])===null||s===void 0?void 0:s.current)===null||i===void 0||i.focus()};window.requestAnimationFrame(o)},t.handleYearClick=function(a,o){t.props.onDayClick&&t.props.onDayClick(a,o)},t.handleYearNavigation=function(a,o){var s,i,c,l,u=t.props,f=u.date,p=u.yearItemNumber;if(!(f===void 0||p===void 0)){var h=tt(f,p).startPeriod;t.isDisabled(o)||t.isExcluded(o)||((i=(s=t.props).setPreSelection)===null||i===void 0||i.call(s,o),a-h<0?t.updateFocusOnPaginate(p-(h-a)):a-h>=p?t.updateFocusOnPaginate(Math.abs(p-(a-h))):(l=(c=t.YEAR_REFS[a-h])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())}},t.isSameDay=function(a,o){return Q(a,o)},t.isCurrentYear=function(a){return a===K(J())},t.isRangeStart=function(a){return t.props.startDate&&t.props.endDate&&We($e(J(),a),t.props.startDate)},t.isRangeEnd=function(a){return t.props.startDate&&t.props.endDate&&We($e(J(),a),t.props.endDate)},t.isInRange=function(a){return Br(a,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(a){var o=t.props,s=o.selectsStart,i=o.selectsEnd,c=o.selectsRange,l=o.startDate,u=o.endDate;return!(s||i||c)||!t.selectingDate()?!1:s&&u?Br(a,t.selectingDate(),u):i&&l||c&&l&&!u?Br(a,l,t.selectingDate()):!1},t.isSelectingRangeStart=function(a){var o;if(!t.isInSelectingRange(a))return!1;var s=t.props,i=s.startDate,c=s.selectsStart,l=$e(J(),a);return c?We(l,(o=t.selectingDate())!==null&&o!==void 0?o:null):We(l,i!=null?i:null)},t.isSelectingRangeEnd=function(a){var o;if(!t.isInSelectingRange(a))return!1;var s=t.props,i=s.endDate,c=s.selectsEnd,l=s.selectsRange,u=$e(J(),a);return c||l?We(u,(o=t.selectingDate())!==null&&o!==void 0?o:null):We(u,i!=null?i:null)},t.isKeyboardSelected=function(a){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var o=t.props,s=o.minDate,i=o.maxDate,c=o.excludeDates,l=o.includeDates,u=o.filterDate,f=o.selected,p=hr($e(t.props.date,a)),h=(s||i||c||l||u)&&cn(a,t.props),g=!!f&&Q(p,hr(f)),y=Q(p,hr(t.props.preSelection));return!t.props.inline&&!g&&y&&!h}},t.isSelectedYear=function(a){var o=t.props,s=o.selectsMultiple,i=o.selected,c=o.selectedDates;return s?c==null?void 0:c.some(function(l){return a===K(l)}):!!i&&a===K(i)},t.onYearClick=function(a,o){var s=t.props.date;s!==void 0&&t.handleYearClick(hr($e(s,o)),a)},t.onYearKeyDown=function(a,o){var s,i,c=a.key,l=t.props,u=l.date,f=l.yearItemNumber,p=l.handleOnKeyDown;if(c!==$.Tab&&a.preventDefault(),!t.props.disabledKeyboardNavigation)switch(c){case $.Enter:if(t.props.selected==null)break;t.onYearClick(a,o),(i=(s=t.props).setPreSelection)===null||i===void 0||i.call(s,t.props.selected);break;case $.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(o+1,nt(t.props.preSelection,1));break;case $.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(o-1,nr(t.props.preSelection,1));break;case $.ArrowUp:{if(u===void 0||f===void 0||t.props.preSelection==null)break;var h=tt(u,f).startPeriod,g=zs,y=o-g;if(y<h){var m=f%g;o>=h&&o<h+m?g=m:g+=m,y=o-g}t.handleYearNavigation(y,nr(t.props.preSelection,g));break}case $.ArrowDown:{if(u===void 0||f===void 0||t.props.preSelection==null)break;var v=tt(u,f).endPeriod,g=zs,y=o+g;if(y>v){var m=f%g;o<=v&&o>v-m?g=m:g+=m,y=o+g}t.handleYearNavigation(y,nt(t.props.preSelection,g));break}}p&&p(a)},t.getYearClassNames=function(a){var o=t.props,s=o.date,i=o.minDate,c=o.maxDate,l=o.excludeDates,u=o.includeDates,f=o.filterDate,p=o.yearClassName;return ye("react-datepicker__year-text","react-datepicker__year-".concat(a),s?p==null?void 0:p($e(s,a)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(a),"react-datepicker__year-text--disabled":(i||c||l||u||f)&&cn(a,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(a),"react-datepicker__year-text--range-start":t.isRangeStart(a),"react-datepicker__year-text--range-end":t.isRangeEnd(a),"react-datepicker__year-text--in-range":t.isInRange(a),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(a),"react-datepicker__year-text--today":t.isCurrentYear(a)})},t.getYearTabIndex=function(a){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var o=K(t.props.preSelection),s=cn(a,t.props);return a===o&&!s?"0":"-1"},t.getYearContent=function(a){return t.props.renderYearContent?t.props.renderYearContent(a):a},t}return n.prototype.render=function(){var e=this,t=[],a=this.props,o=a.date,s=a.yearItemNumber,i=a.onYearMouseEnter,c=a.onYearMouseLeave;if(o===void 0)return null;for(var l=tt(o,s),u=l.startPeriod,f=l.endPeriod,p=function(y){t.push(E.createElement("div",{ref:h.YEAR_REFS[y-u],onClick:function(m){e.onYearClick(m,y)},onKeyDown:function(m){ul(m)&&(m.preventDefault(),m.key=$.Enter),e.onYearKeyDown(m,y)},tabIndex:Number(h.getYearTabIndex(y)),className:h.getYearClassNames(y),onMouseEnter:h.props.usePointerEvent?void 0:function(m){return i(m,y)},onPointerEnter:h.props.usePointerEvent?function(m){return i(m,y)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(m){return c(m,y)},onPointerLeave:h.props.usePointerEvent?function(m){return c(m,y)}:void 0,key:y,"aria-current":h.isCurrentYear(y)?"date":void 0},h.getYearContent(y)))},h=this,g=u;g<=f;g++)p(g);return E.createElement("div",{className:"react-datepicker__year"},E.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},n}(w.Component);function hy(r,n,e,t){for(var a=[],o=0;o<2*n+1;o++){var s=r+n-o,i=!0;e&&(i=K(e)<=s),t&&i&&(i=K(t)>=s),i&&a.push(s)}return a}var my=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(i,c){var l;switch(c.key){case"Enter":c.preventDefault(),t.onChange(i);break;case"Escape":c.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var u=i+(c.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[u]&&((l=t.yearOptionButtonsRef[u])===null||l===void 0||l.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var i=t.props.year,c=t.state.yearsList.map(function(f){return E.createElement("div",{ref:function(p){t.yearOptionButtonsRef[f]=p,f===i&&(p==null||p.focus())},role:"button",tabIndex:0,className:i===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:t.onChange.bind(t,f),onKeyDown:t.handleOptionKeyDown.bind(t,f),"aria-selected":i===f?"true":void 0},i===f?E.createElement("span",{className:"react-datepicker__year-option--selected"},"âœ“"):"",f)}),l=t.props.minDate?K(t.props.minDate):null,u=t.props.maxDate?K(t.props.maxDate):null;return(!u||!t.state.yearsList.find(function(f){return f===u}))&&c.unshift(E.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},E.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!l||!t.state.yearsList.find(function(f){return f===l}))&&c.push(E.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},E.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},t.onChange=function(i){t.props.onChange(i)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(i){var c=t.state.yearsList.map(function(l){return l+i});t.setState({yearsList:c})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var a=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,s=a||(o?10:5);return t.state={yearsList:hy(t.props.year,s,t.props.minDate,t.props.maxDate)},t.dropdownRef=w.createRef(),t}return n.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,a=t?t.find(function(o){return o.ariaSelected}):null;e.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},n.prototype.render=function(){var e=ye({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return E.createElement(ea,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(w.Component),gy=function(r){we(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=e.props.minDate?K(e.props.minDate):1900,a=e.props.maxDate?K(e.props.maxDate):2100,o=[],s=t;s<=a;s++)o.push(E.createElement("option",{key:s,value:s},s));return o},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return E.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){return E.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:e.toggleDropdown},E.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),E.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return E.createElement(my,G({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)},e.toggleDropdown=function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)})},e.handleYearChange=function(t,a){var o;(o=e.onSelect)===null||o===void 0||o.call(e,t,a),e.setOpen()},e.onSelect=function(t,a){var o,s;(s=(o=e.props).onSelect)===null||s===void 0||s.call(o,t,a)},e.setOpen=function(){var t,a;(a=(t=e.props).setOpen)===null||a===void 0||a.call(t,!0)},e}return n.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return E.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},n}(w.Component),vy=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dl="react-datepicker-ignore-onclickoutside",yy=function(r){var n=(r.className||"").split(/\s+/);return vy.some(function(e){return n.indexOf(e)>=0})},wy=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.monthContainer=void 0,t.handleClickOutside=function(a){t.props.onClickOutside(a)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(a){var o,s;yy(a.target)&&((s=(o=t.props).onDropdownFocus)===null||s===void 0||s.call(o,a))},t.getDateInView=function(){var a=t.props,o=a.preSelection,s=a.selected,i=a.openToDate,c=cl(t.props),l=ll(t.props),u=J(),f=i||s||o;return f||(c&&Ke(u,c)?c:l&&xt(u,l)?l:u)},t.increaseMonth=function(){t.setState(function(a){var o=a.date;return{date:Ye(o,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(a){var o=a.date;return{date:Ft(o,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(a,o,s){t.props.onSelect(a,o,s),t.props.setPreSelection&&t.props.setPreSelection(a)},t.handleDayMouseEnter=function(a){t.setState({selectingDate:a}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(a,o){t.setState({selectingDate:$e(J(),o)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(a,o)},t.handleYearMouseLeave=function(a,o){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(a,o)},t.handleYearChange=function(a){var o,s,i,c;(s=(o=t.props).onYearChange)===null||s===void 0||s.call(o,a),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(a),(c=(i=t.props).setOpen)===null||c===void 0||c.call(i,!0)),t.props.setPreSelection&&t.props.setPreSelection(a)},t.getEnabledPreSelectionDateForMonth=function(a){if(!Ie(a,t.props))return a;for(var o=it(a),s=$v(a),i=Xh(s,o),c=null,l=0;l<=i;l++){var u=Le(o,l);if(!Ie(u,t.props)){c=u;break}}return c},t.handleMonthChange=function(a){var o,s,i,c=(o=t.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;t.handleCustomMonthChange(c),t.props.adjustDateOnChange&&(t.props.onSelect(c),(i=(s=t.props).setOpen)===null||i===void 0||i.call(s,!0)),t.props.setPreSelection&&t.props.setPreSelection(c)},t.handleCustomMonthChange=function(a){var o,s;(s=(o=t.props).onMonthChange)===null||s===void 0||s.call(o,a),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(a){t.handleYearChange(a),t.handleMonthChange(a)},t.changeYear=function(a){t.setState(function(o){var s=o.date;return{date:$e(s,Number(a))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(a){t.setState(function(o){var s=o.date;return{date:Ne(s,Number(a))}},function(){return t.handleMonthChange(t.state.date)})},t.changeMonthYear=function(a){t.setState(function(o){var s=o.date;return{date:$e(Ne(s,be(a)),K(a))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(a){a===void 0&&(a=t.state.date);var o=wt(a,t.props.locale,t.props.calendarStartDay),s=[];return t.props.showWeekNumbers&&s.push(E.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},E.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),E.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),s.concat([0,1,2,3,4,5,6].map(function(i){var c=Le(o,i),l=t.formatWeekday(c,t.props.locale),u=t.props.weekDayClassName?t.props.weekDayClassName(c):void 0;return E.createElement("div",{key:i,role:"columnheader",className:ye("react-datepicker__day-name",u)},E.createElement("span",{className:"react-datepicker__sr-only"},ae(c,"EEEE",t.props.locale)),E.createElement("span",{"aria-hidden":"true"},l))}))},t.formatWeekday=function(a,o){return t.props.formatWeekDay?Wv(a,t.props.formatWeekDay,o):t.props.useWeekdaysShort?Uv(a,o):Bv(a,o)},t.decreaseYear=function(){t.setState(function(a){var o,s=a.date;return{date:nr(s,t.props.showYearPicker?(o=t.props.yearItemNumber)!==null&&o!==void 0?o:n.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var a,o,s;if(!t.props.renderCustomHeader){var i=(a=t.props.monthsShown)!==null&&a!==void 0?a:n.defaultProps.monthsShown,c=t.props.showPreviousMonths?i-1:0,l=(o=t.props.monthSelectedIn)!==null&&o!==void 0?o:c,u=Ft(t.state.date,l),f;switch(!0){case t.props.showMonthYearPicker:f=Bs(t.state.date,t.props);break;case t.props.showYearPicker:f=Gv(t.state.date,t.props);break;case t.props.showQuarterYearPicker:f=Kv(t.state.date,t.props);break;default:f=$s(u,t.props);break}if(!(!((s=t.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&f||t.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],h=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(g=t.decreaseYear),f&&t.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,m=t.props,v=m.previousMonthButtonLabel,x=v===void 0?n.defaultProps.previousMonthButtonLabel:v,R=m.previousYearButtonLabel,b=R===void 0?n.defaultProps.previousYearButtonLabel:R,k=t.props,S=k.previousMonthAriaLabel,T=S===void 0?typeof x=="string"?x:"Previous Month":S,O=k.previousYearAriaLabel,C=O===void 0?typeof b=="string"?b:"Previous Year":O;return E.createElement("button",{type:"button",className:h.join(" "),onClick:g,onKeyDown:t.props.handleOnKeyDown,"aria-label":y?C:T},E.createElement("span",{className:p.join(" ")},y?b:x))}}},t.increaseYear=function(){t.setState(function(a){var o,s=a.date;return{date:nt(s,t.props.showYearPicker?(o=t.props.yearItemNumber)!==null&&o!==void 0?o:n.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var a;if(!t.props.renderCustomHeader){var o;switch(!0){case t.props.showMonthYearPicker:o=Us(t.state.date,t.props);break;case t.props.showYearPicker:o=zv(t.state.date,t.props);break;case t.props.showQuarterYearPicker:o=Qv(t.state.date,t.props);break;default:o=Ws(t.state.date,t.props);break}if(!(!((a=t.props.forceShowMonthNavigation)!==null&&a!==void 0?a:n.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&o||t.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(c=t.increaseYear),o&&t.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var l=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,u=t.props,f=u.nextMonthButtonLabel,p=f===void 0?n.defaultProps.nextMonthButtonLabel:f,h=u.nextYearButtonLabel,g=h===void 0?n.defaultProps.nextYearButtonLabel:h,y=t.props,m=y.nextMonthAriaLabel,v=m===void 0?typeof p=="string"?p:"Next Month":m,x=y.nextYearAriaLabel,R=x===void 0?typeof g=="string"?g:"Next Year":x;return E.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:t.props.handleOnKeyDown,"aria-label":l?R:v},E.createElement("span",{className:i.join(" ")},l?g:p))}}},t.renderCurrentMonth=function(a){a===void 0&&(a=t.state.date);var o=["react-datepicker__current-month"];return t.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),E.createElement("h2",{className:o.join(" ")},ae(a,t.props.dateFormat,t.props.locale))},t.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showYearDropdown||a))return E.createElement(gy,G({},n.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:K(t.state.date)}))},t.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthDropdown||a))return E.createElement(cy,G({},n.defaultProps,t.props,{month:be(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthYearDropdown||a))return E.createElement(dy,G({},n.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(a){t.props.onSelect(As(),a),t.props.setPreSelection&&t.props.setPreSelection(As())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return E.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(a){return E.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(a))},t.renderDefaultHeader=function(a){var o=a.monthDate,s=a.i;return E.createElement("div",{className:"react-datepicker__header ".concat(t.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},t.renderCurrentMonth(o),E.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(s!==0),t.renderMonthYearDropdown(s!==0),t.renderYearDropdown(s!==0)))},t.renderCustomHeader=function(a){var o,s,i=a.monthDate,c=a.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var l=t.props,u=l.showYearPicker,f=l.yearItemNumber,p;if(u){var h=tt(i,f),g=h.startPeriod,y=h.endPeriod;p={startYear:g,endYear:y}}var m=$s(t.state.date,t.props),v=Ws(t.state.date,t.props),x=Bs(t.state.date,t.props),R=Us(t.state.date,t.props);return E.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(s=(o=t.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,G(G(G({},t.state),u&&{visibleYearsRange:p}),{customHeaderCount:c,monthDate:i,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:v,prevYearButtonDisabled:x,nextYearButtonDisabled:R})))},t.renderYearHeader=function(a){var o=a.monthDate,s=t.props,i=s.showYearPicker,c=s.yearItemNumber,l=c===void 0?n.defaultProps.yearItemNumber:c,u=tt(o,l),f=u.startPeriod,p=u.endPeriod;return E.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(f," - ").concat(p):K(o))},t.renderHeader=function(a){var o=a.monthDate,s=a.i,i=s===void 0?0:s,c={monthDate:o,i};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(c);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(c);default:return t.renderDefaultHeader(c)}},t.renderMonths=function(){var a,o;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var s=[],i=(a=t.props.monthsShown)!==null&&a!==void 0?a:n.defaultProps.monthsShown,c=t.props.showPreviousMonths?i-1:0,l=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?nt(t.state.date,c):Ft(t.state.date,c),u=(o=t.props.monthSelectedIn)!==null&&o!==void 0?o:c,f=0;f<i;++f){var p=f-u+c,h=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?nt(l,p):Ye(l,p),g="month-".concat(f),y=f<i-1,m=f>0;s.push(E.createElement("div",{key:g,ref:function(v){t.monthContainer=v!=null?v:void 0},className:"react-datepicker__month-container"},t.renderHeader({monthDate:h,i:f}),E.createElement(sy,G({},n.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:h,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:f,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:m,dayNamesHeader:t.renderDayNamesHeader(h)}))))}return s}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return E.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),E.createElement(py,G({},n.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return E.createElement(fy,G({},n.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var a=t.props.selected?new Date(t.props.selected):void 0,o=a&&ta(a)&&!!t.props.selected,s=o?"".concat(qs(a.getHours()),":").concat(qs(a.getMinutes())):"";if(t.props.showTimeInput)return E.createElement(ty,G({},n.defaultProps,t.props,{date:a,timeString:s,onChange:t.props.onTimeChange}))},t.renderAriaLiveRegion=function(){var a,o=tt(t.state.date,(a=t.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber),s=o.startPeriod,i=o.endPeriod,c;return t.props.showYearPicker?c="".concat(s," - ").concat(i):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?c=K(t.state.date):c="".concat(ko(be(t.state.date),t.props.locale)," ").concat(K(t.state.date)),E.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&c)},t.renderChildren=function(){if(t.props.children)return E.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=w.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:dl,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nr}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},n.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&(!Q(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var a=!xe(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Q(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var e=this.props.container||Nv;return E.createElement(ea,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},E.createElement("div",{style:{display:"contents"},ref:this.containerRef},E.createElement(e,{className:ye("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(w.Component),by=function(r){var n=r.icon,e=r.className,t=e===void 0?"":e,a=r.onClick,o="react-datepicker__calendar-icon";if(typeof n=="string")return E.createElement("i",{className:"".concat(o," ").concat(n," ").concat(t),"aria-hidden":"true",onClick:a});if(E.isValidElement(n)){var s=n;return E.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(o," ").concat(t),onClick:function(i){typeof s.props.onClick=="function"&&s.props.onClick(i),typeof a=="function"&&a(i)}})}return E.createElement("svg",{className:"".concat(o," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},E.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},fl=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return wl.createPortal(this.props.children,this.el)},n}(w.Component),xy="[tabindex], a, button, input, select, textarea",Dy=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},pl=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.getTabChildren=function(){var a;return Array.prototype.slice.call((a=t.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(xy),1,-1).filter(Dy)},t.handleFocusStart=function(){var a=t.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},t.handleFocusEnd=function(){var a=t.getTabChildren();a&&a.length>1&&a[0].focus()},t.tabLoopRef=w.createRef(),t}return n.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:n.defaultProps.enableTabLoop)?E.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},E.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,E.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(w.Component);function ky(r){function n(e){var t,a=typeof e.hidePopper=="boolean"?e.hidePopper:!0,o=w.useRef(null),s=Tv(G({open:!a,whileElementsMounted:uv,placement:e.popperPlacement,middleware:Qe([wv({padding:15}),yv(10),bv({element:o})],(t=e.popperModifiers)!==null&&t!==void 0?t:[],!0)},e.popperProps)),i=G(G({},e),{hidePopper:a,popperProps:G(G({},s),{arrowRef:o})});return E.createElement(r,G({},i))}return n.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),n}var Cy=function(r){var n=r.className,e=r.wrapperClassName,t=r.hidePopper,a=t===void 0?!0:t,o=r.popperComponent,s=r.targetComponent,i=r.enableTabLoop,c=r.popperOnKeyDown,l=r.portalId,u=r.portalHost,f=r.popperProps,p=r.showArrow,h=void 0;if(!a){var g=ye("react-datepicker-popper",n);h=E.createElement(pl,{enableTabLoop:i},E.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:g,"data-placement":f.placement,onKeyDown:c},o,p&&E.createElement(Sv,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(h=w.createElement(r.popperContainer,{},h)),l&&!a&&(h=E.createElement(fl,{portalId:l,portalHost:u},h));var y=ye("react-datepicker-wrapper",e);return E.createElement(E.Fragment,null,E.createElement("div",{ref:f.refs.setReference,className:y},s),h)},Sy=ky(Cy);function _y(r,n){return r&&n?be(r)!==be(n)||K(r)!==K(n):r!==n}var Da="Date input not valid.",Ey=function(r){we(n,r);function n(e){var t=r.call(this,e)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){return t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:J()},t.modifyHolidays=function(){var a;return(a=t.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,s){var i=new Date(s.date);return ta(i)?Qe(Qe([],o,!0),[G(G({},s),{date:i})],!1):o},[])},t.calcInitialState=function(){var a,o=t.getPreSelection(),s=cl(t.props),i=ll(t.props),c=s&&Ke(o,sn(s))?s:i&&xt(o,js(i))?i:o;return{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=t.props.selectsRange?t.props.startDate:t.props.selected)!==null&&a!==void 0?a:c,highlightDates:Hs(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var a,o=t.props,s=o.locale,i=o.startDate,c=o.endDate,l=o.rangeSeparator,u=o.selected,f=o.selectedDates,p=o.selectsMultiple,h=o.selectsRange,g=o.value,y=(a=t.props.dateFormat)!==null&&a!==void 0?a:n.defaultProps.dateFormat,m=t.state.inputValue;return typeof g=="string"?g:typeof m=="string"?m:h?Av(i,c,{dateFormat:y,locale:s,rangeSeparator:l}):p?jv(f!=null?f:[],{dateFormat:y,locale:s}):Te(u,{dateFormat:y,locale:s})},t.resetHiddenStatus=function(){t.setState(G(G({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(G(G({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var a,o;(o=(a=t.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},t.setBlur=function(){var a,o;(o=(a=t.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(a,o){o===void 0&&(o=!1),t.setState({open:a,preSelection:a&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:ka},function(){a||t.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return at(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(a){var o,s,i=t.state.wasHidden,c=i?t.state.open:!0;i&&t.resetHiddenStatus(),t.state.preventFocus||((s=(o=t.props).onFocus)===null||s===void 0||s.call(o,a),c&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(G(G({},t.state),{inputValue:null}))},t.handleBlur=function(a){var o,s;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((s=(o=t.props).onBlur)===null||s===void 0||s.call(o,a)),t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(a){var o,s;t.props.inline||t.setOpen(!1),(s=(o=t.props).onClickOutside)===null||s===void 0||s.call(o,a),t.props.withPortal&&a.preventDefault()},t.handleChange=function(){for(var a,o,s,i,c,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var f=l[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,l),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){t.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:Py});var p=t.props,h=p.selectsRange,g=p.startDate,y=p.endDate,m=(a=t.props.dateFormat)!==null&&a!==void 0?a:n.defaultProps.dateFormat,v=(o=t.props.strictParsing)!==null&&o!==void 0?o:n.defaultProps.strictParsing,x=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(h){var R=t.props.rangeSeparator,b=R.trim(),k=x.split(m.includes(b)?R:b,2).map(function(H){return H.trim()}),S=k[0],T=k[1],O=ya(S!=null?S:"",m,t.props.locale,v),C=O?ya(T!=null?T:"",m,t.props.locale,v):null,P=(g==null?void 0:g.getTime())!==(O==null?void 0:O.getTime()),A=(y==null?void 0:y.getTime())!==(C==null?void 0:C.getTime());if(!P&&!A||O&&Ie(O,t.props)||C&&Ie(C,t.props))return;(i=(s=t.props).onChange)===null||i===void 0||i.call(s,[O,C],f)}else{var L=ya(x,m,t.props.locale,v,(c=t.props.selected)!==null&&c!==void 0?c:void 0);(L||!x)&&t.setSelected(L,f,!0)}}},t.handleSelect=function(a,o,s){if(!t.props.readOnly){var i=t.props,c=i.selectsRange,l=i.startDate,u=i.endDate,f=i.swapRange,p=!c||l&&!u&&(f||!ba(a,l));t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&p&&t.sendFocusBackToInput(),t.props.onChangeRaw&&t.props.onChangeRaw(o),t.setSelected(a,o,!1,s),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(a):p&&t.setOpen(!1)}},t.setSelected=function(a,o,s,i){var c,l,u=a;if(t.props.showYearPicker){if(u!==null&&cn(K(u),t.props))return}else if(t.props.showMonthYearPicker){if(u!==null&&il(u,t.props))return}else if(u!==null&&Ie(u,t.props))return;var f=t.props,p=f.onChange,h=f.selectsRange,g=f.startDate,y=f.endDate,m=f.selectsMultiple,v=f.selectedDates,x=f.minTime,R=f.swapRange;if(!Tt(t.props.selected,u)||t.props.allowSameDay||h||m)if(u!==null&&(t.props.selected&&(!s||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(u=wa(u,{hour:ot(t.props.selected),minute:st(t.props.selected),second:yt(t.props.selected)})),!s&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&x&&(u=wa(u,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),t.props.inline||t.setState({preSelection:u}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:i})),h){var b=!g&&!y,k=g&&!y,S=!g&&!!y,T=g&&y;b?p==null||p([u,null],o):k?u===null?p==null||p([null,null],o):ba(u,g)?R?p==null||p([u,g],o):p==null||p([u,null],o):p==null||p([g,u],o):S&&(u&&ba(u,y)?p==null||p([u,y],o):p==null||p([u,null],o)),T&&(p==null||p([u,null],o))}else if(m){if(u!==null)if(!(v!=null&&v.length))p==null||p([u],o);else{var O=v.some(function(P){return Q(P,u)});if(O){var C=v.filter(function(P){return!Q(P,u)});p==null||p(C,o)}else p==null||p(Qe(Qe([],v,!0),[u],!1),o)}}else p==null||p(u,o);s||((l=(c=t.props).onSelect)===null||l===void 0||l.call(c,u,o),t.setState({inputValue:null}))},t.setPreSelection=function(a){if(!t.props.readOnly){var o=at(t.props.minDate),s=at(t.props.maxDate),i=!0;if(a){var c=sn(a);if(o&&s)i=Et(a,t.props.minDate,t.props.maxDate);else if(o){var l=sn(t.props.minDate);i=xt(a,l)||Tt(c,l)}else if(s){var u=js(t.props.maxDate);i=Ke(a,u)||Tt(c,u)}}i&&t.setState({preSelection:a})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(a){var o,s;if(!(t.props.selectsRange||t.props.selectsMultiple)){var i=t.props.selected?t.props.selected:t.getPreSelection(),c=t.props.selected?a:wa(i,{hour:ot(a),minute:st(a)});t.setState({preSelection:c}),(s=(o=t.props).onChange)===null||s===void 0||s.call(o,c),t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var a,o;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(o=(a=t.props).onInputClick)===null||o===void 0||o.call(a)},t.onInputKeyDown=function(a){var o,s,i,c,l,u;(s=(o=t.props).onKeyDown)===null||s===void 0||s.call(o,a);var f=a.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(f===$.ArrowDown||f===$.ArrowUp||f===$.Enter)&&((i=t.onInputClick)===null||i===void 0||i.call(t));return}if(t.state.open){if(f===$.ArrowDown||f===$.ArrowUp){a.preventDefault();var p=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((c=t.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(p);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var g=J(t.state.preSelection);f===$.Enter?(a.preventDefault(),a.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===ka?(t.handleSelect(g,a),!t.props.shouldCloseOnSelect&&t.setPreSelection(g)):t.setOpen(!1)):f===$.Escape?(a.preventDefault(),a.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):f===$.Tab&&t.setOpen(!1),t.inputOk()||(u=(l=t.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:Da})}},t.onPortalKeyDown=function(a){var o=a.key;o===$.Escape&&(a.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(a){var o,s,i,c,l,u,f=t.props,p=f.minDate,h=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,m=f.shouldCloseOnSelect,v=f.locale,x=f.calendarStartDay,R=f.adjustDateOnChange,b=f.inline;if((s=(o=t.props).onKeyDown)===null||s===void 0||s.call(o,a),!g){var k=a.key,S=a.shiftKey,T=J(t.state.preSelection),O=function(N,_){var M=_;switch(N){case $.ArrowRight:M=y?Dn(_,1):Le(_,1);break;case $.ArrowLeft:M=y?Ds(_):Xg(_);break;case $.ArrowUp:M=Ds(_);break;case $.ArrowDown:M=Dn(_,1);break;case $.PageUp:M=S?nr(_,1):Ft(_,1);break;case $.PageDown:M=S?nt(_,1):Ye(_,1);break;case $.Home:M=wt(_,v,x);break;case $.End:M=Yv(_);break}return M},C=function(N,_){for(var M=40,D=N,I=!1,j=0,W=O(N,_);!I;){if(j>=M){W=_;break}p&&W<p&&(D=$.ArrowRight,W=Ie(p,t.props)?O(D,W):p),h&&W>h&&(D=$.ArrowLeft,W=Ie(h,t.props)?O(D,W):h),Ie(W,t.props)?((D===$.PageUp||D===$.Home)&&(D=$.ArrowRight),(D===$.PageDown||D===$.End)&&(D=$.ArrowLeft),W=O(D,W)):I=!0,j++}return W};if(k===$.Enter){a.preventDefault(),t.handleSelect(T,a),!m&&t.setPreSelection(T);return}else if(k===$.Escape){a.preventDefault(),t.setOpen(!1),t.inputOk()||(c=(i=t.props).onInputError)===null||c===void 0||c.call(i,{code:1,msg:Da});return}var P=null;switch(k){case $.ArrowLeft:case $.ArrowRight:case $.ArrowUp:case $.ArrowDown:case $.PageUp:case $.PageDown:case $.Home:case $.End:P=C(k,T);break}if(!P){(u=(l=t.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:Da});return}if(a.preventDefault(),t.setState({lastPreSelectChange:ka}),R&&t.setSelected(P),t.setPreSelection(P),b){var A=be(T),L=be(P),H=K(T),F=K(P);A!==L||H!==F?t.setState({shouldFocusDayInline:!0}):t.setState({shouldFocusDayInline:!1})}}},t.onPopperKeyDown=function(a){var o=a.key;o===$.Escape&&(a.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),t.sendFocusBackToInput();var o=t.props,s=o.selectsRange,i=o.onChange;s?i==null||i([null,null],a):i==null||i(null,a),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(a){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(a)&&t.setOpen(!1)},t.renderCalendar=function(){var a,o;return!t.props.inline&&!t.isCalendarOpen()?null:E.createElement(wy,G({showMonthYearDropdown:void 0,ref:function(s){t.calendar=s}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(a=t.props.dateFormatCalendar)!==null&&a!==void 0?a:n.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:Xv(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(o=t.props.dropdownMode)!==null&&o!==void 0?o:n.defaultProps.dropdownMode}),t.props.children)},t.renderAriaLiveRegion=function(){var a,o=t.props.locale,s=(a=t.props.dateFormat)!==null&&a!==void 0?a:n.defaultProps.dateFormat,i=t.props.showTimeInput||t.props.showTimeSelect,c=i?"PPPPp":"PPPP",l;return t.props.selectsRange?l="Selected start date: ".concat(Te(t.props.startDate,{dateFormat:c,locale:o}),". ").concat(t.props.endDate?"End date: "+Te(t.props.endDate,{dateFormat:c,locale:o}):""):t.props.showTimeSelectOnly?l="Selected time: ".concat(Te(t.props.selected,{dateFormat:s,locale:o})):t.props.showYearPicker?l="Selected year: ".concat(Te(t.props.selected,{dateFormat:"yyyy",locale:o})):t.props.showMonthYearPicker?l="Selected month: ".concat(Te(t.props.selected,{dateFormat:"MMMM yyyy",locale:o})):t.props.showQuarterYearPicker?l="Selected quarter: ".concat(Te(t.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):l="Selected date: ".concat(Te(t.props.selected,{dateFormat:c,locale:o})),E.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},l)},t.renderDateInput=function(){var a,o,s=ye(t.props.className,(a={},a[t.props.outsideClickIgnoreClass||n.defaultProps.outsideClickIgnoreClass]=t.state.open,a)),i=t.props.customInput||E.createElement("input",{type:"text"}),c=t.props.customInputRef||"ref";return w.cloneElement(i,(o={},o[c]=function(l){t.input=l},o.value=t.getInputValue(),o.onBlur=t.handleBlur,o.onChange=t.handleChange,o.onClick=t.onInputClick,o.onFocus=t.handleFocus,o.onKeyDown=t.onInputKeyDown,o.id=t.props.id,o.name=t.props.name,o.form=t.props.form,o.autoFocus=t.props.autoFocus,o.placeholder=t.props.placeholderText,o.disabled=t.props.disabled,o.autoComplete=t.props.autoComplete,o.className=ye(i.props.className,s),o.title=t.props.title,o.readOnly=t.props.readOnly,o.required=t.props.required,o.tabIndex=t.props.tabIndex,o["aria-describedby"]=t.props.ariaDescribedBy,o["aria-invalid"]=t.props.ariaInvalid,o["aria-labelledby"]=t.props.ariaLabelledBy,o["aria-required"]=t.props.ariaRequired,o))},t.renderClearButton=function(){var a=t.props,o=a.isClearable,s=a.disabled,i=a.selected,c=a.startDate,l=a.endDate,u=a.clearButtonTitle,f=a.clearButtonClassName,p=f===void 0?"":f,h=a.ariaLabelClose,g=h===void 0?"Close":h,y=a.selectedDates,m=a.readOnly;return o&&!m&&(i!=null||c!=null||l!=null||y!=null&&y.length)?E.createElement("button",{type:"button",className:ye("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:t.onClearClick,title:u,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:dl,readOnly:!1,rangeSeparator:ol,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nr,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(e,t){var a,o,s,i;e.inline&&_y(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Hs(this.props.highlightDates)}),!t.focused&&!Tt(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),t.open===!0&&this.state.open===!1&&((i=(s=this.props).onCalendarClose)===null||i===void 0||i.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,a=e.icon,o=e.calendarIconClassname,s=e.calendarIconClassName,i=e.toggleCalendarOnIconClick,c=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),E.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&E.createElement(by,G({icon:a,className:ye(s,!s&&o,c&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?E.createElement(pl,{enableTabLoop:this.props.enableTabLoop},E.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=E.createElement(fl,G({portalId:this.props.portalId},this.props),t)),E.createElement("div",null,this.renderInputContainer(),t)}return E.createElement(Sy,G({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(w.Component),Py="input",ka="navigate";function Ry(){const[r,n]=w.useState(null),[e,t]=w.useState(!1),a=w.useRef(null),[o,s]=w.useState(null);return d.jsx(d.Fragment,{children:d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsxs("div",{className:"padding-20 order-page",children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{className:"date-selection",children:[d.jsxs("div",{className:"left",children:[d.jsx("button",{className:"action",children:d.jsx("img",{src:Lh,alt:""})}),d.jsxs("div",{className:"data",children:[d.jsx("div",{className:"title",children:"Select Pickup Date & Time"}),d.jsx("div",{className:"date",children:"Date , Time"})]})]}),d.jsx("button",{className:"action",ref:a,type:"button",onClick:()=>t(i=>!i),children:d.jsx("img",{src:kr,alt:""})})]}),e&&d.jsx("div",{style:{position:"absolute",right:0,top:"100%",zIndex:1e3},children:d.jsx(Ey,{selected:r,onChange:i=>{n(i),t(!1)},showTimeSelect:!0,dateFormat:"Pp",inline:!0})})]}),d.jsx("h4",{className:"medium-title mb-12",children:"Pickup Address"}),d.jsx("p",{className:"body-text-med mb-20",children:"120 Lane San Fransisco , East Falmouth MA"}),d.jsx("div",{className:"map-container",children:d.jsx("img",{src:Yh,alt:""})}),d.jsx("div",{className:"hr mb-18"}),d.jsxs("button",{className:"add-address mb-20",children:[d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M3 9H15M9 15V9L9 3",stroke:"#3FC045",strokeWidth:"1.5",strokeLinecap:"round"})}),"Add New Address"]}),d.jsxs("div",{className:"other-payments-wrapper mb-20",children:[d.jsx("h2",{className:"title",children:"Other Payments acceptable to James Kitchen Kitchen"}),d.jsxs("div",{className:"item-flex",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"text",children:"PayPal to"}),d.jsx("a",{className:"email",children:"jamesPayPal00@gmail.com"})]}),d.jsxs("div",{className:"copy",children:[d.jsx(ds,{})," Copy"]})]}),d.jsxs("div",{className:"item-flex",children:[d.jsxs("div",{className:"left",children:[d.jsx("div",{className:"text",children:"Venmo to"}),d.jsx("a",{className:"email",children:"jamesVenmo00@gmail.com"})]}),d.jsxs("div",{className:"copy",children:[d.jsx(ds,{})," Copy"]})]})]}),d.jsxs("div",{className:"payment-method mb-20",children:[d.jsx("h5",{className:"medium-title mb-20",children:"Payment Details"}),d.jsx("div",{className:"hr mb-20"}),d.jsxs("div",{className:"item-flex",children:[d.jsx("span",{children:"Sales Tax (7.25%)"}),d.jsx("span",{children:"$6.00"})]}),d.jsxs("div",{className:"item-flex",children:[d.jsx("span",{children:"Service Fee (10%)"}),d.jsx("span",{children:"$6.00"})]}),d.jsxs("div",{className:"item-flex",children:[d.jsx("span",{children:"Grand Subtotal"}),d.jsx("span",{children:"$6.00"})]}),d.jsxs("div",{className:"item-flex",children:[d.jsx("span",{children:"Service Fee"}),d.jsx("span",{children:"$1.00"})]}),d.jsx("div",{className:"hr mb-12"}),d.jsxs("div",{className:"item-flex bold",children:[d.jsx("span",{children:"Total Payment"}),d.jsx("span",{children:"$19.00"})]})]}),d.jsx("p",{className:"body-text-med mb-3",children:"Upload payment confirmation screenshot"}),o&&d.jsx("div",{className:"upload-preview mb-12",children:d.jsx("img",{src:o,alt:"Payment confirmation preview",style:{width:"100%",maxHeight:220,objectFit:"cover",borderRadius:12}})}),d.jsx("div",{className:"upload-wrapper",children:d.jsxs("div",{className:"upload",children:["Upload",d.jsx("input",{type:"file",accept:"image/*",onChange:i=>{const c=i.target.files&&i.target.files[0];if(c){o&&URL.revokeObjectURL(o);const l=URL.createObjectURL(c);s(l)}}})]})}),d.jsx("button",{className:"action-button",children:"Place My Order"})]})})})})}const My="data:image/svg+xml,%3csvg%20width='173'%20height='162'%20viewBox='0%200%20173%20162'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='85.5'%20cy='93'%20r='67'%20fill='%23829F35'/%3e%3ccircle%20cx='166'%20cy='32.5'%20r='6.5'%20fill='%23829F35'/%3e%3cellipse%20cx='11'%20cy='10'%20rx='10.5'%20ry='10'%20fill='%23829F35'/%3e%3cellipse%20cx='5.5'%20cy='136.5'%20rx='5'%20ry='5.5'%20fill='%23829F35'/%3e%3cellipse%20cx='154'%20cy='160'%20rx='2.5'%20ry='2'%20fill='%23829F35'/%3e%3cpath%20d='M82.1976%20111C80.5838%20111%2078.9701%20110.393%2078.048%20109.179L65.138%2094.6121C63.2937%2092.5889%2063.7548%2089.7565%2066.0602%2088.1379C68.3655%2086.5193%2071.593%2086.924%2073.4373%2088.9472L82.1976%2098.8609L101.563%2076.808C103.407%2074.7848%20106.635%2074.3801%20108.94%2075.9987C111.245%2077.6173%20111.706%2080.4498%20109.862%2082.4729L86.3473%20109.179C85.1946%20110.191%2083.8114%20111%2082.1976%20111Z'%20fill='white'/%3e%3ccircle%20cx='114'%20cy='103.5'%20r='2.5'%20fill='white'/%3e%3ccircle%20cx='48.5'%20cy='76'%20r='4'%20fill='white'/%3e%3ccircle%20cx='107'%20cy='54.5'%20r='1.5'%20fill='white'/%3e%3ccircle%20cx='65.5'%20cy='125'%20r='2'%20fill='white'/%3e%3ccircle%20cx='87.5'%20cy='77'%20r='1'%20fill='white'/%3e%3c/svg%3e";function Oy(){return d.jsx("div",{className:"container",children:d.jsx("div",{className:"mobile-container",children:d.jsxs("div",{className:"padding-20 order-page",children:[d.jsxs("div",{className:"back-link-title",children:[d.jsx(Yt,{className:"back-link",children:d.jsx("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.94194 0.51631C8.18602 0.760388 8.18602 1.15612 7.94194 1.40019L2.34222 6.99992L7.94194 12.5996C8.18602 12.8437 8.18602 13.2394 7.94194 13.4835C7.69786 13.7276 7.30214 13.7276 7.05806 13.4835L1.01639 7.44186C0.772315 7.19778 0.772315 6.80205 1.01639 6.55798L7.05806 0.51631C7.30214 0.272233 7.69786 0.272233 7.94194 0.51631Z",fill:"#212226"})})}),d.jsx("div",{className:"title",children:"Payment Success"})]}),d.jsxs("div",{className:"success-image-wrapper",children:[d.jsx("img",{src:My,alt:"Success"}),d.jsxs("h2",{className:"title",children:["Your order has been ",d.jsx("br",{})," successfully placed"]}),d.jsxs("p",{className:"text mb-0",children:["Your orders is being worked on. Itâ€™ll take ",d.jsx("br",{})," 20-30 min to get ready for pick up."]})]}),d.jsx(Yt,{to:"/",className:"action-button",children:"Back to Home"})]})})})}function Ty(){const{user:r,initializing:n}=uo(),e=Qa();return n?d.jsx("div",{className:"d-flex vh-100 align-items-center justify-content-center",children:"Loading..."}):r?d.jsx(xl,{}):d.jsx(bl,{to:"/login",replace:!0,state:{from:e}})}function Ny(){return d.jsxs(Dl,{children:[d.jsx(Oe,{path:"/",element:d.jsx(Th,{})}),d.jsx(Oe,{path:"/foods",element:d.jsx(cs,{})}),d.jsx(Oe,{path:"/foods/:kitchenId",element:d.jsx(cs,{})}),d.jsx(Oe,{path:"/share",element:d.jsx(us,{})}),d.jsx(Oe,{path:"/share/",element:d.jsx(us,{})}),d.jsx(Oe,{path:"/order",element:d.jsx(Fh,{})}),d.jsx(Oe,{path:"/checkout",element:d.jsx(Ry,{})}),d.jsx(Oe,{path:"/success",element:d.jsx(Oy,{})}),d.jsx(Oe,{path:"/login",element:d.jsx(Dh,{})}),d.jsx(Oe,{path:"/wechat/callback",element:d.jsx(kh,{})}),d.jsx(Oe,{element:d.jsx(Ty,{}),children:d.jsx(Oe,{path:"/home",element:d.jsx(xh,{})})})]})}const Iy=()=>{const r=Kt(),n=je(o=>o.auth),[e,t]=w.useState(window.innerWidth<768);w.useEffect(()=>{const o=()=>{t(window.innerWidth<768)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const a=()=>{r(Li())};return e?null:d.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"#f8f9fa",padding:"15px",border:"2px solid #dee2e6",borderRadius:"8px",fontSize:"12px",fontFamily:"monospace",zIndex:9999,maxWidth:"300px"},children:[d.jsx("h6",{style:{margin:"0 0 10px 0",fontSize:"14px"},children:"ðŸ” Auth Debug Panel"}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("strong",{children:"Is Authenticated:"})," ",d.jsx("span",{style:{color:n.isAuthenticated?"green":"red"},children:n.isAuthenticated?"âœ… YES":"âŒ NO"})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("strong",{children:"Auth Status:"})," ",d.jsx("span",{style:{color:n.loading?"orange":"gray"},children:n.loading?"ï¿½ LOADING":"READY"})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("strong",{children:"User:"})," ",n.user?d.jsx("span",{style:{color:"green"},children:n.user.nickname||n.user.openid||"WeChat User"}):d.jsx("span",{style:{color:"red"},children:"None"})]}),n.error&&d.jsxs("div",{style:{marginBottom:"10px",color:"red"},children:[d.jsx("strong",{children:"Error:"})," ",n.error]}),n.isAuthenticated&&d.jsx("button",{onClick:a,style:{padding:"5px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"ðŸ”“ Logout"}),d.jsx("div",{style:{marginTop:"10px",fontSize:"10px",color:"#6c757d"},children:"WeChat Authentication System"})]})};li(document.getElementById("root")).render(d.jsx(E.StrictMode,{children:d.jsx(ou,{store:vc,children:d.jsx(hi,{loading:d.jsx("div",{children:"Loading..."}),persistor:yc,children:d.jsx(kl,{children:d.jsxs(bh,{children:[d.jsx(Ny,{}),d.jsx(Iy,{}),d.jsx(rd,{position:"top-center",reverseOrder:!1,gutter:8,toastOptions:{duration:4e3,style:{background:"#fff",color:"#333",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #e0e0e0"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})})}));
